(function(){var e={445:function(){HTMLCanvasElement.prototype.toBlob||Object.defineProperty(HTMLCanvasElement.prototype,"toBlob",{value:function(e,t,n){for(var r=atob(this.toDataURL(t,n).split(",")[1]),a=r.length,i=a>>2,s=new Uint8Array(a),o=new Uint32Array(s.buffer,0,i),c=0,u=0;c<i;c++)o[c]=r.charCodeAt(u++)|r.charCodeAt(u++)<<8|r.charCodeAt(u++)<<16|r.charCodeAt(u++)<<24;for(var l=3&a;l--;)s[u]=r.charCodeAt(u++);e(new Blob([s],{type:t||"image/png"}))}})},592:function(e,t,n){"use strict";n.d(t,{J:function(){return R},Z:function(){return N}});var r=n(37),a=n(199),i=n.n(a),s=n(48),o=n.n(s),c=n(49),u=n.n(c),l=n(26),d=n.n(l),h=n(79),p=n(127),f=n.n(p),m=function(e){return function(t){t.preventDefault();var n=document.getElementById("popup-add-shortcut");null==n||n.remove(),e()}},g=function(e){var t=document.createElement("div");return t.innerHTML=f()(e).call(e),t.firstChild},v=function(){var e=(0,r.Z)(d().mark((function e(t,n){var r,a,i;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=g('<div style="height: 50vh;width: 53vh;max-width: 95vw;position:absolute;background-color: rgba(31, 120, 136, 0.48);border-radius: 2vh;margin: auto;right: 0;left: 0;top: 0;bottom: 0;display: flex;flex-direction:column;justify-content:space-evenly;">\n            <p style="color:white;font-size:40px;text-align:center">Add shortcut for this game</p>\n            <p style="color:white;font-size:20px;text-align:center">This game wants to add a shortcut.</p>\n        </div>'),a=g('<button style="border: none;background-color: #1877f2;color: #fff;width: 90%;height: 50px;border-radius: 15px;margin-left: auto;margin-right: auto;font-size: 20px;cursor: pointer;">No</button>'),i=g('<button style="border: none;background-color: #1877f2;color: #fff;width: 90%;height: 50px;border-radius: 15px;margin-left: auto;margin-right: auto;font-size: 20px;cursor: pointer;">Yes</button>'),r&&a&&i||n({code:"CREATE_POPUP_ERROR",message:"Show popup failed"}),r.id="popup-add-shortcut",r.appendChild(a),r.appendChild(i),document.body.appendChild(r),a.addEventListener("click",m(n)),i.addEventListener("click",m(t));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),y=function(){function e(){this.isFirstCall=!0}var t=e.prototype;return t.canCreateShortcutAsync=function(){var e=(0,r.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isFirstCall){e.next=3;break}return this.isFirstCall=!1,e.abrupt("return",!0);case 3:return e.abrupt("return",!1);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.createShortcutAsync=function(){var e=(0,r.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new(o())((function(e,t){v(e,t)})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e}(),k=y,b=function(e){return function(t){t.preventDefault();var n=document.getElementById("popup-subscribe-bots");null==n||n.remove(),e()}},E=function(e){var t=document.createElement("div");return t.innerHTML=f()(e).call(e),t.firstChild},x=function(){var e=(0,r.Z)(d().mark((function e(t,n){var r,a,i;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=E('<div style="height: 50vh;width: 53vh;max-width: 95vw;position:absolute;background-color: rgba(31, 120, 136, 0.48);border-radius: 2vh;margin: auto;right: 0;left: 0;top: 0;bottom: 0;display: flex;flex-direction:column;justify-content:space-evenly;">\n            <p style="color:white;font-size:40px;text-align:center">Turn on messages from this game</p>\n            <p style="color:white;font-size:20px;text-align:center">This game wants to send messages, announcements and more.</p>\n        </div>'),a=E('<button style="border: none;background-color: #1877f2;color: #fff;width: 90%;height: 50px;border-radius: 15px;margin-left: auto;margin-right: auto;font-size: 20px;cursor: pointer;">Not Now</button>'),i=E('<button style="border: none;background-color: #1877f2;color: #fff;width: 90%;height: 50px;border-radius: 15px;margin-left: auto;margin-right: auto;font-size: 20px;cursor: pointer;">Turn On</button>'),r&&a&&i||n({code:"CREATE_POPUP_ERROR",message:"Show popup failed"}),r.id="popup-subscribe-bots",r.appendChild(a),r.appendChild(i),document.body.appendChild(r),a.addEventListener("click",b(n)),i.addEventListener("click",b(t));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),S=function(){function e(){this.isFirstCall=!0}var t=e.prototype;return t.canSubscribeBotAsync=function(){var e=(0,r.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isFirstCall){e.next=3;break}return this.isFirstCall=!1,e.abrupt("return",!0);case 3:return e.abrupt("return",!1);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.subscribeBotAsync=function(){var e=(0,r.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new(o())((function(e,t){x(e,t)})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e}(),w=S,A=n(424),C=n(118),T=n(610),L=n(425),I=GameCore.Configs,P=I.Notification,_=I.AddShortcut,B=I.SubscribeBot,O=P.GameTitle,R=(P.GameImage,function(){function e(){}var t=e.prototype;return t.createAsync=function(){var e=(0,r.Z)(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,GameSDK.tournament.createAsync(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.shareAsync=function(){var e=(0,r.Z)(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,GameSDK.tournament.shareAsync(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.joinAsync=function(){var e=(0,r.Z)(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,GameSDK.tournament.joinAsync(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.postScoreAsync=function(){var e=(0,r.Z)(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,GameSDK.tournament.postScoreAsync(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.getTournamentsAsync=function(){var e=(0,r.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,GameSDK.tournament.getTournamentsAsync();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e}()),M=function(){function e(e){var t=this;this.facebook=void 0,this.supportedAPIs=[],this.mockSubscribeBot=void 0,this.mockAddShortcut=void 0,this.isCalledSubscribeBot=!1,this.isCalledCreateShortcut=!1,this.isCanPlayerMatch=null,this.isCanSubscribeBot=null,this.isCanCreateShortcut=null,this.attemptToAddShortcut=(0,r.Z)(d().mark((function e(){var n,r,a,i,s,o;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.isCalledCreateShortcut){e.next=2;break}return e.abrupt("return",!1);case 2:if(e.prev=2,null===t.isCanCreateShortcut&&(_.UseMock?t.isCanCreateShortcut=!0:t.isCanCreateShortcut=t.isSupportedAPI("canCreateShortcutAsync")),t.isCanCreateShortcut){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,GameSDK.player.getDataAsync(["lastCallCreateShortcut"]);case 8:if(e.t0=e.sent,e.t0){e.next=11;break}e.t0={};case 11:if(n=e.t0,!(r=n.lastCallCreateShortcut||0)||!(0,C.Gm)(+r)){e.next=15;break}return e.abrupt("return",!1);case 15:if(!_.UseMock){e.next=21;break}return e.next=18,t.mockAddShortcut.canCreateShortcutAsync();case 18:e.t1=e.sent,e.next=24;break;case 21:return e.next=23,GameSDK.canCreateShortcutAsync();case 23:e.t1=e.sent;case 24:if(a=e.t1,i=Date.now(),GameSDK.player.setDataAsync({lastCallCreateShortcut:i}),!a){e.next=49;break}return s=h._.SHORTCUT_CREATE,o=h._.SHORTCUT_CREATE_POPUP,t.isCalledCreateShortcut=!0,window.game.analytics.event(o),e.prev=31,e.next=34,GameCore.Utils.Valid.isValueChangeAsync(window.__fbGameReady,!0);case 34:if(!_.UseMock){e.next=39;break}return e.next=37,t.mockAddShortcut.createShortcutAsync();case 37:e.next=41;break;case 39:return e.next=41,FBInstant.createShortcutAsync();case 41:return window.game.analytics.event(s,{success:!0}),e.abrupt("return",!0);case 45:return e.prev=45,e.t2=e.catch(31),window.game.analytics.event(s,{success:!1}),e.abrupt("return",!1);case 49:return e.abrupt("return",!1);case 52:return e.prev=52,e.t3=e.catch(2),e.abrupt("return",!1);case 55:case"end":return e.stop()}}),e,null,[[2,52],[31,45]])}))),this.attemptToSubscribeBot=(0,r.Z)(d().mark((function e(){var n,r,a,i,s;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.isCalledSubscribeBot){e.next=2;break}return e.abrupt("return",!1);case 2:if(e.prev=2,null===t.isCanSubscribeBot&&(B.UseMock?t.isCanSubscribeBot=!0:t.isCanSubscribeBot=t.isSupportedAPI("player.canSubscribeBotAsync")),t.isCanSubscribeBot){e.next=6;break}return e.abrupt("return",!1);case 6:if(!B.UseMock){e.next=12;break}return e.next=9,t.mockSubscribeBot.canSubscribeBotAsync();case 9:e.t0=e.sent,e.next=15;break;case 12:return e.next=14,GameSDK.player.canSubscribeBotAsync();case 14:e.t0=e.sent;case 15:if(!e.t0){e.next=49;break}return e.next=19,GameSDK.player.getDataAsync(["lastCallSubscribeBot"]);case 19:if(e.t1=e.sent,e.t1){e.next=22;break}e.t1={};case 22:if(n=e.t1,!(r=n.lastCallSubscribeBot)||!(0,C.Gm)(+r)){e.next=26;break}return e.abrupt("return",!1);case 26:return a=Date.now(),GameSDK.player.setDataAsync({lastCallSubscribeBot:a}),i=h._.BOT_SUBSCRIBE,s=h._.BOT_SUBSCRIBE_POPUP,t.isCalledSubscribeBot=!0,window.game.analytics.event(s),e.prev=31,e.next=34,GameCore.Utils.Valid.isValueChangeAsync(window.__fbGameReady,!0);case 34:if(!B.UseMock){e.next=39;break}return e.next=37,t.mockSubscribeBot.subscribeBotAsync();case 37:e.next=41;break;case 39:return e.next=41,GameSDK.player.subscribeBotAsync();case 41:return window.game.analytics.event(i,{success:!0}),e.abrupt("return",!0);case 45:return e.prev=45,e.t2=e.catch(31),window.game.analytics.event(i,{success:!1}),e.abrupt("return",!1);case 49:return e.abrupt("return",!1);case 52:return e.prev=52,e.t3=e.catch(2),e.abrupt("return",!1);case 55:case"end":return e.stop()}}),e,null,[[2,52],[31,45]])}))),this.matchPlayerAsync=function(){var e=(0,r.Z)(d().mark((function e(n,r,a){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,null===t.isCanPlayerMatch&&(t.isCanPlayerMatch=t.isSupportedAPI("checkCanPlayerMatchAsync")),t.isCanPlayerMatch){e.next=4;break}return e.abrupt("return",!1);case 4:return e.next=6,GameSDK.checkCanPlayerMatchAsync();case 6:if(e.sent){e.next=9;break}return e.abrupt("return",!1);case 9:return e.next=11,GameSDK.matchPlayerAsync(n,r,a);case 11:return e.abrupt("return",!0);case 14:return e.prev=14,e.t0=e.catch(0),e.abrupt("return",!1);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t,n,r){return e.apply(this,arguments)}}(),this.getTournamentAsync=(0,r.Z)(d().mark((function e(){var n,r,a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.facebook.tournament.getTournamentsAsync();case 2:if(n=e.sent,r=GameSDK.context.getID(),!(a=i()(n).call(n,(function(e){return e.getContextID()===r})))){e.next=7;break}return e.abrupt("return",o().resolve(a));case 7:return e.abrupt("return",o().reject(new T.Z(null)));case 8:case"end":return e.stop()}}),e)}))),this.requestTournamentAsync=function(){var e=(0,r.Z)(d().mark((function e(n){var r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.facebook.getTournamentAsync();case 3:return e.next=5,t.facebook.tournament.shareAsync({score:n});case 5:e.next=12;break;case 7:return e.prev=7,e.t0=e.catch(0),r=GameSDK.player.getName(),e.next=12,t.facebook.tournament.createAsync({initialScore:n,config:{tournamentTitle:r+"'s Tournament"}});case 12:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),this.isSupportedAPI=function(e){var n;return 0===t.supportedAPIs.length&&(t.supportedAPIs=GameSDK.getSupportedAPIs()),u()(n=t.supportedAPIs).call(n,e)},this.facebook=e,this.mockSubscribeBot=new w,this.mockAddShortcut=new k}var t=e.prototype;return t.switchAsync=function(){var e=(0,r.Z)(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,GameCore.Utils.Valid.isValueChangeAsync(window.__fbGameReady,!0);case 2:return e.next=4,GameSDK.context.switchAsync(t);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.chooseAsync=function(){var e=(0,r.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,GameCore.Utils.Valid.isValueChangeAsync(window.__fbGameReady,!0);case 3:return e.next=5,GameSDK.context.chooseAsync({filters:["INCLUDE_EXISTING_CHALLENGES"],minSize:2,maxSize:2});case 5:case 15:return e.abrupt("return",GameSDK.context.getID());case 8:if(e.prev=8,e.t0=e.catch(0),!(e.t0 instanceof Object&&GameCore.Utils.Object.hasOwn(e.t0,"code"))){e.next=16;break}e.t1=e.t0.code,e.next="USER_INPUT"===e.t1?14:"SAME_CONTEXT"===e.t1?15:16;break;case 14:return e.abrupt("return",!1);case 16:return e.abrupt("return",null);case 17:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),t.createAsync=function(){var e=(0,r.Z)(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,GameCore.Utils.Valid.isValueChangeAsync(window.__fbGameReady,!0);case 3:return e.next=5,GameSDK.context.createAsync(""+t);case 5:case 15:return e.abrupt("return",GameSDK.context.getID());case 8:if(e.prev=8,e.t0=e.catch(0),!(e.t0 instanceof Object&&GameCore.Utils.Object.hasOwn(e.t0,"code"))){e.next=16;break}e.t1=e.t0.code,e.next="USER_INPUT"===e.t1?14:"SAME_CONTEXT"===e.t1?15:16;break;case 14:return e.abrupt("return",!1);case 16:return e.abrupt("return",null);case 17:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),t.getPlayerToken=function(){var e=(0,r.Z)(d().mark((function e(){var t;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,GameSDK.player.getSignedPlayerInfoAsync();case 2:return t=e.sent,e.abrupt("return",t.getSignature());case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t.getContextPlayers=function(){var e=(0,r.Z)(d().mark((function e(t){var n,r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,GameSDK.context.getPlayersAsync();case 3:return n=e.sent,r=[],n.forEach((function(e){var n=e.getID();if(n!==t){var a=e.getName();if(a){var i=e.getPhoto();r.push(new A.Z(n,a,i).toObject())}}})),e.abrupt("return",GameCore.Utils.Array.unique(r));case 9:return e.prev=9,e.t0=e.catch(0),console.warn("getPlayersAsync",{error:e.t0}),e.abrupt("return",[]);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),t.shareAsync=function(){var e=(0,r.Z)(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,GameSDK.shareAsync(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.sendMessage=function(){var e=(0,r.Z)(d().mark((function e(t){var n,r,a,i,s,o;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.data,r=t.image,a=t.template,i=t.cta,s=t.text,o={data:n,image:r,action:"CUSTOM",template:a,cta:i,text:s,strategy:"IMMEDIATE",notification:"PUSH"},e.next=4,GameSDK.updateAsync(o);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.inviteAsync=function(){var e=(0,r.Z)(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,GameSDK.inviteAsync(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.postSessionScoreAsync=function(){var e=(0,r.Z)(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,GameSDK.postSessionScoreAsync(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.getRewardedVideoAsync=function(){var e=(0,r.Z)(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,GameSDK.getRewardedVideoAsync(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.getInterstitialAdAsync=function(){var e=(0,r.Z)(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,GameSDK.getInterstitialAdAsync(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.getContextID=function(){return GameSDK.context.getID()},t.setLoadingProgress=function(e){GameSDK.setLoadingProgress(e)},t.getLocale=function(){return GameSDK.getLocale()||"en"},t.injectTournament=function(){var e=(0,r.Z)(d().mark((function e(){var t,r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!GameCore.Configs.Tournament.UseMock){e.next=11;break}return e.next=4,n.e(302).then(n.bind(n,606));case 4:t=e.sent.default,r=new t,this.facebook.tournament=r,GameSDK.getTournamentAsync=this.getTournamentAsync,GameSDK.tournament=r,e.next=12;break;case 11:this.facebook.tournament=new R;case 12:this.facebook.getTournamentAsync=function(){return FBInstant.getTournamentAsync()},this.facebook.requestTournamentAsync=this.requestTournamentAsync;case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.sendNotificationAsync=function(){var e=(0,r.Z)(d().mark((function e(t){var n,r,a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("\ud83e\udd16 ? sendNotificationAsync",t),n=t.message,r=t.delayTime,a=t.type,e.next=5,FBInstant.scheduleNotificationAsync({title:O,minDelayInSeconds:r,description:n,type:null!=a?a:L.Z.GENERIC_NOTIFICATION});case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("\ud83e\udd16 ? sendNotificationAsync",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),e}(),N=M},446:function(e,t,n){"use strict";var r=n(123),a=n.n(r),i=n(62),s=n.n(i),o=function(e,t){return void 0===t&&(t=1),a()({length:Math.ceil(e.length/t)},(function(n,r){return s()(e).call(e,r*t,r*t+t)}))},c=n(197),u=n.n(c),l=n(49),d=n.n(l),h=function(e,t){return u()(e).call(e,(function(e){return!d()(t).call(t,e)}))},p=function(e){for(var t=e.length-1;t>0;t--){var n=Math.floor(Math.random()*(t+1)),r=[e[n],e[t]];e[t]=r[0],e[n]=r[1]}},f=n(94),m=n.n(f),g=function(e,t,n){return m()(n).call(n,e)===t&&null!==e&&void 0!==e},v=function(e){return u()(e).call(e,g)},y={chunk:o,difference:h,shuffle:p,unique:v},k=n(95),b=n.n(k),E=n(264),x=n.n(E),S=x()((function(e,t){if("string"===typeof e){var n=t[e.toLowerCase()];if("string"===typeof n)return n}return"?"})),w=x()((function(e){for(var t=null,n=[],r=/:([A-Z0-9?]+)/gm;null!==(t=r.exec(e));)n.push(t[1]);return n})),A=x()((function(e){for(var t=null,n=[],r=/([0-9]+[A-Z?]{1}|[A-Z?]{1})/gm;null!==(t=r.exec(e));){var a=t[0];if(a.length>=2){var i,o=a.length,c=s()(a).call(a,0,o-1),u=a[o-1],l=b()(i=new Array(+c)).call(i,u);n.push.apply(n,l)}else n.push(a)}return n})),C=function(e,t){var n=e,r=GameCore.Utils.Object.invert(t),a={},i=0,s=0;return w(n).forEach((function(e){i=0,s++,a[s]||(a[s]={}),A(e).forEach((function(e){i++,a[s][i]=S(e,r)}))})),a},T=x()((function(e,t){var n=t[e];return"string"===typeof n?""+n.toUpperCase():"?"})),L=function e(t,n,r){void 0===r&&(r=!1);var a="";if(!GameCore.Utils.Valid.isObject(t))return a;var i="",o=1;for(var c in t)if(GameCore.Utils.Object.hasOwn(t,c)){var u=t[c];if(GameCore.Utils.Valid.isObject(u))a+=":"+e(u,n,!0);else if(GameCore.Utils.Valid.isString(u)){var l=T(u,n);l===i?(o++,a=s()(a).call(a,0,-2)):o=1,a+=""+o+l,i=l}}return a=a.replace(/1([A-Z])/g,"$1")},I=function(e){try{return atob(e)}catch(t){return""}},P={decodeMap:C,encodeMap:L,hashToString:I,stringToHash:function(e){try{return btoa(e)}catch(t){return""}}},_=function(e){try{return JSON.parse(e)}catch(t){return null}},B=n(63),O=n.n(B),R=function(e){try{return O()(e,null,0)}catch(t){return""}},M=function(e){return _(R(e))},N={clone:M,decode:_,encode:R},D=function(e){var t="object"===typeof e||"function"===typeof e,n=Array.isArray(e);return null!==e&&t&&!n},F=function(e){return void 0===e||null===e},G=function e(t){if(!D(t))return t;for(var n in t){F(t[n])&&delete t[n];var r=t[n];D(r)&&(t[n]=e(r))}return t},Z=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},U=n(93),K=n.n(U),H=function(e){var t={};return K()(e).forEach((function(n){if(Z(e,n)){var r=e[n];"string"===typeof r&&(t[r]=n)}})),t},W=function(e,t){if(!Array.isArray(e))return{};var n={};return e.forEach((function(e){if(Z(e,t)){var r=e[t];"string"===typeof r&&(n[r]=e)}})),n},V={clear:G,hasOwn:Z,invert:H,keyBy:W},Y=function(e){return e?e[0].toUpperCase()+s()(e).call(e,1).toLowerCase():e},z=function(e){var t=0;if(0==e.length)return t;for(var n=0;n<e.length;n++){t=(t<<5)-t+e.charCodeAt(n),t&=t}return t},j=n(96),X=n.n(j),q=function(e){var t;return X()(t=K()(e)).call(t,(function(t,n){var r=e[n];return void 0!==r&&t.push(n+"="+r),t}),[]).join("&")},Q=function(e){void 0===e&&(e="0x");for(var t=e,n=0;n<6;n++)t+="0123456789ABCDEF"[Math.floor(16*Math.random())];return t},J=n(419),$=function(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[\u0111\u0110]/g,(function(e){return"\u0111"===e?"d":"D"}))},ee=n(80),te=n.n(ee),ne=n(466),re=n.n(ne),ae=function(e,t){var n,r=e.split(" "),a=(r.length<=1?te()(n=[]).call(n,r):[r[0],r.pop()]).join(" "),i=re()(a).call(a," ")||0,s=i>=0?i:t;return(a.length>t?a.substring(0,s):a).substring(0,t)},ie=n(271),se=n.n(ie),oe=function(e){void 0===e&&(e=16);var t=function(t){return Math.floor(t).toString(e)};return t(Date.now()/1e3)+se()(" ").call(" ",e).replace(/./g,(function(){return t(Math.random()*e)}))},ce={capitalize:Y,hashCode:z,params:q,toCamelCase:function(e){var t=e.replace(/[-_\s.]+(.)?/g,(function(e,t){return t?t.toUpperCase():""}));return t.substr(0,1).toLowerCase()+t.substr(1)},toUpperCamelCase:function(e){var t=e.replace(/[-_\s.]+(.)?/g,(function(e,t){return t?t.toUpperCase():""}));return t.substr(0,1).toUpperCase()+t.substr(1)},randomColor:Q,random:J.Z,removeDiacritics:$,getShortName:ae,generateObjectId:oe},ue=function(e){return"boolean"===typeof e},le=function(){return!0},de=function(e){return"function"===typeof e},he=function(e){return"number"===typeof e},pe=function(e){var t;return m()(t=["string","number","symbol"]).call(t,typeof e)>-1},fe=function(e){return"string"===typeof e},me=n(48),ge=n.n(me),ve=function(e,t,n){var r=n||{},a=r.timeout,i=void 0===a?1e3:a,s=r.checkInterval,o=void 0===s?100:s;return new(ge())((function(n){var r=setInterval((function(){("function"===typeof e?e():e)===("function"===typeof t?t():t)&&(clearInterval(r),n(!0))}),o);i>0&&setTimeout((function(){clearInterval(r),n(!1)}),i)}))},ye={isBoolean:ue,isDebugger:le,isFunction:de,isNumber:he,isObject:D,isPropertyKey:pe,isString:fe,isValueChangeAsync:ve},ke=function(e){var t=e.scene,n=e.key,r=e.newKey,a=t.textures.get(n).getSourceImage();if(!a)return!1;var i=Math.min(a.width,a.height);r||t.textures.removeKey(n);var s=t.textures.createCanvas(r||n,i,i),o=s.context;return o.beginPath(),o.arc(i/2,i/2,i/2,0,2*Math.PI,!1),o.clip(),s.draw((a.width-i)/2,(a.height-i)/2,a),!0},be=function(e){var t=e.scene,n=e.key,r=e.newKey,a=e.radius,i=e.width,s=e.height,o=t.textures.get(n).getSourceImage();if(!o)return!1;i||(i=o.width),s||(s=o.height),r||t.textures.removeKey(n);var c=t.textures.createCanvas(r||n,i,s),u=c.context,l=Math.min(i,s)/100*a/2;return u.beginPath(),u.moveTo(0+l,0),u.lineTo(0+i-l,0),u.quadraticCurveTo(0+i,0,0+i,0+l),u.lineTo(0+i,0+s-l),u.quadraticCurveTo(0+i,0+s,0+i-l,0+s),u.lineTo(0+l,0+s),u.quadraticCurveTo(0,0+s,0,0+s-l),u.lineTo(0,0+l),u.quadraticCurveTo(0,0,0+l,0),u.closePath(),u.clip(),c.draw(0,0,o),!0},Ee=function(){return GameCore.Utils.Device.isDesktop()||GameCore.Utils.Device.pixelRatio()>1?2:1},xe=function(e,t){var n=e.split(","),r=n[0].match(/:(.*?);/);if(!r)return null;for(var a=r[1],i=atob(n[n.length-1]),s=i.length,o=new Uint8Array(s);s--;)o[s]=i.charCodeAt(s);return new File([o],t,{type:a})},Se=n(207),we=n.n(Se),Ae=new Image,Ce=function(e,t){return void 0===t&&(t=!0),new(ge())((function(n){t&&(Ae=new Image),Ae.onload=function(){n(Ae)},Ae.onerror=function(){n(null)},Ae.src=we().createObjectURL(e)}))},Te=n(37),Le=n(26),Ie=n.n(Le),Pe=function(){var e=(0,Te.Z)(Ie().mark((function e(t,n){var r;return Ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t).then((function(e){return e.blob()})).catch((function(){return null}));case 2:if(r=e.sent){e.next=5;break}return e.abrupt("return",null);case 5:return e.abrupt("return",new File([r],n));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),_e=function(e){if(m()(e).call(e,".")<0)return e;for(var t=e.length-1;t>=0;t--){if("."==e[t])return e.substring(0,t);if("0"!=e[t])return e.substring(0,t+1)}return e},Be=function(e,t){var n=t||{},r=n.fractionalDigits,a=void 0===r?0:r,i=n.startAbbreviate,s=void 0===i?1e3:i,o=n.abbreviateStep,c=void 0===o?3:o,u=n.maxLength,l=void 0===u?-1:u,d=n.removeLastZero,h=void 0===d||d,p=n.suffixes,f=void 0===p?["","k","m","b","t","q"]:p,m=-1===l?99999999:l;if(e>=s){var g=Math.floor(e/Math.pow(10,c)),v=Math.floor((g.toString().length-1)/c)+1,y=(e/Math.pow(Math.pow(10,c),v)).toFixed(a),k=m-f[v].length,b=y.substring(0,k);return(h?_e(b):b)+f[v]}var E=e.toFixed(a),x=m-f[0].length,S=E.substring(0,x);return h?_e(S):S+f[0]},Oe=function(e,t,n){void 0===n&&(n="0");for(var r=e.toString(),a=r.length,i=0;i<t-a;i++)r+=n;return r},Re=function(e,t){var n=t?Math.random()>.5?1:-1:1;return Math.floor(Math.random()*e)*n},Me={Array:y,Hash:P,Json:N,Object:V,String:ce,Valid:ye,Image:{drawCircle:ke,drawBorder:be,getImageScale:Ee,base64ToFile:xe,blobToHtmlImage:Ce,blobUrlToFile:Pe},Number:{toAbbreviatedString:Be,padStart:n(420).Z,padEnd:Oe,random:Re},Device:{isDesktop:function(){return!/Android|iPhone|iPad|iPod/i.test(navigator.userAgent)},isMobile:function(){return/Android|iPhone|iPad|iPod/i.test(navigator.userAgent)},isAndroid:function(){return window.__fbPlatform?"ANDROID"===window.__fbPlatform:/Android/i.test(navigator.userAgent)},isIOS:function(){return window.__fbPlatform?"IOS"===window.__fbPlatform:/iPhone|iPad|iPod/i.test(navigator.userAgent)},isMobileWeb:function(){return window.__fbPlatform?"MOBILE_WEB"===window.__fbPlatform:/mobile/i.test(navigator.userAgent)},pixelRatio:function(){return Math.round(window.devicePixelRatio)||1}},Time:{isToday:function(e){var t=new Date(e),n=new Date;return t.getDate()===n.getDate()&&t.getMonth()===n.getMonth()&&t.getFullYear()===n.getFullYear()},sleepAsync:function(e){return new(ge())((function(t){return setTimeout(t,e)}))}}},Ne=n(78),De=n(117),Fe={AppId:"1485269139041031",Ads:{CalculateSafeAreaBottom:!0,EnableRewardVideoResetInterstitial:!1,Mockup:{Enable:!1,ErrorRate:5,GiphyApiKey:""},InterstitialAdOptions:{pID:"",showWhenStartGame:!1,secondsFirstTime:30,secondsBetweenAds:30},RewardAdOptions:{pID:"",secondsFirstTime:0,secondsBetweenAds:0},BannerAdOptions:[{placementId:"123",position:"bottom",bannerWidth:320,bannerHeight:50,platform:"MOBILE",secondsReload:60},{placementId:"456",position:"right",bannerWidth:160,bannerHeight:600,platform:"DESKTOP",secondsReload:60}],Enabled:!0}},Ge={ENV:"production",AppId:"tile-adventure",ApiHost:"https://fbig-singleplay-apps.citigo.site",OtherHost:"https://fbig-leaderboards.citigo.site",Notification:{Enable:!0},LeadersBoard:{Prefix:"leaderboards"},Debugger:{ShowConsole:!1,ShowInspector:!1,ShowMonitoring:!1},Statistics:{Enable:!1,ShowFPSInGame:!1,ShowMemoryInGame:!1},Ads:{Enabled:!0,Mockup:{Enable:!1},BannerAdOptions:[{placementId:"456",position:"right",bannerWidth:160,bannerHeight:600,platform:"DESKTOP",secondsReload:60}],AdServiceConfigs:{Google:{DataAdClient:"ca-pub-2993382360222769",DataAdChannel:"4531433721"}}},Rollbar:{Enable:!0}},Ze={ENV:"development",AppId:"",ApiHost:"https://fbig-singleplay-apps-dev.sunstudio.io",OtherHost:"https://leaderboards-dev.sunstudio.io",Level:{url:"./assets/compressed-levels/",maxLevel:1e4,alwaysLoadNew:!1,retryCount:3,retryDelay:2e3,step:50,wisdomPerLevel:30},SyncProfileFromAPI:!1,Notification:{Enable:!0,DisableSendNotification:!1,ApiUrl:"https://notifications.sunstudio.io",GameTitle:"Tile Adventure",GameImage:"https://sunstudio.io/images/logo.png",DailyNotificationMessages:{MONDAY:"Start fresh and match 3 tiles to keep your rack clear! You've got this! \ud83e\udde0",TUESDAY:"Another day, another challenge! Shuffle the board and get matching! \ud83d\udd04",WEDNESDAY:"Got a strategy? Clear the board before the rack fills up! \ud83d\udca1",THURSDAY:"Don't let the tiles pile up\u2014log in and match your way to a clear rack! \ud83c\udfc6",FRIDAY:"It's almost the weekend! Match, shuffle, and keep your winning streak alive! \ud83d\udd25",SATURDAY:"Weekend fun\u2014shuffle the board and make the perfect match today! \ud83c\udf00",SUNDAY:"End your week with some tile-matching fun! Keep your rack clear to win! \ud83c\udfae"}},AddShortcut:{UseMock:!1},SubscribeBot:{UseMock:!1},PlayerMock:{id:"",signature:""},OpponentMock:{id:"",signature:""},MatchMockFailRate:5,Gameplay:{StartLevel:1,StartScore:0,StartDiamonds:0,DefaultDiamondsForNewUser:300,LevelDifficultRate:{FromUnder30:1.07,FromUnder35:1.05,FromUnder45:1.05,FromUnder200:1.1},StartAdAtLevel:2,GiftTime:10800,AwardDiamonds:100,FreeItems:!1,DelayStart:2e3,DelayLevelUp:1800,DelayFinishGame:2900,EnableVibrate:!0},Tutorial:{ForceUseTutorial:!1,NumberOfTutorial:{FirstMove:3,TargetScore:1,CurrentScore:1,ColorfulGem:1,ItemPaint:1,ItemHammer:1,ItemShuffle:1}},PlayerDataStore:"playerData",Game:{AutoResize:!0,PortraitRatio:375/667,PortraitWidth:375,PortraitHeight:667,LandscapeRatio:760/450,LandscapeWidth:760,LandscapeHeight:500,ForcePixelRatio:0,DisableLandscape:!0,FullSizeOnLandscape:!1},Debugger:{ShowInspector:!1,ShowMonitoring:!1,ShowConsole:!1,Expanded:!0,AutoRefresh:!0,InspectorAutoUpdate:!0,Opacity:.8,ListPlayerDevIds:[]},Statistics:{Enable:!1,DisplayMode:0,FPS:!0,MS:!0,MB:!0,Opacity:.8,ShowFPSInGame:!0,ShowMemoryInGame:!1},ParticleEditor:{Enable:!1,Opacity:.8,Expanded:!0},ProfilerPlugin:{Enable:!1},CanvasRecorder:{Enable:!1,Options:{Type:"png",Quality:.85,RecordFps:60,SyncFps:!0}},Match:{MaxRescueCount:1,RescueGamePopupTimeout:15,ContinueSingleMatchEnabled:!1,SingleMatchStore:"singleMatch",LocalSingleMatchDefault:{_id:"12345678890",status:"open",playerId:"",score:0,level:1,startedAt:0,updateAt:0,finishAt:0,data:{}}},DailyRewards:{MaxDays:6,MockTime:0,CheckInterrupt:!0},DailyTasks:{Duration:86400},Tournament:{UseMock:!1,ForcePlay:!1,UseLeaderboard:!0,TournamentContextIds:[],YourMockTournamentCount:1},LeadersBoard:{Name:null,UseMock:!1,Prefix:"leaderboards",LeaderboardId:"5fbb6bee3f2485dac9b1dfa3",Limit:50,MockOptions:{PlayerEntryIndex:-1}},LanguageSupport:{en:"en"},EnableEffectSceneTransition:!0,DefaultTheme:"default",ThemeSupport:{default:"default"},Ads:{Enabled:!0,AdService:"msgames",FallbackService:"google",AdServiceConfigs:{Google:{DataAdClient:"",DataAdFrequencyHint:30,DataAdBreakTest:!1}},CalculateSafeAreaBottom:!0,EnableRewardVideoResetInterstitial:!1,Mockup:{Enable:!1,ErrorRate:5,GiphyApiKey:""},InterstitialAdOptions:{pID:"",showWhenStartGame:!1,secondsFirstTime:30,secondsBetweenAds:30},RewardAdOptions:{pID:"",secondsFirstTime:0,secondsBetweenAds:0},BannerAdOptions:[{placementId:"456",position:"right",bannerWidth:160,bannerHeight:600,platform:"DESKTOP",secondsReload:60}]},Network:{MaximumRequest:6,Timeout:15e3,Retries:3},Analytics:{GoogleAnalytics:{consoleLog:!1},FacebookAnalytics:{prefix:"fba",consoleLog:!1}},Sentry:{errorCodes:{accepted:[],ignored:["USER_INPUT","NETWORK_FAILURE"]},errorMessages:{accepted:[],ignored:["Load image failed","Script error."]}},Rollbar:{Enable:!1,UseMockup:!1,FilterError:{Codes:{accepted:[],ignored:["USER_INPUT","NETWORK_FAILURE"]},Messages:{accepted:[],ignored:["Load image failed","Request failed to be processed","Script error."]}}},Performance:{Enable:!1,trackingSceneKeys:["DASHBOARD_SCENE","GAME_SCENE"],minQuality:1,maxQuality:2,fpsThreshold:48,checkInterval:2e3,qualityAdjustStep:.1,autoUpgradeQuality:!0,onlyUpdateWhenSwitchScene:!0}};Ze=(0,De.TS)((0,Ne.Z)({},Ze),Ge);var Ue=Ze=(0,De.TS)((0,Ne.Z)({},Ze),Fe),Ke=function(e){return function(t){try{var n=window.game,r=t.module;if(n.scene.getScenes(!0)[0].scene.key!==e)return;var a=r.default;n.scene.remove(e),n.scene.add(e,a,!0),n.scene.bringToTop(n.globalScene),console.log("%c HotScene: ","font-size:12px;background-color: #465975;color:#fff;",e)}catch(s){var i;null==(i=void 0)||i.invalidate()}}},He=n(535),We=n.n(He),Ve=n(537),Ye=n.n(Ve),ze=n(539),je=n.n(ze),Xe=n(421),qe=!1,Qe=function e(t,n,r){n.forEach((function(n){if(n.name){var a=null;if(a=r?r.getByName(n.name):t.children.getByName(n.name),qe&&console.log("%c Checking object: ","font-size:12px;background-color: #465975;color:#fff;",n.name,n.type),a){if("Container"===n.type){var i=a,s=n.getAll();if(e(t,s,i),!i.hotContainer)return;console.log("%c Update container: ","font-size:12px;background-color: #33A5FF;color:#fff;",i.name)}var o=We()(n),c=["_events","_sysEvents","input","localTransform","list","displayList"],l=u()(o).call(o,(function(e){if("string"!==typeof e)return!1;if(m()(c).call(c,e)>=0)return!1;if(!a)return!1;var t=Ye()(n,e);return!(t instanceof Function)&&(!(t instanceof Phaser.Scene)&&(!(t instanceof Phaser.GameObjects.Group)&&(!(t instanceof Phaser.GameObjects.GameObject)&&t===Ye()(a,e))))}));l.length<1||(qe&&console.log("%c HotObject: ","font-size:12px;background-color: #2EAFB0;color:#fff;",n.name,l),l.forEach((function(e){if(a){var t=Ye()(n,e),r=Ye()(a,e),i=je()(a,e,t);qe&&console.log("%c Update property: ","font-size:12px;background-color: #B03734;color:#fff;",i,e,{oldValue:r,newValue:t})}})))}}}))},Je={Configs:Ue,Utils:Me,LiveUpdate:{Scene:Ke,SceneObjects:function(e,t){return void 0===t&&(t=qe),function(n){try{var r=window.game,a=n.module,i=r.scene.getScenes(!0)[0];if(i.scene.key!==e)return;qe=t;var s=a.default,o=e+"-draft";r.scene.remove(o);var c=r.scene.add(o,s);console.log("%c HotSceneObjects: ","font-size:12px;background-color: #465975;color:#fff;",e),i=r.scene.getScene(e),c.events.once(Phaser.Scenes.Events.RENDER,(0,Xe.D)((function(){var e=c.children.getAll();Qe(i,e),r.scene.remove(o)})),50),r.scene.run(o),r.scene.bringToTop(i),r.scene.bringToTop(r.globalScene)}catch(u){console.warn(u)}}}}};window.GameCore=Je},589:function(e,t,n){"use strict";n.r(t);var r=n(37),a=n(31),i=n(49),s=n.n(i),o=n(125),c=n.n(o),u=n(26),l=n.n(u),d=n(79),h=n(195),p=GameCore.Utils.Object,f=GameCore.Ads,m=f.Types,g=f.Status,v="msgames",y=function(e){function t(t,n){var r;return(r=e.call(this,t)||this).instance=void 0,r.placementId=void 0,r.instanceLoadFailedQueue=void 0,r.isHasTooManyInstancesError=void 0,r.instance=null,r.placementId=n,r.instanceLoadFailedQueue=[],r.isHasTooManyInstancesError=!1,r}(0,a.Z)(t,e),t.setGame=function(e){self.game=e};var n=t.prototype;return n.loadAsync=function(){var e=(0,r.Z)(l().mark((function e(){var t,n,r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.status===g.IDLE){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,this.status=g.LOADING,e.next=6,this.createInstanceByType(this.type);case 6:if(this.instance=e.sent,null!==this.instance){e.next=9;break}throw new GameCore.Ads.AdError("AD_INSTANCE_NOT_INITIATED","Ad instance didn't initiated.");case 9:return e.next=11,this.instance.loadAsync();case 11:this.status=g.FILLED,t=this.getSceneName(),this.type===m.PRE_ROLL&&self.game.analytics.loadPreRollAd(t,v),this.type===m.INTERSTITIAL&&self.game.analytics.loadInterstitialAd(t,v),this.type===m.REWARDED&&self.game.analytics.loadRewardedVideoAd(t,v),e.next=25;break;case 18:throw e.prev=18,e.t0=e.catch(2),this.status=g.IDLE,this.instance&&this.instanceLoadFailedQueue.push(this.instance),this.instance=null,this.isAdTypeValid(this.type)&&(n=this.getSceneName(),r={type:this.type,placement:n,adService:v},self.game.analytics.loadAdFail(r)),e.t0;case 25:case"end":return e.stop()}}),e,this,[[2,18]])})));return function(){return e.apply(this,arguments)}}(),n.showAsync=function(){var e=(0,r.Z)(l().mark((function e(){var t,n,r,a;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=!1,null,e.prev=2,this.status===g.FILLED){e.next=5;break}throw new GameCore.Ads.AdError("AD_NOT_FILLED","Ads no fill.");case 5:if(this.status=g.SHOWING,null!==this.instance){e.next=8;break}throw new GameCore.Ads.AdError("AD_INSTANCE_NOT_INITIATED","Ad instance didn't initiated.");case 8:return this.isHasTooManyInstancesError&&self.game.analytics.event(d._.MISSING_AD_SHOW,{ad_type:this.type}),e.next=11,this.instance.showAsync();case 11:t=!0,this.status=g.IDLE,this.instance=null,e.next=21;break;case 16:throw e.prev=16,e.t0=e.catch(2),e.t0 instanceof Object&&p.hasOwn(e.t0,"code")?("ADS_NOT_LOADED"===e.t0.code?this.status=g.FILLED:(this.status=g.IDLE,this.instance=null),"USER_INPUT"===e.t0.code&&(this.status=g.IDLE,this.instance=null,t=!0)):(this.status=g.IDLE,this.instance=null),e.t0,e.t0;case 21:return e.prev=21,window.focus(),n=this.getSceneName(),t?(this.type===m.PRE_ROLL&&self.game.analytics.showPreRollAd(n,v),this.type===m.INTERSTITIAL&&self.game.analytics.showInterstitialAd(n,v),this.type===m.REWARDED&&self.game.analytics.showRewardedVideoAd(n,v)):this.isAdTypeValid(this.type)&&(r=this.getSceneName(),a={type:this.type,placement:r,adService:v},self.game.analytics.showAdFail(a)),e.finish(21);case 26:case"end":return e.stop()}}),e,this,[[2,16,21,26]])})));return function(){return e.apply(this,arguments)}}(),n.getStatus=function(){return this.status},n.createInstanceByType=function(){var e=(0,r.Z)(l().mark((function e(t){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=self.game.facebook,e.prev=1,e.t0=t,e.next=e.t0===m.REWARDED?5:e.t0===m.INTERSTITIAL||e.t0===m.PRE_ROLL?8:11;break;case 5:return e.next=7,n.getRewardedVideoAsync(this.placementId);case 7:case 10:return e.abrupt("return",e.sent);case 8:return e.next=10,n.getInterstitialAdAsync(this.placementId);case 11:case 20:return e.abrupt("return",null);case 12:e.next=21;break;case 14:if(e.prev=14,e.t1=e.catch(1),!(e.t1 instanceof Object&&p.hasOwn(e.t1,"code"))){e.next=20;break}if("ADS_TOO_MANY_INSTANCES"!==e.t1.code){e.next=20;break}return this.isHasTooManyInstancesError=!0,e.abrupt("return",this.instanceLoadFailedQueue.shift()||null);case 21:case"end":return e.stop()}}),e,this,[[1,14]])})));return function(t){return e.apply(this,arguments)}}(),n.getSceneName=function(){try{var e=self.game.globalScene;return e instanceof h.Z?e.getCurrentScene().scene.getSceneName():"unknown"}catch(t){return"unknown"}},n.isAdTypeValid=function(e){var t;return s()(t=c()(m)).call(t,e)},t}(GameCore.Ads.AdInstance);t.default=y},590:function(e,t,n){"use strict";n.r(t);var r=n(37),a=n(119),i=n(31),s=n(48),o=n.n(s),c=n(49),u=n.n(c),l=n(125),d=n.n(l),h=n(26),p=n.n(h),f=n(79),m=n(195),g=GameCore,v=g.Utils.Object,y=g.Ads,k=y.Types,b=y.Status,E="not-loaded",x="loading",S="loaded",w="google",A=function(e){function t(t,n){var r;return(r=e.call(this,t)||this).instance=void 0,r.instance=null,r}(0,i.Z)(t,e),t.initGoogleAdsAsync=function(){var e=(0,r.Z)(p().mark((function e(n){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("loaded"!==t.initStatus){e.next=3;break}return console.warn("Google Ads already initiated."),e.abrupt("return");case 3:t._initStatus=x,t.adsByGoogleConfig=n,t.loadScriptElementAsync(n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.configGoogleAdsOnInit=function(){var e=(0,r.Z)(p().mark((function e(){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.adsbygoogle=window.adsbygoogle||[],window.adBreak=function(e){adsbygoogle.push(e)},window.adConfig=function(e){adsbygoogle.push(e)},t._initStatus=S,t.runPreloadAdConfig();case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t.runPreloadAdConfig=function(){var e=(0,r.Z)(p().mark((function e(){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.isPreloadingAdConfig=!0,t.preloadPromise=new(o())((function(e,n){window.adConfig({preloadAdBreaks:"on",onReady:function(){t.isPreloadConfigReady=!0,t.isPreloadingAdConfig=!1,e()}}),setTimeout((function(){t.isPreloadConfigReady||n(new Error("Failed to preload ad config in time."))}),5e3)})),e.abrupt("return",t.preloadPromise);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t.loadScriptElementAsync=function(e){return new(o())((function(n,r){t.isPreloadingAdConfig=!0;var a=e.dataAdClient,i=e.dataAdHost,s=e.dataAdChannel,o=e.dataAdBreakTest,c=e.dataAdFrequencyHint;if(!a&&!i)return t._initStatus=E,void r(new Error("dataAdClient or dataAdHost is required."));var u=document.createElement("script");u.async=!0,u.setAttribute("data-ad-frequency-hint",c+"s"),a&&u.setAttribute("data-ad-client",a),s&&u.setAttribute("data-ad-channel",s),i&&u.setAttribute("data-ad-host",i),o&&u.setAttribute("data-adbreak-test","on");var l="";if(a||i){l="?";var d=[];a&&d.push("client="+a),i&&d.push("host="+i),l+=d.join("&")}u.src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"+l,u.crossOrigin="anonymous",u.onload=function(){t.configGoogleAdsOnInit(),n(!0)},u.onerror=function(){t._initStatus=E,r(new Error("Failed to load Google Ads script."))};var h=document.createElement("script");h.text="window.adsbygoogle = window.adsbygoogle || []; var adBreak = adConfig = function(o) {adsbygoogle.push(o);}",document.head.appendChild(u),document.head.appendChild(h)}))};var n=t.prototype;return n.makeAdInstance=function(){var e=this;return{getPlacementID:function(){return""},loadAsync:function(){return e.preloadAdPlacement()},showAsync:function(){return e.createAdPlacement()}}},n.preloadAdPlacement=function(){return console.log("preloadAdPlacement",this.type),t._initStatus!==S?o().reject(new Error("Google Ads not initiated.")):t.isPreloadConfigReady?o().resolve():t.preloadPromise?t.preloadPromise:t.runPreloadAdConfig()},n.createAdPlacement=function(){switch(this.type){case k.PRE_ROLL:return this.createAdPlacementPreroll();case k.REWARDED:return this.createAdPlacementRewarded();case k.INTERSTITIAL:return this.createAdPlacementInterstitial();default:return o().reject(new GameCore.Ads.AdError("UNSUPPORTED_AD_TYPE","Unsupported."))}},n.createAdPlacementPreroll=function(){return new(o())((function(e,t){window.adBreak({type:"preroll",name:"prerollAd",adBreakDone:function(n){switch(console.info("GoogleAdInstance.adBreakDone hook called",n),n.breakStatus){case"dismissed":case"viewed":return void e();default:return void t(new GameCore.Ads.AdError(n.breakStatus,n.breakType))}}})}))},n.createAdPlacementInterstitial=function(){return new(o())((function(e,t){window.adBreak({type:"next",name:"interstitialAd",beforeAd:function(){self.game.ads.hideBannerAdAsync()},adBreakDone:function(n){switch(console.info("GoogleAdInstance.adBreakDone hook called",n),self.game.ads.showBannerAdAsync(),n.breakStatus){case"dismissed":case"viewed":return void e();default:return void t(new GameCore.Ads.AdError(n.breakStatus,n.breakType))}}})}))},n.createAdPlacementRewarded=function(){return new(o())((function(e,t){window.adBreak({type:"reward",name:"rewardedAd",beforeReward:function(e){console.info("GoogleAdInstance.beforeReward hook called"),self.game.ads.hideBannerAdAsync(),e()},adViewed:function(){console.info("GoogleAdInstance.adViewed hook called")},adDismissed:function(){console.info("GoogleAdInstance.adDismissed hook called")},adBreakDone:function(n){switch(console.info("GoogleAdInstance.adBreakDone hook called",n),self.game.ads.showBannerAdAsync(),n.breakStatus){case"dismissed":return void t(new GameCore.Ads.AdError("USER_INPUT","User dismissed."));case"viewed":return void e();default:return void t(new GameCore.Ads.AdError(n.breakStatus,n.breakType))}}})}))},t.setGame=function(e){self.game=e},n.getStatus=function(){return this.status},n.loadAsync=function(){var e=(0,r.Z)(p().mark((function e(){var t,n,r;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.status===b.IDLE){e.next=2;break}return e.abrupt("return");case 2:if(e.prev=2,this.instance=this.makeAdInstance(),null!==this.instance){e.next=6;break}throw new GameCore.Ads.AdError("AD_INSTANCE_NOT_INITIATED","Ad instance didn't initiated.");case 6:return e.next=8,this.instance.loadAsync();case 8:t=this.getSceneName(),this.type===k.PRE_ROLL&&self.game.analytics.loadPreRollAd(t,w),this.type===k.INTERSTITIAL&&self.game.analytics.loadInterstitialAd(t,w),this.type===k.REWARDED&&self.game.analytics.loadRewardedVideoAd(t,w),this.status=b.FILLED,e.next=20;break;case 15:throw e.prev=15,e.t0=e.catch(2),this.status=b.IDLE,this.isAdTypeValid(this.type)&&(n=this.getSceneName(),r={type:this.type,placement:n,adService:w},self.game.analytics.loadAdFail(r)),e.t0;case 20:case"end":return e.stop()}}),e,this,[[2,15]])})));return function(){return e.apply(this,arguments)}}(),n.showAsync=function(){var e=(0,r.Z)(p().mark((function e(){var t,n,r,a;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=!1,null,e.prev=2,this.status===b.FILLED){e.next=5;break}throw new GameCore.Ads.AdError("AD_NOT_FILLED","Ads no fill.");case 5:if(this.status=b.SHOWING,null!==this.instance){e.next=8;break}throw new GameCore.Ads.AdError("AD_INSTANCE_NOT_INITIATED","Ad instance didn't initiated.");case 8:return e.next=10,this.instance.showAsync();case 10:t=!0,this.status=b.IDLE,this.instance=null,e.next=20;break;case 15:throw e.prev=15,e.t0=e.catch(2),e.t0 instanceof Object&&v.hasOwn(e.t0,"code")?("noAdPreloaded"===e.t0.code?this.status=b.FILLED:(this.status=b.IDLE,this.instance=null),"USER_INPUT"===e.t0.code&&(this.status=b.IDLE,this.instance=null,t=!0),"frequencyCapped"===e.t0.code&&self.game.analytics.event(f._.MISSING_AD_SHOW,{ad_type:this.type})):(this.status=b.IDLE,this.instance=null),e.t0,e.t0;case 20:return e.prev=20,window.focus(),n=this.getSceneName(),t?(this.type===k.PRE_ROLL&&self.game.analytics.showPreRollAd(n,w),this.type===k.INTERSTITIAL&&self.game.analytics.showInterstitialAd(n,w),this.type===k.REWARDED&&self.game.analytics.showRewardedVideoAd(n,w)):this.isAdTypeValid(this.type)&&(r=this.getSceneName(),a={type:this.type,placement:r,adService:w},self.game.analytics.showAdFail(a)),e.finish(20);case 25:case"end":return e.stop()}}),e,this,[[2,15,20,25]])})));return function(){return e.apply(this,arguments)}}(),n.getSceneName=function(){try{var e=self.game.globalScene;return e instanceof m.Z?e.getCurrentScene().scene.getSceneName():"unknown"}catch(t){return"unknown"}},n.isAdTypeValid=function(e){var t;return u()(t=d()(k)).call(t,e)},(0,a.Z)(t,null,[{key:"initStatus",get:function(){return t._initStatus}}]),t}(GameCore.Ads.AdInstance);A._initStatus=E,A.isPreloadConfigReady=!1,A.isPreloadingAdConfig=!1,A.adsByGoogleConfig=void 0,A.preloadPromise=void 0,t.default=A},431:function(e,t,n){"use strict";n.d(t,{U:function(){return E},v:function(){return x}});var r=n(78),a=n(37),i=n(26),s=n.n(i),o=n(63),c=n.n(o),u=n(31),l=n(192),d=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).name="BadRequest",r.message=t||"This request is bad",r.payload=n,r}return(0,u.Z)(t,e),t}((0,l.Z)(Error)),h=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).name="RequestTimeout",r.message=t||"This request is timeout",r.payload=n,r}return(0,u.Z)(t,e),t}((0,l.Z)(Error)),p=n(118),f=GameCore.Configs,m=f.AppId,g=f.Network,v=function(e){if(!e.ok)throw new d(null,{response:e})},y=function(){var e=window.game.auth.getToken();return{token:e,timeout:g.Timeout,headers:{Authorization:"Bearer "+e,"Content-Type":"application/json"}}},k=function(e,t,n,r){return(0,a.Z)(s().mark((function a(){var i,o,u,l,p;return s().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,i=e+"/apps/"+m+"/"+t,o=new AbortController,n.signal=o.signal,u=setTimeout((function(){o.abort()}),n.timeout),GameCore.Utils.Valid.isObject(r)&&(n.body=c()(r)),a.next=8,fetch(i,n);case 8:return l=a.sent,clearTimeout(u),v(l),a.next=13,l.json();case 13:if(a.t0=a.sent,a.t0){a.next=16;break}a.t0={};case 16:return p=a.t0,a.abrupt("return",p);case 20:if(a.prev=20,a.t1=a.catch(0),!(a.t1 instanceof d)){a.next=24;break}return a.abrupt("return",null);case 24:if(!(a.t1 instanceof Object&&GameCore.Utils.Object.hasOwn(a.t1,"name"))){a.next=27;break}if("AbortError"!==a.t1.name){a.next=27;break}throw new h(null);case 27:throw a.t1;case 28:case"end":return a.stop()}}),a,null,[[0,20]])})))},b=function(){var e=(0,a.Z)(s().mark((function e(t,n){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",t());case 4:if(e.prev=4,e.t0=e.catch(0),!(e.t0 instanceof h&&n>0)){e.next=18;break}return e.prev=7,e.next=10,(0,p.qZ)(600);case 10:return e.next=12,b(t,n-1);case 12:return e.abrupt("return",e.sent);case 15:return e.prev=15,e.t1=e.catch(7),e.abrupt("return",{});case 18:if(!(e.t0 instanceof h)){e.next=20;break}return e.abrupt("return",{});case 20:return console.warn(e.t0),e.abrupt("return",{});case 22:case"end":return e.stop()}}),e,null,[[0,4],[7,15]])})));return function(t,n){return e.apply(this,arguments)}}(),E=function(){var e=(0,a.Z)(s().mark((function e(t,n,a,i){var o,c;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===n&&(n={}),void 0===i&&(i=g.Retries),e.prev=2,o=(0,r.Z)({},y(),n,{method:"GET"}),c=k(a,t,o),e.next=7,b(c,i);case 7:return e.abrupt("return",e.sent);case 10:return e.prev=10,e.t0=e.catch(2),console.warn(e.t0),e.abrupt("return",{});case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t,n,r,a){return e.apply(this,arguments)}}(),x=function(){var e=(0,a.Z)(s().mark((function e(t,n,a,i,o){var c,u;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===a&&(a={}),void 0===o&&(o=g.Retries),e.prev=2,c=(0,r.Z)({},y(),a,{method:"POST"}),u=k(i,t,c,n),e.next=7,b(u,o);case 7:return e.abrupt("return",e.sent);case 10:return e.prev=10,e.t0=e.catch(2),console.warn(e.t0),e.abrupt("return",{});case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t,n,r,a,i){return e.apply(this,arguments)}}()},428:function(e,t,n){"use strict";n.d(t,{DW:function(){return c},EH:function(){return i},fJ:function(){return a},kL:function(){return r},qj:function(){return s},rh:function(){return o}});var r="CONTEXT_RECEIVED",a="CONTEXT_PROCESSED",i="CONTEXT_GAME_MODE_DETECTED",s="MESSAGES_SENT_UPDATE",o="MESSAGES_SENT_REMOVE",c="SCENE_KEY_UPDATE"},610:function(e,t,n){"use strict";var r=n(31),a=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).name="TournamentNotFound",r.message=t||"A Tournament with current context was not found",r.payload=n,r.code="TOURNAMENT_NOT_FOUND",r}return(0,r.Z)(t,e),t}((0,n(192).Z)(Error));t.Z=a},121:function(e,t,n){"use strict";var r=n(117),a=function(){function e(e,t){if(this.scene=void 0,this.config=void 0,this.isStarted=void 0,this.tween=void 0,!(t.targets.length<1)){this.buildConfig(e,t);var n=this.config.targets[0].scene;n&&(this.scene=n,this.isStarted=!1,this.tween=n.tweens.create(this.config))}}var t=e.prototype;return t.buildConfig=function(e,t){this.config=(0,r.TS)(e,t)},t.play=function(){this.tween&&(this.isStarted&&this.tween.hasStarted?this.restart():(this.tween.play(),this.isStarted=!0))},t.restart=function(){var e;null==(e=this.tween)||e.restart()},t.stop=function(){var e;null==(e=this.tween)||e.stop()},t.remove=function(){var e;null==(e=this.tween)||e.remove()},t.next=function(e){return this.tween?(this.tween.off(Phaser.Tweens.Events.TWEEN_COMPLETE,e),this.tween.once(Phaser.Tweens.Events.TWEEN_COMPLETE,e),this.tween):null},e}();t.Z=a},439:function(e,t,n){"use strict";var r=n(126),a=n.n(r)()(.48,1.57,.6,.83);t.Z=a},595:function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});var r=n(119),a=n(92),i=n(31),s=n(79),o=n(121),c={targets:[],duration:400,ease:n(439).Z,props:{scale:"-=0.1"}},u=function(e){function t(t){return e.call(this,c,t)||this}return(0,i.Z)(t,e),t}(o.Z),l=n(196),d=n(433),h=n(191),p=n(194),f=function(e){function t(t,n,r,i,s,o){var c;return void 0===o&&(o=!1),(c=e.call(this,t)||this).soundKey=d.Z.BUTTON_CLICK,c.callback=void 0,c.callbackPointerUpOut=void 0,c.isClicked=!1,c.isPointerOver=!0,c.scaleUp=-1,c.scaleDown=-1,c.button=void 0,c.upAnimation=void 0,c.downAnimation=void 0,c.isUsePixelPerfect=!1,c.hitArea=void 0,c.hitZone=void 0,c.scaleDownPress=void 0,c.parentName=void 0,c.handelObjectDestroy=function(){c.scene&&c.scene.events.off(Phaser.Scenes.Events.SLEEP,c.handleSceneSleep)},c.handleSceneSleep=function(){c.scene&&c.scene.tweens.killTweensOf((0,a.Z)(c))},c.handlePointerDown=function(){var e;c.isClicked||null!=(e=c.upAnimation)&&null!=(e=e.tween)&&e.isPlaying()||(c.isClicked=!0,c.scene.input.once(Phaser.Input.Events.POINTER_UP,c.handlePointerUpOut),c.runDownAnimation())},c.handleOnClick=function(e){return function(){var t;c.isClicked&&c.isPointerOver&&(null!=(t=c.upAnimation)&&null!=(t=t.tween)&&t.isPlaying()||(c.isClicked=!1,c.isPointerOver=!0,c.runUpAnimation(),c.logButtonEvent(),c.addDebugData(),c.processCallback(e)))}},c.handlePointerOut=function(){var e;c.isClicked&&(null!=(e=c.upAnimation)&&null!=(e=e.tween)&&e.isPlaying()||(c.isPointerOver=!1))},c.handlePointerOver=function(){c.isClicked&&(c.isPointerOver=!0)},c.handlePointerUpOut=function(){var e,t;c.isClicked&&(c.isPointerOver||null!=(e=c.upAnimation)&&null!=(e=e.tween)&&e.isPlaying()||(c.isClicked=!1,c.isPointerOver=!0,c.callbackPointerUpOut&&(c.scaleUp=1),c.runUpAnimation(),c.callbackPointerUpOut&&(null==(t=c.upAnimation)||null==(t=t.tween)||t.once(Phaser.Tweens.Events.TWEEN_COMPLETE,(function(){c.callbackPointerUpOut()})))))},c.runDownAnimation=function(){var e;-1===c.scaleDown&&(c.scaleUp=c.scale,c.scaleDown=c.scaleDownPress),c.soundKey&&c.scene.audio.playSound(c.soundKey),null==(e=c.downAnimation)||e.remove(),c.downAnimation=new u({targets:[(0,a.Z)(c)],duration:100,props:{scale:c.scaleDown},onUpdate:function(){c.hitZone.scale=1/c.scale}}),c.downAnimation.play()},c.runUpAnimation=function(){var e;-1!==c.scaleUp&&(null==(e=c.upAnimation)||e.remove(),c.upAnimation=new u({targets:[(0,a.Z)(c)],duration:100,props:{scale:c.scaleUp},onUpdate:function(){c.hitZone.scale=1/c.scale}}),c.upAnimation.play())},c.isUsePixelPerfect=o,c.setDepth(l.Z.BUTTON),c.createButton(n,r,i,s),c.updateSize(),c.listenEvents(),c.scene.add.existing((0,a.Z)(c)),c}(0,i.Z)(t,e);var n=t.prototype;return n.listenEvents=function(){this.scene.events.on(Phaser.Scenes.Events.SLEEP,this.handleSceneSleep),this.once(Phaser.GameObjects.Events.DESTROY,this.handelObjectDestroy)},n.processCallback=function(e){var t,n,r;null==(t=this.upAnimation)||t.stop(),null==(n=this.downAnimation)||n.stop(),null==(r=this.scene)||r.tweens.killTweensOf(this),-1!==this.scaleUp&&this.setScale(this.scaleUp),e()},n.setDisabled=function(e){var t,n;e?(this.setAlpha(.5),null==(t=this.hitArea)||t.disableInteractive()):(this.setAlpha(1),null==(n=this.hitArea)||n.setInteractive())},n.createButton=function(e,t,n,r){this.button=this.scene.add.image(0,0,e,t),n&&r&&this.button.setWorldSize(n,r),this.scaleDownPress=this.scale-.1;var a=this.button,i=a.displayWidth,s=a.displayHeight;this.hitZone=this.scene.make.zone({displayWidth:i,displayHeight:s}),this.add([this.button,this.hitZone])},n.updateSize=function(){var e=this.button,t=e.width,n=e.height,r=t/100*10,a=n/100*10,i=r<10?r:10,s=a<10?a:10;this.setSize(t+i,n+s),this.hitZone.setSize(t+i,n+s)},n.addDebugData=function(){var e=this.getParentName(),t=this.name;(0,h.sw)("ui-click",e+":"+t)},n.logButtonEvent=function(){var e=this.getParentName(),t=this.name;this.scene.analytics.event(s._.BUTTON_CLICK,{button_name:t,screen_name:e})},n.getParentName=function(){if(this.parentName)return this.parentName;for(var e=this.parentContainer;e;){if(e instanceof GameCore.Screen){var t=e;return this.parentName=t.getScreenName(),this.parentName}e=e.parentContainer}var n=this.scene.screen.get(p.o4.DASHBOARD_SCREEN);if(null!=n&&n.visible)return n.getScreenName();var r=this.scene.screen.get(p.o4.RESULT_SCREEN);return null!=r&&r.visible?r.getScreenName():(this.parentName=this.scene.getSceneName(),this.parentName)},(0,r.Z)(t,[{key:"onClick",set:function(e){this.callback=e,this.isUsePixelPerfect?(this.hitArea=this.button,this.hitArea.setInteractive({useHandCursor:!0,pixelPerfect:!0})):(this.hitArea=this.hitZone,this.updateSize(),this.hitArea.setInteractive({useHandCursor:!0})),this.hitArea.on(Phaser.Input.Events.GAMEOBJECT_POINTER_DOWN,this.handlePointerDown),this.hitArea.on(Phaser.Input.Events.GAMEOBJECT_POINTER_UP,this.handleOnClick(e)),this.hitArea.on(Phaser.Input.Events.GAMEOBJECT_POINTER_OUT,this.handlePointerOut),this.hitArea.on(Phaser.Input.Events.GAMEOBJECT_POINTER_OVER,this.handlePointerOver)}},{key:"isUsePixelPerFect",get:function(){return this.isUsePixelPerfect}}]),t}(Phaser.GameObjects.Container)},438:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var r=n(92),a=n(31),i=n(120),s=n(121),o={targets:[],duration:600,ease:Phaser.Math.Easing.Linear,props:{angle:{from:0,to:360}}},c=function(e){function t(t){return e.call(this,o,t)||this}return(0,a.Z)(t,e),t}(s.Z),u=i.Z.GAMEPLAY,l=u.KEY,d=u.FRAME,h=function(e){function t(t){var n;return(n=e.call(this,t,0,0,l,d.PRELOADER)||this).anim=void 0,n.originScale=void 0,n.runAnimation(),n.setWorldSize(80,80),n.originScale=n.scale,n.scene.add.existing((0,r.Z)(n)),n}(0,a.Z)(t,e);var n=t.prototype;return n.runAnimation=function(){var e;null==(e=this.anim)||e.remove(),this.anim=new c({targets:[this],repeat:-1,duration:1200}),this.anim.play()},n.setVisible=function(t){return e.prototype.setVisible.call(this,t),t?this.runAnimation():this.anim.stop(),this},n.resetScale=function(){this.setScale(this.originScale)},t}(Phaser.GameObjects.Image)},196:function(e,t){"use strict";t.Z={BACKGROUND:1,UI:2,FIREWORKS:5,ITEM:10,LOGO:15,BUTTON:20,TILE:25,TEXT:30,ENCOURAGING:31,EFFECT:32,MESSAGE:33,POPUP:40,PRIORITY:80,DEBUG:90,BOARD:99,RACK:100,FOOTER:101,TUTORIAL_HAND:102,TOP_CONTAINER:103,GAMEPLAY_PARTICLE:104,TOP_SCREEN:1e3,ON_TOP:1e4,TEMP_ON_TOP:10001,SPECIAL_ANIM:10002}},434:function(e,t){"use strict";t.Z={PRIMARY:{KEY:"bebas",TEXTURE:"./assets/fonts/bebas.png",DATA:"./assets/fonts/bebas.xml"},NUMBERS:{KEY:"numbers",TEXTURE:"./assets/fonts{langcode}/numbers.png",DATA:"./assets/fonts{langcode}/numbers.xml"},NUMBERS_ORANGE:{KEY:"numbers-orange",TEXTURE:"./assets/fonts{langcode}/numbers-orange.png",DATA:"./assets/fonts{langcode}/numbers-orange.xml"},FONT_FAMILY:"D-DIN-PRO-900-Heavy",FONT_FAMILY_RU:"Myriad Pro Bold"}},193:function(e,t){"use strict";var n=GameCore.Utils.Image.getImageScale(),r={AVATAR:{KEY:"avatar",FILE:"./assets/images/others/avatar.png",CONFIG:{}},ICON_EARTH:{KEY:"icon-earth",FILE:"./assets/images/others/icon-earth.png",CONFIG:{}},DB_BACKGROUND:{KEY:"db-background",FILE:"./assets/images/"+n+"x/db-bg.jpg",CONFIG:{}},LANDSCAPE_DB_BACKGROUND:{KEY:"landscape-db-background",FILE:"./assets/images/"+n+"x/landscape-db-bg.jpg",CONFIG:{}},GP_BACKGROUND:{PATH:"./assets/images/"+n+"x/",KEYS:{background_1:"bg-1.jpg",background_2:"bg-2.jpg",background_3:"bg-3.jpg"}},LANDSCAPE_GP_BACKGROUND:{PATH:"./assets/images/"+n+"x/",KEYS:{background_1:"landscape-bg-1.jpg",background_2:"landscape-bg-2.jpg",background_3:"landscape-bg-3.jpg"}}};t.Z=r},120:function(e,t,n){"use strict";var r=n(78),a=GameCore.Utils.Image.getImageScale(),i={DEFAULT:{KEY:"default-resources",TEXTURE_REAL_1x:["./assets/textures/"+a+"x{langcode}/default-resources-0.png"],TEXTURE_32BIT_1x:["./assets/textures/"+a+"x{langcode}/default-resources-32-0.png"],TEXTURE_REAL_2x:["./assets/textures/"+a+"x{langcode}/default-resources-0.png","./assets/textures/"+a+"x{langcode}/default-resources-1.png"],TEXTURE_32BIT_2x:["./assets/textures/"+a+"x{langcode}/default-resources-32-0.png","./assets/textures/"+a+"x{langcode}/default-resources-32-1.png"],URL:"./assets/textures/"+a+"x{langcode}/",JSON:"./assets/textures/"+a+"x{langcode}/default-resources.json",BLANK_JSON:"./assets/textures/"+a+"x{langcode}/blank-default-resources.json",FRAME:{BLANK:"blank",LOGO:"title-logo",PRELOADER:"preloader/dual-ring",BUTTON_BLUE_LONG:"dashboard-screen/blue-long",BUTTON_BLUE_LONG_2:"dashboard-screen/blue-long-2",BUTTON_BLUE_CIRCLE_BIG:"dashboard-screen/blue-circle-big",ICON_TROPHY:"dashboard-screen/trophy",DASHBOARD_SCREEN_ICON_CALENDAR:"dashboard-screen/calendar",DASHBOARD_SCREEN_ICON_INFO_DOT:"dashboard-screen/info-dot",ICON_PLAY_WITH_FRIENDS:"dashboard-screen/icon-play-with-friends",DASHBOARD_SCREEN_RIBBON:"dashboard-screen/ribbon",DASHBOARD_SCREEN_SUN:"dashboard-screen/sun",DASHBOARD_SCREEN_SUN_RAY_PREFIX:"dashboard-screen/sun-ray-",DASHBOARD_SCREEN_WISDOM:"dashboard-screen/wisdom",TEXT_LEVEL:"dashboard-screen/level",BACK_ICON:"theme-screen/icon-back",CARDS:{CARD_1:"theme-screen/card-01",CARD_2:"theme-screen/card-02",CARD_3:"theme-screen/card-03",LOCKED_CARD:"theme-screen/card-lock"},GRADIENT_FRAMES:{GREEN:"theme-screen/frame-green",TURQUOISE:"theme-screen/frame-turquoise",VIOLET:"theme-screen/frame-violet",YELLOW:"theme-screen/frame-yellow"},SHOP_SCREEN_HEADER:"shop-screen/header",SHOP_SCREEN_POPUP_BLUE:"shop-screen/popup-blue",SHOP_SCREEN_ITEM_MEGA_PACK:"shop-screen/item-mega-pack",SHOP_SCREEN_ITEM_STARTER:"shop-screen/item-starter",SHOP_SCREEN_ITEM_SUPER_PACK:"shop-screen/item-super-pack",SHOP_SCREEN_BTN_BLUE:"shop-screen/btn-blue",SHOP_SCREEN_BTN_ORANGE:"shop-screen/btn-orange",SHOP_SCREEN_COIN:"shop-screen/coin",SHOP_SCREEN_COIN_PILE:"shop-screen/coin-pile",SHOP_SCREEN_ICON_AD:"shop-screen/icon-ad",SHOP_SCREEN_ICON_HELP:"shop-screen/icon-help",SHOP_SCREEN_ICON_SHUFFLE:"shop-screen/icon-shuffle",SHOP_SCREEN_ICON_THUNDER:"shop-screen/icon-thunder",SHOP_SCREEN_ICON_UNDO:"shop-screen/icon-undo",SHOP_SCREEN_RIBBON_PINK:"shop-screen/ribbon-pink",SHOP_SCREEN_SUN_RAY_BLUE:"shop-screen/sun-ray-blue",SHOP_SCREEN_SUN_RAY_YELLOW:"shop-screen/sun-ray-yellow",SHOP_SCREEN_TAG_VALUE:"shop-screen/tag-value",SHOP_SCREEN_WATCH_AD:"shop-screen/watch-ad",SETTINGS_SCREEN_BTN_CANCEL:"settings-screen/btn-cancel",SETTINGS_SCREEN_BTN_LONG:"settings-screen/btn-long",SETTINGS_SCREEN_BTN_PLUS:"settings-screen/btn-plus",SETTINGS_SCREEN_BTN_DIVINE_LINE:"settings-screen/divine-line",SETTINGS_SCREEN_ICON_ADD:"settings-screen/icon-add",SETTINGS_SCREEN_ICON_MUSIC:"settings-screen/icon-music",SETTINGS_SCREEN_ICON_SOUND:"settings-screen/icon-sound",SETTINGS_SCREEN_ICON_VIBRATE:"settings-screen/icon-vibrate",SETTINGS_SCREEN_ICON_FANPAGE:"settings-screen/icon-fanpage",SETTINGS_SCREEN_POPUP_TOP:"settings-screen/popup-top",SETTINGS_SCREEN_POPUP_MIDDLE:"settings-screen/popup-middle",SETTINGS_SCREEN_POPUP_BOTTOM:"settings-screen/popup-bottom",SETTINGS_SCREEN_S_OFF:"settings-screen/s-off",SETTINGS_SCREEN_S_ON:"settings-screen/s-on",SETTINGS_SCREEN_SWITCH_FRAME:"settings-screen/switch-frame",SETTINGS_SCREEN_TITLE:"settings-screen/setting",SETTINGS_SCREEN_INVITE_FRIENDS:"settings-screen/invite-friends",SETTINGS_SCREEN_TEXT_FANPAGE:"settings-screen/fanpage",RESULT_SCREEN_BTN_BLUE:"result-screen/btn-blue",RESULT_SCREEN_ICON_GIFT_ACTIVE:"result-screen/icon-gift-active",RESULT_SCREEN_PROGRESS_BAR_INSIDE:"result-screen/progress-bar-inside",RESULT_SCREEN_PROGRESS_BAR_OUTSIDE:"result-screen/progress-bar-outside",RESULT_SCREEN_PROGRESS_RIGHT:"result-screen/progress-right",RESULT_SCREEN_WISDOM:"result-screen/wisdom",DAILY_CHALLENGE_SCREEN_ARROW_DOWN:"daily-challenge-screen/arrow-down",DAILY_CHALLENGE_SCREEN_CIRCLE:"daily-challenge-screen/circle",DAILY_CHALLENGE_SCREEN_ICON_COMPLETED:"daily-challenge-screen/completed",DAILY_CHALLENGE_SCREEN_TEXT_DAILY_PUZZLE:"daily-challenge-screen/daily-puzzle",DAILY_CHALLENGE_SCREEN_DAY_PREFIX:"daily-challenge-screen/day-",DAILY_CHALLENGE_SCREEN_DAY_1:"daily-challenge-screen/day-1",DAILY_CHALLENGE_SCREEN_DAY_2:"daily-challenge-screen/day-2",DAILY_CHALLENGE_SCREEN_DAY_3:"daily-challenge-screen/day-3",DAILY_CHALLENGE_SCREEN_DAY_4:"daily-challenge-screen/day-4",DAILY_CHALLENGE_SCREEN_DAY_5:"daily-challenge-screen/day-5",DAILY_CHALLENGE_SCREEN_ICON_GIFT:"daily-challenge-screen/gift",DAILY_CHALLENGE_SCREEN_PANEL:"daily-challenge-screen/panel",DAILY_CHALLENGE_SCREEN_ICON_PLAY:"daily-challenge-screen/play",AVATAR_BACKGROUND:"avatar/background",AVATAR_BORDER:"avatar/border",AVATAR_BORDER_WIN:"avatar/border-win",AVATAR_BACKGROUND_CIRCLE:"avatar/background-circle",AVATAR_BORDER_CIRCLE:"avatar/border-circle",RESULT_CHALLENGE_DRAW:"result-challenge-screen/draw",RESULT_CHALLENGE_LOSE:"result-challenge-screen/lose",RESULT_CHALLENGE_WIN:"result-challenge-screen/win",RESULT_CHALLENGE_VS:"result-challenge-screen/vs",RESULT_CHALLENGE_RIBBON_BLUE:"result-challenge-screen/ribbon-blue",RESULT_CHALLENGE_SUN_RAY:"result-challenge-screen/sun-ray",RESULT_CHALLENGE_ICON_CONTINUE:"result-challenge-screen/icon-continue",WORLD_TOURNAMENT_SCREEN_AVATAR:"world-tournament-screen/avatar",WORLD_TOURNAMENT_SCREEN_AVATAR_FRAME:"world-tournament-screen/avatar-frame",WORLD_TOURNAMENT_SCREEN_AVATAR_FRAME_SMALL:"world-tournament-screen/avatar-frame-small",WORLD_TOURNAMENT_SCREEN_AVATAR_SMALL:"world-tournament-screen/avatar-small",WORLD_TOURNAMENT_SCREEN_BTN_BIG:"world-tournament-screen/btn-big",WORLD_TOURNAMENT_SCREEN_DARK_BLUE_TAG:"world-tournament-screen/dark-bluetag",WORLD_TOURNAMENT_SCREEN_ICON_CONTINUE:"world-tournament-screen/icon-continue",WORLD_TOURNAMENT_SCREEN_PINK_TAG:"world-tournament-screen/pink-tag",WORLD_TOURNAMENT_SCREEN_RAY:"world-tournament-screen/ray",WORLD_TOURNAMENT_SCREEN_RIBBON_PINK:"world-tournament-screen/ribbon-pinkpng",WORLD_TOURNAMENT_SCREEN_SHARE:"world-tournament-screen/share",WORLD_TOURNAMENT_SCREEN_YOU_RANK_BOX:"world-tournament-screen/You-rankbox",WORLD_TOURNAMENT_SCREEN_RANK_BOX:"world-tournament-screen/rankbox",WORLD_TOURNAMENT_SCREEN_TEXT_SHARE:"world-tournament-screen/text-share"}},EFFECTS:{KEY:"effects-resources",PATH:"./assets/textures/"+a+"x/",JSON:"./assets/textures/"+a+"x/effects-resources.json",FRAME:{BLANK:"blank",STAR:"star",COIN:"coin",FX_COMET:"comet",FX_SPARK:"spark",FX_CIRCLE:"circle",FX_CIRCLE_LIGHT:"circle-light",FX_STAR_WHITE:"star-white",FX_STAR_YELLOW:"star-yellow",FX_STAR_YELLOW_2:"star-yellow-2",GLOW_SUN:"glow-sun",FX_CONFETTI_SMALL_1:"confetti/small-1",FX_CONFETTI_SMALL_2:"confetti/small-2",FX_CONFETTI_SMALL_3:"confetti/small-3",FX_CONFETTI_SMALL_4:"confetti/small-4",FX_CONFETTI_HEXAGON:"confetti/hexagon-",FX_FIREWORKS_SMALL:"fireworks/small",FX_FIREWORKS_BIG_0:"fireworks/big-explosive-0",FX_FIREWORKS_BIG_1:"fireworks/big-explosive-1",FX_FIREWORKS_SOAR_LINE:"fireworks/soar-line",FX_FIREWORKS_SOAR_CIRCLE:"soar-circle-white",SOAR_CIRCLE_WHITE:"soar-circle-white",SOAR_CIRCLE:"soar-circle",BRIGHT:"bright",BRIGHT_DUST:"bright-dust",SOAP:"soap"}},ANIMATION_SCENE:{KEY:"effects-resources",PATH:"./assets/textures/"+a+"x/",JSON:"./assets/textures/"+a+"x/animation-scene-resources.json",FRAME:{BLANK:"blank",COIN:"coins/coin",COIN_SMALL:"coins/coin-small",COIN_SMALL_GREY:"coins/coin-small-grey",ANIMATION_STAR_X:"star-x/star-",ANIMATION_STAR_Y:"star-y/star-",FX_SPARK_YELLOW:"yellow-spark",FX_CONFETTI_RIBBON:"ribbon/ribbon",PREFIX_ANIMATION_RIBBON_CONFETTI_A:"ribbon/falling-confetti/confetti-a/confetti-a-",PREFIX_ANIMATION_RIBBON_CONFETTI_B:"ribbon/falling-confetti/confetti-b/confetti-b-",PREFIX_ANIMATION_RIBBON_CONFETTI_C:"ribbon/falling-confetti/confetti-c/confetti-c-",PREFIX_ANIMATION_RIBBON_CONFETTI_D:"ribbon/falling-confetti/confetti-d/confetti-d-"}},GAMEPLAY:{KEY:"gameplay-resources",TEXTURE:"./assets/textures/"+a+"x{langcode}/gameplay-resources.png",JSON:"./assets/textures/"+a+"x{langcode}/gameplay-resources.json",FRAME:{BLANK:"blank",PRELOADER:"preloader/dual-ring",BTN_CIRCLE:"buttons/btn-circle",ICON_BACK:"icons/icon-back",ICON_HELP:"icons/icon-help",ICON_SETTING:"icons/icon-setting",ICON_SHUFFLE:"icons/icon-shuffle",ICON_UNDO:"icons/icon-undo",RACK_PLUS:"icons/icon-plus",RACK_ICON_AD:"icons/icon-ad",BUTTON_BLUE_CIRCLE_SMALL:"dashboard-screen/blue-circle-small",ICON_COIN:"dashboard-screen/coin",ICON_THEME:"dashboard-screen/theme",DASHBOARD_ICON_SETTING:"dashboard-screen/setting",ICON_PLUS:"dashboard-screen/plus",COIN_PANEL_LEFT:"dashboard-screen/coin-panel-left",COIN_PANEL_MIDDLE:"dashboard-screen/coin-panel-middle",NO_MORE_SCREEN_BTN_BLUE:"no-more-moves-screen/btn-blue",NO_MORE_SCREEN_BTN_ORANGE:"no-more-moves-screen/btn-orange",NO_MORE_SCREEN_ICON_AD:"no-more-moves-screen/icon-ad",NO_MORE_SCREEN_ICON_HOME:"no-more-moves-screen/icon-home",NO_MORE_SCREEN_ICON_RETRY:"no-more-moves-screen/icon-retry",NO_MORE_SCREEN_POPUP_TOP:"no-more-moves-screen/popup-top",NO_MORE_SCREEN_POPUP_MIDDLE:"no-more-moves-screen/popup-middle",NO_MORE_SCREEN_POPUP_BOTTOM:"no-more-moves-screen/popup-bottom",NO_MORE_SCREEN_RIBBON_RED:"no-more-moves-screen/ribbon-red",NO_MORE_SCREEN_SUN_RAY:"no-more-moves-screen/sun-ray",NO_MORE_SCREEN_RETRY:"no-more-moves-screen/retry",NO_MORE_SCREEN_HOME:"no-more-moves-screen/home",NO_MORE_SCREEN_ONE_MORE_CHANCE:"no-more-moves-screen/one-more-chance",NO_MORE_SCREEN_WATCH_AN_AD:"no-more-moves-screen/watch-an-ad",NO_MORE_SCREEN_CARD_FRAME:"no-more-moves-screen/card-frame",TUTORIAL_SCREEN_RIBBON_TURQUOISE:"tutorial-screen/ribbon-turquoise",HAND:"hand"}},GAMEPLAY_COLORFUL:{KEY:"gameplay-colorful-resources",TEXTURE:"./assets/textures/"+a+"x/gameplay-colorful-resources.png",JSON:"./assets/textures/"+a+"x/gameplay-colorful-resources.json",FRAME:{BLANK:"blank",TILE_CONTAINER:"tile-container",EMPTY_TILE:"tiles/0_empty",FRONT_GLOW:"tiles/front_glow",BACK_GLOW:"tiles/back_glow",MAGIC_GLOW:"tiles/magic-glow"}},DEMO_SPINE:{KEY:"demo-spine",jsonPATH:"./assets/spines/demo/demo.json",atlasPATH:"./assets/spines/demo/demo.atlas"}};GameCore.Utils.Valid.isDebugger()&&(i.EFFECTS.FRAME=(0,r.Z)({},i.ANIMATION_SCENE.FRAME,i.EFFECTS.FRAME)),t.Z=i},432:function(e,t,n){"use strict";n.d(t,{C:function(){return a},K:function(){return i}});var r=n(124),a={BOOT_SCENE:"BOOT_SCENE",LOAD_SCENE:"LOAD_SCENE",GAME_SCENE:"GAME_SCENE",GLOBAL_SCENE:"GLOBAL_SCENE",TEST_SCENE:"TEST_SCENE",ANIMATIONS_SCENE:"ANIMATIONS_SCENE"},i={SWITCH:n.n(r)()("SWITCH")}},194:function(e,t,n){"use strict";n.d(t,{Ks:function(){return a},o4:function(){return r}});var r={NOTIFY_SCREEN:"NOTIFY_SCREEN",MAP_SCREEN:"MAP_SCREEN",DASHBOARD_SCREEN:"DASHBOARD_SCREEN",NO_MORE_MOVES_SCREEN:"NO_MORE_MOVES_SCREEN",REWARD_SCREEN:"REWARD_SCREEN",RESULT_SCREEN:"RESULT_SCREEN",RESULT_CHALLENGE_SCREEN:"RESULT_CHALLENGE_SCREEN",WELL_DONE_SCREEN:"WELL_DONE_SCREEN",SHOP_SCREEN:"SHOP_SCREEN",SWITCH_MAP_SCREEN:"SWITCH_MAP_SCREEN",SETTINGS_SCREEN:"SETTINGS_SCREEN",DAILY_CHALLENGE_SCREEN:"DAILY_CHALLENGE_SCREEN",TUTORIAL_SCREEN:"TUTORIAL_SCREEN",TOURNAMENT_SCREEN:"TOURNAMENT_SCREEN",WORLD_TOURNAMENT_SCREEN:"WORLD_TOURNAMENT_SCREEN"},a={SCREEN:200,POPUP:300,NAVIGATION:400,PRIORITY:999}},433:function(e,t){"use strict";t.Z={BUTTON_CLICK:"button_click",POPUP_SHOW:"popup_show",POPUP_OFF:"popup_off",SHOP_POPUP_SHOW:"shop_popup_show",THEME_POPUP_SHOW:"theme_popup_show",START_LEVEL:"start_level",TILE_TAP:"tile_tap",TILE_DROP:"tile_drop",TILE_SHAKE:"tile_shake",MATCH_1:"match_1",MATCH_2:"match_2",MATCH_3:"match_3",MATCH_4:"match_4",MATCH_5:"match_5",WIN:"win",FAIL:"fail",STAR_1:"star_1",STAR_2:"star_2",STAR_3:"star_3",SCORE_INCREASE_SINGLE:"score_increase_single",SCORE_INCREASE_END:"score_increase_end",BOOST:"boost",LEVEL_BTN_APPEAR:"level_btn_appear",COINS_ADD:"coins_add",ITEM_APPEAR:"item_appear",ITEM_RECEIVE:"item_receive",COIN_APPEAR:"coin_appear",OPEN_CHEST:"open_chest",CHEST_DROP:"chest_drop",SWITCH_MAP:"switch_map",DASHBOARD_OPEN:"dashboard_open",SHUFFLE_START:"shuffle_start",SWITCH:"switch",EXTRA_SLOT:"extra_slot"}},596:function(e,t,n){"use strict";var r=n(92),a=n(31),i=n(120),s=n(117),o=i.Z.EFFECTS,c=o.KEY,u=o.FRAME,l=function(e){function t(t,n){var a;return(a=e.call(this,t,c,u.BLANK)||this).config=void 0,a.emitter=void 0,a.config=n||{},a.scene.add.existing((0,r.Z)(a)),a}(0,a.Z)(t,e);var n=t.prototype;return n.createEmitters=function(){var e=u.FX_CONFETTI_SMALL_1,t=u.FX_CONFETTI_SMALL_2,n=u.FX_CONFETTI_SMALL_3,r=u.FX_CONFETTI_SMALL_4,a=1/GameCore.Utils.Image.getImageScale(),i={on:!1,particleBringToTop:!0,frame:[e,t,n,r],tint:[11265126,2344427,15683131,13770643,15703610],timeScale:1,frequency:300,maxParticles:120,gravityY:-10,speedX:{min:-100,max:100},speedY:{min:80,max:250},alpha:{start:1,end:.8},rotate:{start:0,end:1080},scale:{min:.8*a,max:2*a},angle:{min:20,max:160},lifespan:{min:8e3,max:12e3}},o=(0,s.TS)(i,this.config);this.emitter=this.createEmitter(o)},n.run=function(e,t,n){this.stop(),this.emitter.setQuantity(e),this.emitter.setPosition(t,n),this.emitter.start()},n.explode=function(e,t,n){this.emitter||this.createEmitters(),this.emitter.explode(e,t,n)},n.stop=function(){var e,t,n;null==(e=this.emitter)||e.killAll(),null==(t=this.emitter)||t.stop(),null==(n=this.emitter)||n.remove(),this.createEmitters()},t}(Phaser.GameObjects.Particles.ParticleEmitterManager);t.Z=l},436:function(e,t,n){"use strict";var r=n(37),a=n(26),i=n.n(a),s=n(437),o=n(193).Z.LANDSCAPE_GP_BACKGROUND,c=o.PATH,u=o.KEYS,l=function(){function e(){if(this.bgs=void 0,this.appDbBg=void 0,this.currentNext=void 0,this.appGpCurrentBg=void 0,this.appGpNextBg=void 0,this.appBgOverlay=void 0,this.appBgNotifyOverlay=void 0,this.leftMask=void 0,this.rightMask=void 0,GameCore.Utils.Device.isDesktop()){var e=document.getElementById("bgs"),t=document.getElementById("app-db-bg"),n=document.getElementById("current-next"),r=document.getElementById("app-gp-current-bg"),a=document.getElementById("app-gp-next-bg"),i=document.getElementById("app-bg-overlay"),s=document.getElementById("app-bg-notify-overlay"),o=document.getElementById("left-part"),c=document.getElementById("right-part");e&&(this.bgs=e),t&&(this.appDbBg=t),n&&(this.currentNext=n),r&&(this.appGpCurrentBg=r),a&&(this.appGpNextBg=a),i&&(this.appBgOverlay=i),s&&(this.appBgNotifyOverlay=s),o&&(this.leftMask=o),c&&(this.rightMask=c)}}var t=e.prototype;return t.setAppGpCurrentBgAlpha=function(e){this.appGpCurrentBg&&(this.appGpCurrentBg.style.opacity=e.toString())},t.setAppGpCurrentBgBackgroundImage=function(e){this.appGpCurrentBg&&(this.appGpCurrentBg.style.backgroundImage="url("+e+")")},t.setAppGpNextBgAlpha=function(e){this.appGpNextBg&&(this.appGpNextBg.style.opacity=e.toString())},t.setAppGpNextBgBackgroundImage=function(e){this.appGpNextBg&&(this.appGpNextBg.style.backgroundImage="url("+e+")")},t.setAppDbBgVisibility=function(e){this.appDbBg&&(this.appDbBg.style.visibility=e?"visible":"hidden")},t.setAppDbBgAlpha=function(e){this.appDbBg&&(this.appDbBg.style.opacity=e.toString())},t.setAppDbBgBackgroundImage=function(e){this.appDbBg&&(this.appDbBg.style.backgroundImage="url("+e+")")},t.setAppBgOverlayAlpha=function(e){if(this.appBgOverlay){var t=this.appBgOverlay.style;t.backgroundColor="rgba(0, 0, 0, "+e+")",t.visibility=e>0?"visible":"hidden"}},t.setAppBgNotifyOverlayAlpha=function(e){if(this.appBgNotifyOverlay){var t=this.appBgNotifyOverlay.style;t.backgroundColor="rgba(0, 0, 0, "+e+")",t.visibility=e>0?"visible":"hidden"}},t.moveAppDbBg=function(e){if(this.bgs&&this.currentNext&&this.appDbBg){var t=this.bgs,n=this.currentNext,r=this.appDbBg;e?(t.appendChild(n),t.appendChild(r)):(t.appendChild(r),t.appendChild(n))}},t.prepareSwitchAnim=function(e){var t=c+u[e];this.setAppGpNextBgBackgroundImage(t),this.setAppDbBgVisibility(!1)},t.swapCurrentNextBg=function(){var e=[this.appGpNextBg,this.appGpCurrentBg];this.appGpCurrentBg=e[0],this.appGpNextBg=e[1]},t.getMaskBgImgValue=function(e,t,n){void 0===n&&(n="blue");var r="rgba(46, 131, 237, 1)";return"black"===n&&(r="rgba(0, 0, 0, 1)"),"linear-gradient(to "+e+", rgba(0, 0, 0, 0), rgba(0, 0, 0 ,0) "+t+"%, "+r+" "+(t+30)+"%, "+r+")"},t.fadeOutHTMLBg=function(){var e=(0,r.Z)(i().mark((function e(t){var n=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.leftMask&&this.rightMask){e.next=2;break}return e.abrupt("return",(0,s.Z)(t,950));case 2:return this.leftMask.style.backgroundImage=this.getMaskBgImgValue("left",100),this.leftMask.hidden=!1,this.rightMask.style.backgroundImage=this.getMaskBgImgValue("right",100),this.rightMask.hidden=!1,e.abrupt("return",t.tweens.addCounter({from:100,to:-30,duration:950,onUpdate:function(e){if(n.leftMask&&n.rightMask){var t=e.getValue();n.leftMask.style.backgroundImage=n.getMaskBgImgValue("left",t),n.rightMask.style.backgroundImage=n.getMaskBgImgValue("right",t)}}}).waitForCompletion());case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.fadeInHTMLBg=function(){var e=(0,r.Z)(i().mark((function e(t,n,r){var a=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===r&&(r="blue"),this.leftMask&&this.rightMask){e.next=3;break}return e.abrupt("return",(0,s.Z)(t,n+860));case 3:return e.next=5,t.tweens.addCounter({delay:n,from:-30,to:100,duration:860,onUpdate:function(e){if(a.leftMask&&a.rightMask){var t=e.getValue();a.leftMask.style.backgroundImage=a.getMaskBgImgValue("left",t,r),a.rightMask.style.backgroundImage=a.getMaskBgImgValue("right",t,r)}}}).waitForCompletion();case 5:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}(),e}(),d=new l;t.Z=d},440:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(31),a=n(79),i=function(e){function t(t,n,r){var a;return(a=e.call(this,t,0,0,n,r)||this).setOrigin(0,0),a}return(0,r.Z)(t,e),t}(Phaser.GameObjects.Zone),s=n(430),o={LAYOUT_UPDATE:"layout-update"},c=function(e){function t(){var t;return(t=e.call(this,{visible:!1})||this).unsubscribeList=void 0,t.gameZone=void 0,t.background=void 0,t.handleOpenScene=function(){t.logPageviewOnOpen(),t.logEventOpen()},t.handleResize=function(){if(t.background&&t.gameZone){var e=t.world.getResizeEventData(),n=e.width,r=e.height;t.gameZone.setSize(n,r),t.background.setPosition(n/2,r/2),t.background.setDisplaySize(n,r),t.events.emit(o.LAYOUT_UPDATE)}},t.removeStateChange=function(){t.unsubscribeList.forEach((function(e){return e()}))},t}(0,r.Z)(t,e);var n=t.prototype;return n.create=function(){this.events.on("wake",this.handleOpenScene),this.events.on("resume",this.handleOpenScene),this.events.on("create",this.handleOpenScene),this.world.events.on(s.Z.RESIZE,this.handleResize),this.scaleGame(),this.createGameZone()},n.scaleGame=function(){var e=this.getCamera("main"),t=this.world.getZoomRatio(),n=this.world.getWorldSize(),r=n.width,a=n.height;e.setZoom(t),e.centerOn(r/2,a/2)},n.createGameZone=function(){var e=this.world.getWorldSize(),t=e.width,n=e.height;this.gameZone=new i(this,t,n)},n.getCamera=function(e){return"main"===e?this.cameras.main:this.cameras.getCamera(e)},n.createMask=function(e){void 0===e&&(e=1),this.getCamera("main").setBackgroundColor("rgba(0, 0, 0, "+e+")")},n.fontSize=function(e){return e/2.4},n.createBackground=function(e,t,n,r){this.background?(this.background.setTexture(e),t&&this.background.setFrame(t)):this.background=this.make.image({key:e,frame:t}),this.background.setName(e);var a=this.gameZone,i=a.displayWidth,s=a.displayHeight;this.background.setDisplaySize(i,s),GameCore.Utils.Valid.isNumber(n)&&this.background.setAlpha(n),GameCore.Utils.Valid.isNumber(r)&&this.background.setTint(r),Phaser.Display.Align.In.Center(this.background,this.gameZone)},n.handleStateChange=function(e){var t=this;this.unsubscribeList=[],e.forEach((function(e){var n=e.selector,r=e.callback,a=t.storage.watch(n,r);t.unsubscribeList.push(a)})),this.events.once("sleep",this.removeStateChange),this.events.once("destroy",this.removeStateChange),this.events.once("shutdown",this.removeStateChange)},n.logPageviewOnOpen=function(){this.analytics.pageview(this.scene.key)},n.logEventOpen=function(){this.analytics.event(a._.SCREEN_OPEN,{screen_name:this.getSceneName()})},n.getSceneName=function(){return GameCore.Utils.String.toUpperCamelCase(this.scene.key.toLowerCase())},t}(Phaser.Scene)},195:function(e,t,n){"use strict";n.d(t,{Z:function(){return G}});var r=n(119),a=n(31),i=n(80),s=n.n(i),o=n(121),c={targets:[],duration:600,ease:Phaser.Math.Easing.Cubic.Out,props:{alpha:{start:0,from:0,to:1}}},u=function(e){function t(t){return e.call(this,c,t)||this}return(0,a.Z)(t,e),t}(o.Z),l={targets:[],duration:600,ease:Phaser.Math.Easing.Quadratic.Out,props:{alpha:{start:1,from:1,to:0}}},d=function(e){function t(t){return e.call(this,l,t)||this}return(0,a.Z)(t,e),t}(o.Z),h=n(120),p=n(432),f=n(194),m=n(435),g=(0,n(429).P1)([function(e){return e.scene.currentSceneKey}],(function(e){return e})),v=n(191),y=n(440),k=n(92),b=n(434),E=n(196),x=h.Z.DEFAULT,S=x.KEY,w=x.FRAME,A=function(e){function t(t){var n;return(n=e.call(this,t,0,0)||this).fps=0,n.fpsString="FPS: %1",n.fpsText=void 0,n.background=void 0,n.lastUpdate=void 0,n.update=function(e){if(!(e-n.lastUpdate<800)){n.lastUpdate=e;var t=Math.floor(n.scene.game.loop.actualFps);n.setFps(t)}},n.createFps(),n.setDepth(E.Z.DEBUG),n.scene.add.existing((0,k.Z)(n)),n.scene.events.on(Phaser.Scenes.Events.UPDATE,n.update),n}(0,a.Z)(t,e);var n=t.prototype;return n.setFps=function(e){this.fps=e;var t=Phaser.Utils.String.Format(this.fpsString,[e]);this.fpsText.setText(t)},n.createFps=function(){this.background=this.scene.make.image({key:S,frame:w.BLANK}),this.background.setName("BG"),this.background.setTint(13801480),this.background.setWorldSize(45,25),this.fpsText=this.scene.make.text({style:{fontFamily:b.Z.FONT_FAMILY,fontSize:"14px"},text:this.fpsString}),this.fpsText.setHighQuality(),this.fpsText.setOrigin(.5,.5),this.fpsText.setName("FPS Meter"),Phaser.Display.Align.In.Center(this.fpsText,this.background),this.add([this.background,this.fpsText]),this.setFps(0)},t}(Phaser.GameObjects.Container),C=A,T=function(e){function t(t){var n;if((n=e.call(this,t,0,0)||this).performance=void 0,n.memory=0,n.maxMemoryLimit=void 0,n.maxPercentThreshold=void 0,n.normalColor=3459162,n.warningColor=16768343,n.alarmColor=15812200,n.memoryString="Memory: %1MB / %2MB",n.memoryText=void 0,n.lastUpdate=void 0,n.update=function(e){if(!(e-n.lastUpdate<1e3)){n.lastUpdate=e;var t=n.performance.memory.usedJSHeapSize,r=1048576*n.maxMemoryLimit,a=Math.round(t/1048576);n.setMemory(a),n.memoryText.setTint(n.normalColor),t>n.maxPercentThreshold/100*r&&n.memoryText.setTint(n.warningColor),t>r&&n.memoryText.setTint(n.alarmColor)}},n.performance=window.performance,n.createMemory(),n.setDepth(E.Z.DEBUG),n.scene.add.existing((0,k.Z)(n)),!n.isSupport())return n.memoryText.setText("Memory: not supported!"),(0,k.Z)(n);var r=n.performance.memory.jsHeapSizeLimit;return n.maxPercentThreshold=90,n.setMaxMemory(r/1048576),n.scene.events.on(Phaser.Scenes.Events.UPDATE,n.update),n}(0,a.Z)(t,e);var n=t.prototype;return n.isSupport=function(){var e;return this.performance&&!(null==(e=this.performance)||!e.memory)},n.setMaxMemory=function(e){this.maxMemoryLimit=Math.round(e)},n.setMemory=function(e){this.memory=e;var t=Phaser.Utils.String.Format(this.memoryString,[e,this.maxMemoryLimit]);this.memoryText.setText(t)},n.createMemory=function(){this.memoryText=this.scene.make.text({style:{fontFamily:b.Z.FONT_FAMILY,fontSize:"14px"},text:this.memoryString}),this.memoryText.setHighQuality(),this.memoryText.setOrigin(.5,.5),this.memoryText.setDepth(2e3),this.memoryText.setName("Memory Meter"),this.add(this.memoryText),this.setMemory(0)},t}(Phaser.GameObjects.Container),L=T,I={targets:[],duration:300,ease:n(439).Z,props:{scale:{from:1.2,to:1}}},P=function(e){function t(t){return e.call(this,I,t)||this}return(0,a.Z)(t,e),t}(o.Z),_=n(438),B=n(436),O=function(e){function t(t,n,r,a){var i;return(i=e.call(this,t,n,r,a)||this).loadingIcon=void 0,i.messageText=void 0,i.openAnimation=void 0,i.closeTimerEvent=void 0,i.addLoadingIcon(),i.addMessageText(),i.setDepth(f.Ks.PRIORITY),i.background.setAlpha(.8),i}(0,a.Z)(t,e);var n=t.prototype;return n.open=function(t){var n,r=this;e.prototype.open.call(this,t);var a=this.getData(["message","duration","loading"]),i=a[0],s=void 0===i?"":i,o=a[1],c=void 0===o?0:o,u=a[2],l=void 0!==u&&u;this.setMessage(s),this.showLoading(l),null==(n=this.closeTimerEvent)||n.remove(),c>0&&(this.closeTimerEvent=this.scene.time.addEvent({delay:c,callback:function(){r.visible&&r.scene.screen.close(r.name)}})),this.data.reset(),this.runOpenAnimation(),B.Z.setAppBgNotifyOverlayAlpha(this.background.alpha)},n.close=function(){e.prototype.close.call(this),B.Z.setAppBgNotifyOverlayAlpha(0)},n.addLoadingIcon=function(){this.loadingIcon=new _.Z(this.scene),this.add(this.loadingIcon),Phaser.Display.Align.In.Center(this.loadingIcon,this.zone)},n.addMessageText=function(){var e="30px";"ru"===this.scene.facebook.getLocale()&&(e="25px");var t=this.scene.make.text({style:{fontFamily:b.Z.FONT_FAMILY,fontSize:e,align:"center"},text:""});t.setHighQuality(),t.setOrigin(.5,.5),t.setLineSpacing(5);var n=t.context.createLinearGradient(0,0,0,t.height);n.addColorStop(0,"#ffffff"),n.addColorStop(1,"#cce5f9"),t.setFill(n),t.setShadow(0,6,"#0000003F",0,!1,!0),this.messageText=t,this.add(this.messageText)},n.setMessage=function(e){this.messageText.setText(e)},n.showLoading=function(e){this.loadingIcon.setVisible(e);var t=!1===e?20:80;Phaser.Display.Align.In.Center(this.messageText,this.zone,0,t)},n.runOpenAnimation=function(){var e,t;null==(e=this.openAnimation)||e.stop(),null==(t=this.openAnimation)||t.remove(),this.messageText.setScale(1),this.loadingIcon.resetScale(),this.openAnimation=new P({targets:[this.messageText,this.loadingIcon],props:{scale:{getStart:function(e){return e.scale-.3},getEnd:function(e){return e.scale}}}}),this.openAnimation.play()},n.logPageviewOnOpen=function(){},n.logPageviewOnClose=function(){},t}(GameCore.Screen),R=O,M=h.Z.DEFAULT,N=M.KEY,D=M.FRAME,F=function(e){function t(){for(var t,n,r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=e.call.apply(e,s()(t=[this]).call(t,a))||this).mask=void 0,n.fadeInAnim=void 0,n.fadeOutAnim=void 0,n.fpsMeter=void 0,n.memoryMeter=void 0,n.topZone=void 0,n.isBlockEnableTopZone=!1,n.switchScene=function(e){n.currentScene.switch(e)},n.emitGameEventStartScene=function(e){var t=e.scene.key;console.info("%cScene start","color: #D27D2D",t),n.updateSceneState(),n.runMaskFadeOutAnimation(),n.updateActiveSceneKey(t),n.game.events.emit(Phaser.Scenes.Events.START,t),(0,v.sw)("scene","Start scene: "+t)},n.emitGameEventSleepScene=function(e){var t=e.scene.scene.key;console.info("%cScene sleep","color: #D27D2D",t),t!==p.C.LOAD_SCENE&&(n.runMaskFadeInAnimation(),n.game.events.emit(Phaser.Scenes.Events.SLEEP,t))},n.emitGameEventWakeScene=function(e){var t=e.scene.scene.key;console.info("%cScene wake","color: #D27D2D",t),t!==p.C.LOAD_SCENE&&(n.updateSceneState(),n.runMaskFadeOutAnimation(),n.updateActiveSceneKey(t),n.game.events.emit(Phaser.Scenes.Events.WAKE,t))},n.emitGameEventPauseScene=function(e){var t=e.scene.scene.key;console.info("%cScene pause","color: #D27D2D",t),n.game.events.emit(Phaser.Scenes.Events.PAUSE,t)},n.emitGameEventResumeScene=function(e){var t=e.scene.key;console.info("%cScene resume","color: #D27D2D",t),n.game.events.emit(Phaser.Scenes.Events.RESUME,t)},n.emitGameEventShutdownScene=function(e){var t=e.scene.scene.key;console.info("%cScene shutdown","color: #D27D2D",t),n.game.events.emit(Phaser.Scenes.Events.SHUTDOWN,t)},n}(0,a.Z)(t,e);var n=t.prototype;return n.init=function(){this.listenScenesEvents(),this.game.globalScene=this},n.setup=function(){this.scaleGame(),this.addMask(),this.addNotifyScreen(),this.addFPS(),this.addMemory(),this.createInputDisableZone()},n.disableInput=function(){this.topZone.setVisible(!0)},n.enableInput=function(){this.isBlockEnableTopZone||this.topZone.setVisible(!1)},n.setBlockEnableTopZone=function(e){this.isBlockEnableTopZone=e},n.addNotifyScreen=function(){var e=this.screen.add(f.o4.NOTIFY_SCREEN,R);Phaser.Display.Align.In.Center(e,this.gameZone)},n.addMask=function(){this.mask=this.make.image({key:N,frame:D.BLANK});var e=this.gameZone,t=e.width,n=e.height;this.mask.setAlpha(0),this.mask.setOrigin(0,0),this.mask.setTint(0),this.mask.setWorldSize(t,n)},n.addFPS=function(){GameCore.Configs.Statistics.ShowFPSInGame&&(this.fpsMeter=new C(this),Phaser.Display.Align.In.TopLeft(this.fpsMeter,this.gameZone,-20,-10))},n.addMemory=function(){GameCore.Configs.Statistics.ShowMemoryInGame&&(this.memoryMeter=new L(this),Phaser.Display.Align.In.TopLeft(this.memoryMeter,this.gameZone,-45,-3))},n.createInputDisableZone=function(){var e=this.gameZone,t=e.width,n=e.height;this.topZone=this.add.zone(0,0,t,n),this.topZone.setInteractive({useHandCursor:!1}),this.topZone.setVisible(!1),this.topZone.setDepth(f.Ks.PRIORITY),Phaser.Display.Align.In.Center(this.topZone,this.gameZone)},n.updateSceneState=function(){this.setGlobalSceneOnTop()},n.setGlobalSceneOnTop=function(){this.scene.bringToTop(this)},n.runMaskFadeInAnimation=function(){var e,t;this.mask&&GameCore.Configs.EnableEffectSceneTransition&&(null==(e=this.fadeInAnim)||e.remove(),null==(t=this.fadeOutAnim)||t.remove(),this.fadeInAnim=new u({targets:[this.mask],duration:400,ease:Phaser.Math.Easing.Cubic.In,props:{alpha:{start:0,from:0,to:.6}}}),this.mask.setAlpha(0),this.fadeInAnim.play())},n.runMaskFadeOutAnimation=function(){var e,t;this.mask&&GameCore.Configs.EnableEffectSceneTransition&&(null==(e=this.fadeInAnim)||e.remove(),null==(t=this.fadeOutAnim)||t.remove(),this.fadeOutAnim=new d({targets:[this.mask],duration:400,ease:Phaser.Math.Easing.Cubic.Out,props:{alpha:{start:.6,from:.6,to:0}}}),this.mask.setAlpha(1),this.fadeOutAnim.play())},n.listenScenesEvents=function(){var e=this;this.scene.manager.getScenes(!1).forEach((function(t){t.events.on(Phaser.Scenes.Events.CREATE,e.emitGameEventStartScene),t.events.on(Phaser.Scenes.Events.SLEEP,e.emitGameEventSleepScene),t.events.on(Phaser.Scenes.Events.WAKE,e.emitGameEventWakeScene),t.events.on(Phaser.Scenes.Events.PAUSE,e.emitGameEventPauseScene),t.events.on(Phaser.Scenes.Events.RESUME,e.emitGameEventResumeScene),t.events.on(Phaser.Scenes.Events.SHUTDOWN,e.emitGameEventShutdownScene)})),this.events.on(p.K.SWITCH,this.switchScene)},n.getActiveScene=function(){return this.scene.manager.getScenes(!0)[0]},n.getCurrentScene=function(){return this.currentScene},n.updateActiveSceneKey=function(e){e!==p.C.GLOBAL_SCENE&&this.storage.dispatch((0,m.I)(e))},n.logEventOpen=function(){},n.logPageviewOnOpen=function(){},(0,r.Z)(t,[{key:"currentScene",get:function(){var e=this.storage.getState(),t=g(e);return(t?this.scene.manager.getScene(t):this.getActiveScene()).scene}}]),t}(y.Z),G=F},556:function(e,t,n){"use strict";var r=n(191),a=n(423),i=n(78),s=n(37),o=n(31),c=n(48),u=n.n(c),l=n(26),d=n.n(l),h=n(592),p=0,f=0,m=function(){function e(e){this.game=void 0,this.progressFbTimeEvent=void 0,this.game=e}var t=e.prototype;return t.loadingProgressFbBootScene=function(){var e=this,t=100;f=30;!function n(){t<=0?clearTimeout(e.progressFbTimeEvent):e.progressFbTimeEvent=setTimeout((function(){e.game.facebook.setLoadingProgress(Math.round(f)),f+=30/t,t--,n()}),50)}()},t.finishLoadingProgressFbBootScene=function(){clearTimeout(this.progressFbTimeEvent)},t.loadingProgressFbLoadScene=function(){var e=this;(!f||f<30)&&(f=60),p=f;!function t(){e.progressFbTimeEvent=setTimeout((function(){e.game.facebook.setLoadingProgress(Math.round(f)),f+=.1,t()}),50)}()},t.onProgress=function(e){var t=100-f,n=Math.round(e*t+f);n>p&&clearTimeout(this.progressFbTimeEvent),this.game.facebook.setLoadingProgress(n)},e}(),g=m,v=n(49),y=n.n(v),k=function(){function e(e){this.game=void 0,this.game=e}var t=e.prototype;return t.addKillRevive=function(){var e=this;[Phaser.GameObjects.Container,Phaser.GameObjects.Image,Phaser.GameObjects.Sprite,Phaser.GameObjects.Graphics,Phaser.GameObjects.Text,Phaser.GameObjects.BitmapText,Phaser.GameObjects.Particles.ParticleEmitter,Phaser.GameObjects.Particles.ParticleEmitterManager].forEach((function(t){t.prototype.kill=e.kill,t.prototype.revive=e.revive}))},t.addKillReviveGroup=function(){Phaser.GameObjects.Group.prototype.killGroup=this.killGroup,Phaser.GameObjects.Group.prototype.reviveGroup=this.reviveGroup},t.addSetWorldSize=function(){var e=this;[Phaser.GameObjects.Image,Phaser.GameObjects.Sprite].forEach((function(t){t.prototype.setWorldSize=e.setWorldSize}))},t.addSetWorldSizeForContainer=function(){var e=this;[Phaser.GameObjects.Container].forEach((function(t){t.prototype.setWorldSize=e.setWorldSizeForContainer}))},t.addGetWorldPosition=function(){var e=this;[Phaser.GameObjects.Container,Phaser.GameObjects.Image,Phaser.GameObjects.Sprite,Phaser.GameObjects.Graphics,Phaser.GameObjects.Text,Phaser.GameObjects.BitmapText].forEach((function(t){t.prototype.getWorldPosition=e.getWorldPosition}))},t.addGetLocalPosition=function(){Phaser.GameObjects.Container.prototype.getLocalPosition=this.getLocalPosition},t.addSetSizeBasedOnDpr=function(){var e=this;[Phaser.GameObjects.Image].forEach((function(t){t.prototype.setSizeBasedOnDpr=e.setSizeBasedOnDpr}))},t.addWaitPromises=function(){var e=[Phaser.Tweens.PENDING_REMOVE,Phaser.Tweens.REMOVED];Phaser.Tweens.Tween.prototype.waitForCompletion=function(t){var n=this;return void 0===t&&(t=!0),y()(e).call(e,this.state)?u().resolve():new(u())((function(e){t&&n.on(Phaser.Tweens.Events.TWEEN_STOP,(function(){return e()})),n.on(Phaser.Tweens.Events.TWEEN_COMPLETE,(function(){return e()}))}))},Phaser.Tweens.Tween.prototype.waitForLoops=function(t,n){var r=this;return void 0===n&&(n=!0),y()(e).call(e,this.state)?u().resolve():new(u())((function(e){n&&(r.on(Phaser.Tweens.Events.TWEEN_COMPLETE,(function(){return e()})),r.on(Phaser.Tweens.Events.TWEEN_STOP,(function(){return e()}))),r.on(Phaser.Tweens.Events.TWEEN_LOOP,(function(){0==--t&&e()}))}))},Phaser.Tweens.Tween.prototype.waitForProgress=function(t,n){var r=this;return void 0===n&&(n=!0),y()(e).call(e,this.state)?u().resolve():new(u())((function(e){n&&(r.on(Phaser.Tweens.Events.TWEEN_COMPLETE,(function(){return e()})),r.on(Phaser.Tweens.Events.TWEEN_STOP,(function(){return e()}))),r.on(Phaser.Tweens.Events.TWEEN_UPDATE,(function(){r.progress>=t&&e()}))}))},Phaser.Tweens.Tween.prototype.waitForTimeElapsed=function(t,n){var r=this;return void 0===n&&(n=!0),y()(e).call(e,this.state)?u().resolve():new(u())((function(e){n&&(r.on(Phaser.Tweens.Events.TWEEN_COMPLETE,(function(){return e()})),r.on(Phaser.Tweens.Events.TWEEN_STOP,(function(){return e()}))),r.on(Phaser.Tweens.Events.TWEEN_UPDATE,(function(){r.totalElapsed>=t&&e()}))}))}},t.addDrawDebugBox=function(){var e=this;[Phaser.GameObjects.Container,Phaser.GameObjects.Image,Phaser.GameObjects.Sprite,Phaser.GameObjects.Graphics,Phaser.GameObjects.Text,Phaser.GameObjects.BitmapText,Phaser.GameObjects.Zone].forEach((function(t){t.prototype.drawDebugBox=e.drawDebugBox}))},t.addDrawDynamicDebugBox=function(){var e=this;[Phaser.GameObjects.Container].forEach((function(t){t.prototype.drawDynamicDebugBox=e.drawDynamicDebugBox}))},t.addHighQuality=function(){var e=this;[Phaser.GameObjects.Text].forEach((function(t){t.prototype.setHighQuality=e.setHighQuality}))},t.addSetLineHeightForBitmapText=function(){Phaser.GameObjects.BitmapText.prototype.setLineHeight=function(e){this.lineHeight=e,this.updateDisplayOrigin()}},t.kill=function(){this.setActive(!1),this.setVisible(!1)},t.revive=function(){this.setActive(!0),this.setVisible(!0)},t.killGroup=function(){this.getChildren().forEach((function(e){e.setActive(!1),e.setVisible(!1)}))},t.reviveGroup=function(){this.getChildren().forEach((function(e){e.setActive(!0),e.setVisible(!0)}))},t.setWorldSize=function(e,t){this.setSize(e,t),this.setDisplaySize(e,t)},t.setWorldSizeForContainer=function(e,t,n){void 0===n&&(n=2),this.setSize(e*n,t*n),this.setDisplaySize(e,t)},t.getWorldPosition=function(){var e=this.getWorldTransformMatrix().decomposeMatrix();return{x:e.translateX,y:e.translateY}},t.setSizeBasedOnDpr=function(){var e=this.frame,t=e.realWidth,n=e.realHeight,r=1/GameCore.Utils.Image.getImageScale();this.setWorldSize(t*r,n*r)},t.drawDynamicDebugBox=function(){var e=this,t=this.scene.add.graphics({lineStyle:{width:2,color:16711680}});this.add(t),this.scene.game.globalScene.events.on(Phaser.Scenes.Events.UPDATE,(function(){t.clear(),t.strokeRect(-e.width/2,-e.height/2,e.width,e.height)}))},t.drawDebugBox=function(e,t){var n=this.x,r=this.y,a=this.width,i=this.height,s=this.depth,o=this.originX,c=this.originY,u=this.scene.add.rectangle(n,r,a,i,e,t);u.setName("Debug Box"),u.setDepth(s);var l=GameCore.Utils.Valid.isNumber;return l(o)&&l(c)&&u.setOrigin(o,c),u},t.setHighQuality=function(){return this.renderer instanceof Phaser.Renderer.WebGL.WebGLRenderer?this.setResolution(2*this.scene.game.world.getZoomRatio()):this},t.getLocalPosition=function(e){var t=e.getWorldTransformMatrix().decomposeMatrix(),n=t.translateX,r=t.translateY;return this.getLocalPoint(n,r)},e}(),b=k,E=n(62),x=n.n(E),S=n(123),w=n.n(S),A=n(124),C=n.n(A),T=n(198),L=n.n(T),I=n(80),P=n.n(I),_=n(199),B=n.n(_),O=[{url:"./assets/images/others/mock1.jpg",title:"Buy lottery tickets on behalf",description:"\ud83d\udca5\ud83d\udca5\ud83d\udca5 Place an order for lottery tickets from 3 regions!!! \u2705 Fast - Convenient - Safe \u2705 Diverse products \u2705 Payment...",buttonName:"Discover more"},{url:"./assets/images/others/mock2.jpg",title:"SYSTEM-WIDE SALE UP TO 50%",description:'\ud83d\udd25 \ud835\uddec\ud835\uddd8\ud835\uddd4\ud835\udde5 \ud835\uddd8\ud835\udde1\ud835\uddd7 \ud835\udde6\ud835\uddd4\ud835\udddf\ud835\uddd8 | \ud835\udde8\ud835\udde3 \ud835\udde7\ud835\udde2 \ud835\udff1\ud835\udfec% "BIG PARTY" AUTHENTIC SPORTSWEAR SHOCKINGLY REDUCED PRICES! \ud83c\udf81 From...',buttonName:"Discover more"},{url:"./assets/images/others/mock3.jpg",title:"Register now",description:"Play safe, play fun, play 9club!",buttonName:"Register"}],R=function(){function e(){}return e.loadBannerAdAsync=function(){var e=(0,s.Z)(d().mark((function e(){var t,n,r,a,i,s,o,c,l,h;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.currentIdx=(this.currentIdx+1)%O.length,this.hideBannerAdAsync(),e.next=4,new(u())((function(e){setTimeout((function(){e()}),2e3)}));case 4:if(!document.getElementById("mock-banner-ads")){e.next=16;break}return t=O[this.currentIdx],n=t.url,r=t.buttonName,a=t.title,i=t.description,(s=document.getElementById("banner-content-text1"))&&(s.innerHTML=a),(o=document.getElementById("banner-content-text2"))&&(o.innerHTML=i),(c=document.getElementById("mock-banner-ads-avatar"))&&(c.style.background="url("+n+") center center/contain no-repeat"),(l=document.getElementById("banner-content-button"))&&(l.innerHTML=r),e.abrupt("return");case 16:h=GameCore.Utils.Device.isDesktop(),50,h?this.createDesktopBannerAd(50):this.createMobileBannerAd(50);case 19:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),e.createDesktopBannerAd=function(e){var t=this,n=O[this.currentIdx],r=n.url,a=n.buttonName,i=n.title,s=n.description,o=document.createElement("div");o.id="mock-banner-ads",o.style.width="100%",o.style.height=e+"px",o.style.bottom="var(--sab)",o.style.display="flex",o.style.position="absolute",o.style.opacity=this.currentOpacity;var c=document.createElement("div");c.id="mock-banner-ads-display-area",c.style.width="100%",c.style.height="100%",c.style.background="#323436 center center/auto no-repeat",c.style.borderRadius="10px",c.style.marginLeft="4px",c.style.marginRight="4px",c.style.display="block",c.style.alignContent="center";var u=document.createElement("div");u.id="mock-banner-ads-content",u.style.boxSizing="border-box",u.style.flexDirection="row",u.style.display="flex",u.style.position="relative",u.style.alignItems="stretch",u.style.paddingLeft="4px",u.style.paddingRight="4px",u.style.justifyContent="space-between";var l=document.createElement("div");l.id="mock-banner-ads-avatar",l.style.marginLeft="10px",l.style.width=e+"px",l.style.minWidth=e+"px",l.style.height=e+"px",l.style.display="flex",l.style.flexDirection="column",l.style.position="relative",l.style.background="url("+r+") center center/contain no-repeat",l.style.borderRadius="50%";var d=document.createElement("div");d.id="mock-banner-ads-right-content",d.style.width="100%",d.style.paddingLeft="10px",d.style.display="flex",d.style.flexDirection="row",d.style.position="relative",d.style.color="#E4E6EB",d.style.wordWrap="break-word",d.style.textAlign="left",d.style.alignContent="center",d.style.alignItems="center",d.style.fontSize="12px",d.style.fontFamily="Helvetica, Arial, sans-serif, Roboto, Helvetica, Arial, sans-serif",l.style.boxSizing="border-box";var h=document.createElement("div");h.style.flexDirection="column",h.style.display="flex",h.style.justifyContent="center",h.style.flexShrink="1",h.style.flexGrow="1",h.style.flexBasis="0",h.style.boxSizing="border-box",h.style.minWidth="0",h.innerHTML="\n            <div id='banner-content-text1' style=\"font-weight:600;line-height: 1.3333;font-size: .9375rem;text-overflow: ellipsis;-webkit-line-clamp: 1;overflow: hidden;display: -webkit-box;-webkit-box-orient: vertical;\">"+i+"</div>\n            <div id='banner-content-text2' style=\"font-weight:400;line-height: 1.2308;font-size: .8125rem;text-overflow: ellipsis;-webkit-line-clamp: 2;overflow: hidden;display: -webkit-box;-webkit-box-orient: vertical;\">"+s+"</div>";var p=document.createElement("button");p.id="banner-content-button",p.type="button",p.style.width="120px",p.style.height=e-20+"px",p.style.fontWeight="600",p.style.backgroundColor="#3963fc",p.style.border="none",p.style.color="white",p.style.borderRadius="5px",p.style.textAlign="center",p.style.display="inline-block",p.style.cursor="pointer",p.style.marginRight="10px",p.style.marginLeft="10px",p.style.flexShrink="1",p.style.boxSizing="border-box",p.style.paddingRight="2px",p.style.paddingLeft="2px",p.innerHTML=a,p.onclick=function(){"0.2"===t.currentOpacity?o.style.opacity="1":o.style.opacity="0.2",t.currentOpacity=o.style.opacity};var f=document.createElement("button");f.type="button",f.style.width=e-20+"px",f.style.height=e-20+"px",f.style.fontWeight="1000",f.style.backgroundColor="#5a5c5c",f.style.border="none",f.style.color="white",f.style.borderRadius="50%",f.style.textAlign="center",f.style.display="inline-block",f.style.cursor="pointer",f.style.marginRight="10px",f.style.marginLeft="10px",f.style.flexShrink="0",f.style.boxSizing="border-box",f.style.paddingRight="2px",f.style.paddingLeft="2px",f.innerHTML="...",document.body.appendChild(o),o.appendChild(c),c.appendChild(u),u.appendChild(l),u.appendChild(d),d.appendChild(h),d.appendChild(p),d.appendChild(f)},e.createMobileBannerAd=function(e){var t=this,n=O[this.currentIdx],r=n.url,a=n.buttonName,i=n.title,s=n.description,o=document.createElement("div");o.id="mock-banner-ads",o.style.width="100%",o.style.height=e+"px",o.style.bottom="var(--sab)",o.style.display="block",o.style.position="absolute",o.style.opacity=this.currentOpacity;var c=document.createElement("div");c.id="mock-banner-ads-display-area",c.style.background="#ffffff center center/auto no-repeat",c.style.display="block",c.style.alignContent="center";var u=document.createElement("div");u.id="mock-banner-ads-content",u.style.boxSizing="border-box",u.style.flexDirection="row",u.style.display="flex",u.style.position="relative",u.style.alignItems="stretch",u.style.justifyContent="space-between";var l=document.createElement("div");l.id="mock-banner-ads-avatar",l.style.width=e+"px",l.style.minWidth=e+"px",l.style.height=e+"px",l.style.display="flex",l.style.flexDirection="column",l.style.position="relative",l.style.background="url("+r+") center center/contain no-repeat";var d=document.createElement("div");d.id="mock-banner-ads-right-content",d.style.width="100%",d.style.paddingLeft="10px",d.style.display="flex",d.style.flexDirection="row",d.style.position="relative",d.style.color="#000",d.style.wordWrap="break-word",d.style.textAlign="left",d.style.alignContent="center",d.style.alignItems="center",d.style.fontSize="12px",d.style.fontFamily="Helvetica, Arial, sans-serif, Roboto, Helvetica, Arial, sans-serif",l.style.boxSizing="border-box";var h=document.createElement("div");h.style.flexDirection="column",h.style.display="flex",h.style.justifyContent="center",h.style.flexShrink="1",h.style.flexGrow="1",h.style.flexBasis="0",h.style.boxSizing="border-box",h.style.minWidth="0",h.innerHTML="\n            <div id='banner-content-text1' style=\"font-weight:600;line-height: 1.3333;font-size: .9375rem;text-overflow: ellipsis;-webkit-line-clamp: 1;overflow: hidden;display: -webkit-box;-webkit-box-orient: vertical;\">"+i+"</div>\n            <div id='banner-content-text2' style=\"font-weight:400;line-height: 1.2308;font-size: .8125rem;text-overflow: ellipsis;-webkit-line-clamp: 1;overflow: hidden;display: -webkit-box;-webkit-box-orient: vertical;\">"+s+"</div>";var p=document.createElement("button");p.id="banner-content-button",p.type="button",p.style.height="100%",p.style.fontWeight="600",p.style.backgroundColor="#3963fc",p.style.border="none",p.style.color="white",p.style.textAlign="center",p.style.display="inline-block",p.style.cursor="pointer",p.style.marginLeft="10px",p.style.flexShrink="1",p.style.boxSizing="border-box",p.style.paddingRight="7px",p.style.paddingLeft="7px",p.innerHTML=a,p.onclick=function(){"0.2"===t.currentOpacity?o.style.opacity="1":o.style.opacity="0.2",t.currentOpacity=o.style.opacity},document.body.appendChild(o),o.appendChild(c),c.appendChild(u),u.appendChild(l),u.appendChild(d),d.appendChild(h),d.appendChild(p)},e.hideBannerAdAsync=function(){var e=(0,s.Z)(d().mark((function e(){var t;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=document.getElementById("mock-banner-ads")){e.next=3;break}return e.abrupt("return");case 3:t.remove();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e}();R.currentIdx=-1,R.currentOpacity="1";var M={LOADED:"loaded",DISPLAYED:"displayed"},N=function(e){return e.IDLE="idle",e.LOADING="loading",e.FILLED="filled",e.SHOWING="showing",e}(N||{}),D=N,F=function(e){return e.REWARDED="rewarded",e.PRE_ROLL="pre-roll",e.INTERSTITIAL="interstitial",e.BANNER="banner",e}(F||{}),G=F,Z=n(192),U=function(e){function t(t,n){var r;return(r=e.call(this,n)||this).code=void 0,r.code=t,r.message=n,r}return(0,o.Z)(t,e),t}((0,Z.Z)(Error)),K=function(e){this.type=void 0,this.status=void 0,this.type=e,this.status=D.IDLE};function H(e,t){var n="undefined"!==typeof C()&&L()(e)||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){var n;if(!e)return;if("string"===typeof e)return W(e,t);var r=x()(n=Object.prototype.toString.call(e)).call(n,8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return w()(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return W(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function W(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}GameCore.Ads={Types:G,Status:D,Events:M,AdError:U,AdInstance:K};var V=function(e){function t(){for(var t,n,r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=e.call.apply(e,P()(t=[this]).call(t,a))||this).events=void 0,n.enabled=void 0,n.config=void 0,n.lastInterAdShownTime=void 0,n.lastInterAdLoadedTime=void 0,n.lastRewardAdShownTime=void 0,n.interstitial=void 0,n.rewardedVideo=void 0,n.preRoll=void 0,n.fallbackInterstitial=void 0,n.fallbackRewardedVideo=void 0,n.fallbackPreRoll=void 0,n.safeAreaBottom=void 0,n.showingBannerAd=void 0,n.reloadBannerAdIntervals=void 0,n.bannerAdConfigs=void 0,n.isHaveBannerAdOptions=void 0,n.isFallbackReady=void 0,n.isFallbackInitialized=void 0,n.isBannerAdsShown=void 0,n}(0,o.Z)(t,e);var r=t.prototype;return r.init=function(){this.events=new Phaser.Events.EventEmitter,this.safeAreaBottom=0,this.lastInterAdShownTime=0,this.lastInterAdLoadedTime=0,this.lastRewardAdShownTime=0,this.showingBannerAd={},this.reloadBannerAdIntervals={},this.bannerAdConfigs=[],this.isHaveBannerAdOptions=!0,this.isFallbackReady=!1,this.isFallbackInitialized=!1,this.isBannerAdsShown=!1},r.calculateSafeAreaBottom=function(){try{if(!this.config.calculateSafeAreaBottom)return;this.safeAreaBottom=parseInt(getComputedStyle(document.documentElement).getPropertyValue("--sab")),isNaN(this.safeAreaBottom)&&(this.safeAreaBottom=0)}catch(e){this.safeAreaBottom=0}},r.configure=function(e,t){this.enabled=t.enabled,this.config=t,this.setAdInstance(e),this.setBannerAdConfigStatus(),this.calculateSafeAreaBottom()},r.setBannerAdConfigStatus=function(){for(var e,t=this.config.bannerAdOptions,n=GameCore.Utils.Device.isDesktop(),r=H(t);!(e=r()).done;){var a=e.value,i=a.platform,s="ALL"==i||"DESKTOP"==i&&n||"MOBILE"==i&&!n;this.bannerAdConfigs.push({config:a,canShow:s}),s&&(this.isHaveBannerAdOptions=!0)}},r.setAdInstance=function(e){var t=this.config,n=t.rewardAdOptions,r=t.interstitialAdOptions;this.interstitial=new e(G.INTERSTITIAL,r.pID),this.rewardedVideo=new e(G.REWARDED,n.pID),this.preRoll=new e(G.PRE_ROLL,r.pID)},r.setFallbackAdInstance=function(e){var t=this.config,n=t.rewardAdOptions,r=t.interstitialAdOptions;this.fallbackInterstitial=new e(G.INTERSTITIAL,r.pID),this.fallbackRewardedVideo=new e(G.REWARDED,n.pID),this.fallbackPreRoll=new e(G.PRE_ROLL,r.pID)},r.preloadInterstitialAdAsync=function(){var e=(0,s.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.preloadAdAsync(G.INTERSTITIAL);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),r.showInterstitialAdAsync=function(){var e=(0,s.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.canbeShowInterstitialAdByTime()){e.next=2;break}throw new U("INTERSTITIAL_AD_CAN_NOT_SHOW","Can't show interstitial ad");case 2:return e.next=4,this.showAdAsync(G.INTERSTITIAL);case 4:this.lastInterAdShownTime=window.performance.now()/1e3;case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),r.preloadPreRollAdAsync=function(){var e=(0,s.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.preloadAdAsync(G.PRE_ROLL);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),r.showPreRollAdAsync=function(){var e=(0,s.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.showAdAsync(G.PRE_ROLL);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),r.preloadRewardedVideoAsync=function(){var e=(0,s.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.preloadAdAsync(G.REWARDED);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),r.showRewardedVideoAsync=function(){var e=(0,s.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.canbeShowRewardAd()){e.next=2;break}throw new U("REWARDED_VIDEO_CAN_NOT_SHOW","Can't show rewarded video");case 2:return e.next=4,this.showAdAsync(G.REWARDED);case 4:this.lastRewardAdShownTime=window.performance.now()/1e3;case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),r.getRemainingRewardTime=function(){var e=window.performance.now()/1e3,t=this.config.rewardAdOptions.secondsBetweenAds,n=e-this.lastRewardAdShownTime;return n<t?t-n:0},r.preloadAdAsync=function(){var e=(0,s.Z)(d().mark((function e(t){var n,r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.enabled){e.next=2;break}throw new U("ADS_NOT_ENABLED","Ads is't enabled");case 2:return e.next=4,this.preloadMainAdService(t);case 4:if(!0!==(n=e.sent)){e.next=7;break}return e.abrupt("return");case 7:if(this.isFallbackReady){e.next=9;break}throw n;case 9:return e.next=11,this.preloadFallbackAdService(t);case 11:if(!0!==(r=e.sent)){e.next=14;break}return e.abrupt("return");case 14:throw r;case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),r.preloadMainAdService=function(e){var t=this;return new(u())((function(n){var r=!1;t.preloadAdInstanceAsync(e,!1).then((function(){r=!0})).catch((function(e){t.isFallbackReady||t.initFallbackAdsService().catch((function(){t.isFallbackReady=!1})),r=e})).finally((function(){n(r)}))}))},r.preloadFallbackAdService=function(e){var t=this;return new(u())((function(n){var r=!1;t.isFallbackReady||n(new U("FALLBACK_NOT_READY","Fallback ads not ready")),t.preloadAdInstanceAsync(e,!0).then((function(){r=!0})).catch((function(e){r=e})).finally((function(){n(r)}))}))},r.preloadAdInstanceAsync=function(){var e=(0,s.Z)(d().mark((function e(t,n){var r,a=this;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===n&&(n=!1),null!==(r=this.getAdInstanceByType(t,n))){e.next=4;break}throw new U("AD_INSTANCE_NOT_INITIATED","The instance ads not yet initiated");case 4:if(r.getStatus()!==D.LOADING){e.next=8;break}return e.next=7,new(u())((function(e){a.events.once(M.LOADED,e)}));case 7:return e.abrupt("return");case 8:return t!==G.INTERSTITIAL&&t!==G.PRE_ROLL||(this.lastInterAdLoadedTime=window.performance.now()/1e3),e.next=11,r.loadAsync();case 11:this.events.emit(M.LOADED,t);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),r.showAdAsync=function(){var e=(0,s.Z)(d().mark((function e(t){var n,r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.enabled){e.next=2;break}throw new U("ADS_NOT_ENABLED","Ads is't enabled");case 2:return e.next=4,this.showMainAdService(t);case 4:if(!0!==(n=e.sent)){e.next=7;break}return e.abrupt("return");case 7:if(!this.isUserCancelledAdError(n)&&this.isAdFallbackReadyToShow(t)){e.next=9;break}throw n;case 9:return e.next=11,this.showFallbackAdService(t);case 11:if(!0!==(r=e.sent)){e.next=14;break}return e.abrupt("return");case 14:throw r;case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),r.showMainAdService=function(e){var t=this;return new(u())((function(n){var r=!1;t.showAdInstanceAsync(e,!1).then((function(){r=!0})).catch((function(e){r=e,t.isUserCancelledAdError(e)||t.isFallbackReady||t.initFallbackAdsService().catch((function(){t.isFallbackReady=!1}))})).finally((function(){n(r)}))}))},r.showFallbackAdService=function(e){var t=this;return new(u())((function(n){var r=!1;t.isFallbackReady||n(new U("FALLBACK_NOT_READY","Fallback ads not ready")),t.showAdInstanceAsync(e,!0).then((function(){r=!0})).catch((function(e){r=e})).finally((function(){n(r)}))}))},r.showAdInstanceAsync=function(){var e=(0,s.Z)(d().mark((function e(t,n){var r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===n&&(n=!1),null!==(r=this.getAdInstanceByType(t,n))){e.next=4;break}throw new U("AD_INSTANCE_NOT_INITIATED","The instance ads not yet initiated");case 4:return t!==G.INTERSTITIAL&&t!==G.PRE_ROLL||(this.lastInterAdShownTime=window.performance.now()/1e3),t===G.REWARDED&&(this.lastRewardAdShownTime=window.performance.now()/1e3,this.config.enableRewardVideoResetInterstitial&&(this.lastInterAdShownTime=this.lastRewardAdShownTime)),e.next=8,r.showAsync();case 8:this.events.emit(M.DISPLAYED,t);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),r.getAdStatus=function(e){var t=this.getAdInstanceByType(e);return t?t.getStatus():null},r.getAdInstanceByType=function(e,t){if(void 0===t&&(t=!1),t)switch(e){case G.INTERSTITIAL:return this.fallbackInterstitial;case G.REWARDED:return this.fallbackRewardedVideo;case G.PRE_ROLL:return this.fallbackPreRoll;default:return null}switch(e){case G.INTERSTITIAL:return this.interstitial;case G.REWARDED:return this.rewardedVideo;case G.PRE_ROLL:return this.preRoll;default:return null}},r.canbeShowInterstitialAd=function(){var e=this.canbeLoadInterstitialAdByTime();return e&&(e=this.canbeShowInterstitialAdByTime()),e},r.canbeLoadInterstitialAdByTime=function(){var e=window.performance.now()/1e3,t=this.config.interstitialAdOptions,n=t.secondsFirstTime,r=t.secondsBetweenAds,a=Math.floor(e-this.lastInterAdLoadedTime);return this.lastInterAdLoadedTime>0?a>=r:a>=n},r.canbeShowInterstitialAdByTime=function(){var e=window.performance.now()/1e3,t=this.config.interstitialAdOptions,n=t.secondsFirstTime,r=t.secondsBetweenAds,a=Math.floor(e-this.lastInterAdShownTime);return this.lastInterAdShownTime>0?a>=r:a>=n},r.canbeShowRewardAd=function(){var e=window.performance.now()/1e3,t=this.config.rewardAdOptions,n=t.secondsFirstTime,r=t.secondsBetweenAds,a=Math.floor(e-this.lastRewardAdShownTime);return this.lastRewardAdShownTime>0?a>=r:a>=n},r.getEnabledBannerAds=function(){if(!this.isHaveBannerAdOptions)return[];for(var e,t=[],n=H(this.bannerAdConfigs);!(e=n()).done;){var r=e.value,a=r.config;r.canShow&&t.push(a)}return t},r.disableBannerAds=function(){this.config.bannerAdOptions=[]},r.showBannerAdAsync=function(){var e=(0,s.Z)(d().mark((function e(){var t;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.enabled){e.next=2;break}return e.abrupt("return");case 2:if(!this.isBannerAdsShown){e.next=5;break}return e.next=5,this.hideBannerAdAsync();case 5:if(0!==(t=this.getEnabledBannerAds()).length){e.next=8;break}return e.abrupt("return");case 8:return this.reloadBannerAdIntervals=this.reloadBannerAdIntervals||{},this.loadBannerAdAsync("",t),e.abrupt("return");case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),r.loadBannerAdAsync=function(){var e=(0,s.Z)(d().mark((function e(t,n){var r,a,i=this;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.enabled){e.next=2;break}return e.abrupt("return");case 2:if(r=this.getSceneName(),a=GameCore.Configs.Ads,e.prev=4,"msgames"===a.AdService){e.next=7;break}throw new U("BANNER_ADS_NOT_SUPPORTED","Banner ads not supported");case 7:if(!a.Mockup.Enable){e.next=12;break}return e.next=10,R.loadBannerAdAsync();case 10:e.next=14;break;case 12:return e.next=14,GameSDK.loadBannerAdAsync(t,n);case 14:this.isBannerAdsShown=!0,n.forEach((function(e){var t=e.placementId,n=e.position,s=e.bannerWidth,o=e.bannerHeight;if(t&&""!==t){var c=n+":"+s+"x"+o;i.showingBannerAd[t]=!0,window.game.analytics.showBannerAd(c,r,a.AdService)}})),e.next=23;break;case 18:e.prev=18,e.t0=e.catch(4),console.log(e.t0),this.isBannerAdsShown=!1,n.forEach((function(e){var t=e.position+":"+e.bannerWidth+"x"+e.bannerHeight,n={type:G.BANNER,placement:r,bannerPosition:t,adService:a.AdService};window.game.analytics.showAdFail(n)}));case 23:case"end":return e.stop()}}),e,this,[[4,18]])})));return function(t,n){return e.apply(this,arguments)}}(),r.hideBannerAdAsync=function(){var e=(0,s.Z)(d().mark((function e(){var t;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.enabled){e.next=2;break}return e.abrupt("return");case 2:if(this.isHaveBannerAdOptions){e.next=4;break}return e.abrupt("return");case 4:if(this.isBannerAdsShown=!1,e.prev=5,"msgames"===(t=GameCore.Configs.Ads).AdService){e.next=9;break}throw new U("BANNER_ADS_NOT_SUPPORTED","Banner ads not supported");case 9:if(!t.Mockup.Enable){e.next=14;break}return e.next=12,R.hideBannerAdAsync();case 12:e.next=16;break;case 14:return e.next=16,GameSDK.hideBannerAdAsync();case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(5),console.log(e.t0);case 21:case"end":return e.stop()}}),e,this,[[5,18]])})));return function(){return e.apply(this,arguments)}}(),r.getBannerHeight=function(){if(!this.enabled)return 0;if(!this.isBannerAdsShown)return 0;var e=this.getBottomBannerConfig();if(!e)return 0;var t=e.bannerHeight,n=(void 0===t?0:t)+this.safeAreaBottom+20;if(this.game.world){var r=this.game.world,a=r.getPixelRatio(),i=r.getZoomRatio();return this.game.world.getPhysicPixels(n,a/i)}return n},r.getBottomBannerConfig=function(){var e=this.getEnabledBannerAds();return 0===e.length?null:B()(e).call(e,(function(e){return"bottom"===e.position}))||null},r.getSceneName=function(){try{var e=self.game.globalScene;return this.globalSceneTypeCheck(e)?e.getCurrentScene().scene.getSceneName():"unknown"}catch(t){return"unknown"}},r.globalSceneTypeCheck=function(e){return"getCurrentScene"in e&&"function"===typeof e.getCurrentScene},r.initFallbackAdsService=function(){var e=(0,s.Z)(d().mark((function e(){var t,n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=GameCore.Configs.Ads,!this.isFallbackInitialized){e.next=3;break}return e.abrupt("return");case 3:return this.isFallbackInitialized=!0,e.next=6,this.getFallbackAdServiceInstance();case 6:n=e.sent,"none"!==t.FallbackService&&null!==n&&(this.isFallbackReady=!0,this.setFallbackAdInstance(n));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),r.getFallbackAdServiceInstance=function(){var e=(0,s.Z)(d().mark((function e(){var t,r,a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=GameCore.Configs.Ads.FallbackService,e.next=3,Promise.resolve().then(n.bind(n,589));case 3:if(r=e.sent.default,"google"!==t){e.next=16;break}return e.prev=5,e.next=8,this.initGoogleAdInstanceAsync();case 8:if(null===(a=e.sent)){e.next=11;break}return e.abrupt("return",a);case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(5),console.error("Google Ads failed to load, fallback to GameAdInstance",e.t0);case 16:return e.abrupt("return",r);case 17:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(){return e.apply(this,arguments)}}(),r.initGoogleAdInstanceAsync=function(){var e=(0,s.Z)(d().mark((function e(){var t,r,a,i,s,o,c,u;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=GameCore.Configs.Ads.AdServiceConfigs.Google){e.next=3;break}return e.abrupt("return",null);case 3:return r=t.DataAdChannel,a=t.DataAdClient,i=t.DataAdHost,s=t.DataAdBreakTest,o=t.DataAdFrequencyHint,e.next=6,Promise.resolve().then(n.bind(n,590));case 6:if("loaded"!==(c=e.sent.default).initStatus){e.next=9;break}return e.abrupt("return",c);case 9:return u={dataAdClient:a,dataAdChannel:r,dataAdHost:i,dataAdBreakTest:s,dataAdFrequencyHint:o},e.prev=10,c.setGame(this.game),e.next=14,c.initGoogleAdsAsync(u);case 14:return e.abrupt("return",c);case 17:return e.prev=17,e.t0=e.catch(10),console.error("Google Ads failed to load, fallback to GameAdInstance",e.t0),e.abrupt("return",null);case 21:case"end":return e.stop()}}),e,this,[[10,17]])})));return function(){return e.apply(this,arguments)}}(),r.isUserCancelledAdError=function(e){return e instanceof U&&"USER_INPUT"===e.code},r.isAdFallbackReadyToShow=function(e){if(!this.isFallbackReady)return!1;var t=this.getAdInstanceByType(e,!0);return!!t&&t.getStatus()===D.FILLED},t}(Phaser.Plugins.BasePlugin),Y=V,z=function(){function e(e,t,n){this.name=void 0,this.color=void 0,this.selfLog=void 0,this.options=void 0,this.name=e,this.color=n||"#FFF",this.options=t,this.selfLog=!0,console.info("%c"+this.name+": init","color: "+this.color,this.options)}var t=e.prototype;return t.event=function(e,t,n){this.processEvent(e,t,n),this.selfLog&&console.info("%c"+this.name+": event","color: "+this.color,{name:e,value:n,payload:t})},t.pageview=function(e){var t=this.getPageByKey(e);this.processPageView(t),this.selfLog&&console.info("%c"+this.name+": pageview","color: "+this.color,{page:t})},t.levelStart=function(e,t,n){this.processLevelStart(e,t,n),this.selfLog&&console.info("%c"+this.name+": level start","color: "+this.color,{level:e,score:t,levelName:n})},t.levelFail=function(e,t,n){this.processLevelFail(e,t,n),this.selfLog&&console.info("%c"+this.name+": level fail","color: "+this.color,{level:e,score:t,levelName:n})},t.levelRescue=function(e,t,n){this.processLevelRescue(e,t,n),this.selfLog&&console.info("%c"+this.name+": level rescue","color: "+this.color,{level:e,score:t,levelName:n})},t.levelComplete=function(e,t,n){this.processLevelComplete(e,t,n),this.selfLog&&console.info("%c"+this.name+": level complete","color: "+this.color,{level:e,score:t,levelName:n})},t.loadPreRollAd=function(e,t){this.processLoadPreRollAd(e,t),this.selfLog&&console.info("%c"+this.name+": load pre-roll ad","color: "+this.color,{placement:e})},t.showPreRollAd=function(e,t){this.processShowPreRollAd(e,t),this.selfLog&&console.info("%c"+this.name+": show pre-roll","color: "+this.color,{placement:e})},t.loadInterstitialAd=function(e,t){this.processLoadInterstitialAd(e,t),this.selfLog&&console.info("%c"+this.name+": load interstitial ad","color: "+this.color,{placement:e})},t.showInterstitialAd=function(e,t){this.processShowInterstitialAd(e,t),this.selfLog&&console.info("%c"+this.name+": show interstitial ad","color: "+this.color,{placement:e})},t.loadRewardedVideoAd=function(e,t){this.processLoadRewardedVideoAd(e,t),this.selfLog&&console.info("%c"+this.name+": load rewarded video ad","color: "+this.color,{placement:e})},t.showRewardedVideoAd=function(e,t){this.processShowRewardedVideoAd(e,t),this.selfLog&&console.info("%c"+this.name+": show rewarded video ad","color: "+this.color,{placement:e})},t.showBannerAd=function(e,t,n){this.processShowBannerAd(e,t,n),this.selfLog&&console.info("%c"+this.name+": show banner ad","color: "+this.color,{placement:t})},t.receiveReward=function(e){this.processReceiveReward(e),this.selfLog&&console.info("%c"+this.name+": receive reward","color: "+this.color,{placement:e})},t.loadAdFail=function(e){this.processLoadAdFail(e),this.selfLog&&console.info("%c"+this.name+": load ad fail","color: "+this.color,e)},t.showAdFail=function(e){this.processShowAdFail(e),this.selfLog&&console.info("%c"+this.name+": show ad fail","color: "+this.color,e)},t.getPageByKey=function(e){var t=e.replace(/_/g,"-");return t=t.toLowerCase()},t.processLevelStart=function(e,t,n){},t.processLevelFail=function(e,t,n){},t.processLevelRescue=function(e,t,n){},t.processLevelComplete=function(e,t,n){},t.processLoadInterstitialAd=function(e,t){},t.processShowInterstitialAd=function(e,t){},t.processLoadPreRollAd=function(e,t){},t.processShowPreRollAd=function(e,t){},t.processLoadRewardedVideoAd=function(e,t){},t.processShowRewardedVideoAd=function(e,t){},t.processShowBannerAd=function(e,t,n){},t.processReceiveReward=function(e){},t.processLoadAdFail=function(e){},t.processShowAdFail=function(e){},e}(),j=z;GameCore.Analytics={BaseAnalytics:j};var X,q=function(e){function t(){for(var t,n,r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=e.call.apply(e,P()(t=[this]).call(t,a))||this).analytics=void 0,n.pageview=function(e){n.isActive()&&n.analytics.forEach((function(t){t.pageview(e)}))},n}(0,o.Z)(t,e);var n=t.prototype;return n.init=function(){this.analytics=[]},n.add=function(e){this.analytics.push(e)},n.event=function(e,t,n){this.isActive()&&this.analytics.forEach((function(r){r.event(e,t,n)}))},n.levelStart=function(e,t,n){this.isActive()&&this.analytics.forEach((function(r){r.levelStart(e,t,n)}))},n.levelRescue=function(e,t,n){this.isActive()&&this.analytics.forEach((function(r){r.levelRescue(e,t,n)}))},n.levelFail=function(e,t,n){this.isActive()&&this.analytics.forEach((function(r){r.levelFail(e,t,n)}))},n.levelComplete=function(e,t,n){this.isActive()&&this.analytics.forEach((function(r){r.levelComplete(e,t,n)}))},n.loadPreRollAd=function(e,t){this.isActive()&&this.analytics.forEach((function(n){n.loadPreRollAd(e,t)}))},n.showPreRollAd=function(e,t){this.isActive()&&this.analytics.forEach((function(n){n.showPreRollAd(e,t)}))},n.loadInterstitialAd=function(e,t){this.isActive()&&this.analytics.forEach((function(n){n.loadInterstitialAd(e,t)}))},n.showInterstitialAd=function(e,t){this.isActive()&&this.analytics.forEach((function(n){n.showInterstitialAd(e,t)}))},n.loadRewardedVideoAd=function(e,t){this.isActive()&&this.analytics.forEach((function(n){n.loadRewardedVideoAd(e,t)}))},n.showRewardedVideoAd=function(e,t){this.isActive()&&this.analytics.forEach((function(n){n.showRewardedVideoAd(e,t)}))},n.showBannerAd=function(e,t,n){this.isActive()&&this.analytics.forEach((function(r){r.showBannerAd(e,t,n)}))},n.receiveReward=function(e){this.isActive()&&this.analytics.forEach((function(t){t.receiveReward(e)}))},n.loadAdFail=function(e){this.isActive()&&this.analytics.forEach((function(t){t.loadAdFail(e)}))},n.showAdFail=function(e){this.isActive()&&this.analytics.forEach((function(t){t.showAdFail(e)}))},n.isActive=function(){return this.analytics.length>=1},t}(Phaser.Plugins.BasePlugin),Q=q,J=n(441),$=n.n(J),ee=n(93),te=n.n(ee),ne=function(){function e(e){var t=this;this.game=void 0,this.audios=void 0,this.volume=void 0,this.soundKeys=void 0,this.isMusicEnabled=function(){return!!t.game.player.getPlayerSetting("music")},this.isSoundEnabled=function(){return!!t.game.player.getPlayerSetting("sound")},this.game=e,this.audios=new($()),this.soundKeys=new($())}var t=e.prototype;return t.addSoundKeys=function(e){var t=this;te()(e).forEach((function(n){var r=e[n];"string"===typeof r&&t.soundKeys.set(n,r)}))},t.clearSoundKeys=function(){this.soundKeys.clear()},t.play=function(e,t){var n=this,r=(0,i.Z)({volume:this.volume},t||{});r.volume!==this.volume&&(r.volume*=this.volume);var a=this.audios.get(e);if(!a&&this.game.cache.audio.exists(e)){var s=this.game.sound.add(e);this.audios.set(e,s),a=s}if(a)(a=this.getAnotherIfIsPlaying(a)).play(void 0,r);else{var o=this.soundKeys.get(e);if(!o)return console.log(this.soundKeys.get(e),e),void console.warn(e+" not found. Use importSoundEffectKeys from audio plugin to add it.");try{var c=o.replace(".ogg",".mp3");console.log(e,o,c,"load_sound_plugin"),this.game.globalScene.load.audio(e,[o,c]),this.game.globalScene.load.on(Phaser.Loader.Events.FILE_KEY_COMPLETE+"audio-"+e,(function(){console.log(e,o,"finish");var t=n.game.sound.add(e);n.audios.set(e,t),t.play(void 0,r)})),this.game.globalScene.load.start()}catch(u){console.warn(u)}}},t.getAnotherIfIsPlaying=function(e){if(!e.isPlaying)return e;for(var t=1,n=e.key+"-"+t,r=this.audios.get(n);void 0!==r;){if(!r.isPlaying)return r;t++,n=e.key+"-"+t,r=this.audios.get(n)}return r=this.game.sound.add(e.key),this.audios.set(n,r),r},t.pauseAll=function(){this.audios.forEach((function(e){e.pause()}))},t.resumeAll=function(){this.audios.forEach((function(e){e.resume()}))},t.stopAll=function(){this.audios.forEach((function(e){e.stop()}))},t.pause=function(e){var t=this.audios.get(e);t&&t.pause()},t.stop=function(e){var t=this.audios.get(e);t&&t.stop()},t.setVolume=function(e){this.volume=e},e}(),re=ne,ae=n(203),ie=n.n(ae),se=function(){function e(e){var t=this;this.game=void 0,this.musicKeys=void 0,this.previousAudio=void 0,this.currentAudio=void 0,this.audios=void 0,this.loadQueue={},this.fadeQueue={},this.volume=void 0,this.handleOnLoadComplete=function(e){return function(n){delete t.loadQueue[n],console.log("Music key: ",n,"finish"),t.play(n,e)}},this.isMusicEnabled=function(){return!!t.game.player.getPlayerSetting("music")},this.game=e,this.audios=new($()),this.musicKeys=new($()),this.loadQueue={}}var t=e.prototype;return t.addMusicKeys=function(e){var t=this;te()(e).forEach((function(n){var r=e[n];"string"===typeof r&&t.musicKeys.set(n,r)}))},t.play=function(e,t){var n=(0,i.Z)({volume:this.volume},t||{});if(n.volume!==this.volume&&(n.volume*=this.volume),void 0===e){if(!this.currentAudio)return;e=this.currentAudio.key}for(var r=0,a=ie()(this.loadQueue);r<a.length;r++){var s=a[r],o=s[0],c=s[1];this.game.globalScene.load.off(Phaser.Loader.Events.FILE_KEY_COMPLETE+"audio-"+o,c)}this.loadQueue={};var u=this.audios.get(e);if(!u&&this.game.cache.audio.exists(e)){var l=this.game.sound.add(e);this.audios.set(e,l),u=l}if(u)return u===this.currentAudio&&u.seek>0?void u.resume():(this.previousAudio=this.currentAudio,this.currentAudio&&this.fadePlay(this.currentAudio,this.currentAudio.volume,0,1e3),this.currentAudio=u,this.currentAudio.play(void 0,n),void this.fadePlay(this.currentAudio,0,n.volume,1e3));var d=this.musicKeys.get(e);if(!d)return console.log(this.musicKeys.get(e),e),void console.warn(e+" not found. Use importMusicEffectKeys from audio plugin to add it.");try{var h=d.replace(".ogg",".mp3");console.log(e,d,"load_music_plugin"),this.game.globalScene.load.audio(e,[d,h]);var p=this.handleOnLoadComplete(t);this.game.globalScene.load.once(Phaser.Loader.Events.FILE_KEY_COMPLETE+"audio-"+e,p),this.game.globalScene.load.start(),this.loadQueue[e]=p}catch(f){console.warn(f)}},t.fadePlay=function(e,t,n,r){var a=this,i=this.fadeQueue[e.key];i&&i.remove(),delete this.fadeQueue[e.key];var s=this.game.globalScene.tweens.add({targets:{volume:t},volume:n,duration:r,onUpdate:function(t,n){e.setVolume(n.volume)},onComplete:function(){e.setVolume(n);var t=a.fadeQueue[e.key];t&&t.remove(),delete a.fadeQueue[e.key]}});this.fadeQueue[e.key]=s},t.pause=function(){var e,t;null==(e=this.previousAudio)||e.pause(),null==(t=this.currentAudio)||t.pause()},t.stop=function(){var e;null==(e=this.currentAudio)||e.stop()},t.setVolume=function(e){this.volume=e},e}(),oe=se,ce=function(e){function t(){for(var t,n,r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=e.call.apply(e,P()(t=[this]).call(t,a))||this).soundManager=void 0,n.musicManager=void 0,n.isMuteAll=void 0,n.previousMusicKey=void 0,n.previousMusicConfig=void 0,n.initMusic=function(){n.musicManager=new oe(n.game),n.setMusicVolume(1)},n.initSound=function(){n.soundManager=new re(n.game),n.setSoundVolume(1)},n}(0,o.Z)(t,e);var n=t.prototype;return n.importSoundEffectKeys=function(e){this.soundManager.addSoundKeys(e)},n.importMusicKeys=function(e){this.musicManager.addMusicKeys(e)},n.playSound=function(e,t){try{if(!this.soundManager||this.isMuteAll||!this.game.visibility.isGameVisible())return;if(!this.soundManager.isSoundEnabled())return;this.soundManager.play(e,t)}catch(n){}},n.stopSound=function(e){try{this.soundManager.stop(e)}catch(t){}},n.playMusic=function(e,t){void 0===t&&(t={}),e&&(this.previousMusicKey=e,this.previousMusicConfig=t);try{if(!this.musicManager||this.isMuteAll||!this.game.visibility.isGameVisible())return;if(!this.musicManager.isMusicEnabled())return;this.musicManager.play(this.previousMusicKey,(0,i.Z)({loop:!0,volume:.2},this.previousMusicConfig))}catch(n){}},n.pauseMusic=function(){try{if(!this.musicManager)return;this.musicManager.pause()}catch(e){}},n.stopMusic=function(){try{if(!this.musicManager)return;this.musicManager.stop()}catch(e){}},n.pauseAllSounds=function(){try{if(!this.soundManager)return;this.soundManager.pauseAll()}catch(e){}},n.resumeAllSounds=function(){try{if(!this.soundManager)return;this.soundManager.resumeAll()}catch(e){}},n.setSoundVolume=function(e){try{if(!this.soundManager)return;this.soundManager.setVolume(e)}catch(t){console.warn("setSoundVolume",t)}},n.setMusicVolume=function(e){try{if(!this.musicManager)return;this.musicManager.setVolume(e)}catch(t){console.warn("setMusicVolume",t)}},n.muteAll=function(){this.isMuteAll=!0,this.game.sound.mute=!0},n.unmuteAll=function(){this.isMuteAll=!1,this.game.sound.mute=!1},t}(Phaser.Plugins.BasePlugin),ue=ce,le=n(119),de="AUTH_TOKEN_REQUEST",he="AUTH_TOKEN_RECEIVED",pe=function(e){function t(t,n){var r;return(r=e.call(this,t)||this).payload=void 0,r.name="RequestTokenFail",r.message=t||"Request token fail",r.payload=n||{},r}return(0,o.Z)(t,e),t}((0,Z.Z)(Error)),fe=n(429),me="auth",ge=(0,fe.P1)([function(e){return e[me].token}],(function(e){return e})),ve=(0,fe.P1)([function(e){return e[me].isRequesting}],(function(e){return e})),ye=function(e){return{type:he,payload:{token:e}}},ke=function(e){function t(){return e.apply(this,arguments)||this}(0,o.Z)(t,e);var n=t.prototype;return n.requestToken=function(){var e=(0,s.Z)(d().mark((function e(){var t;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.game.storage,e.next=3,t.dispatch(function(){var e=(0,s.Z)(d().mark((function e(t,n){var a,i,s,o;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,a=window.game.facebook,i=n(),s=ge(i),!ve(i)&&""===s){e.next=7;break}return e.abrupt("return");case 7:return t({type:de,payload:{}}),e.next=10,a.getPlayerToken();case 10:o=e.sent,t(ye(o)),e.next=25;break;case 14:if(e.prev=14,e.t0=e.catch(0),!(e.t0 instanceof Object&&GameCore.Utils.Object.hasOwn(e.t0,"code"))){e.next=19;break}if("PENDING_REQUEST"!==e.t0.code){e.next=19;break}return e.abrupt("return");case 19:if(t(ye("")),!(e.t0 instanceof Object&&GameCore.Utils.Object.hasOwn(e.t0,"message"))){e.next=24;break}if("string"!==typeof e.t0.message){e.next=24;break}return(0,r.tO)(new Error(e.t0.message)),e.abrupt("return");case 24:(0,r.tO)(new pe);case 25:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.getToken=function(){return ge(this.state)},(0,le.Z)(t,[{key:"state",get:function(){return this.game.storage.getState()}}]),t}(Phaser.Plugins.BasePlugin),be=ke,Ee=n(434);function xe(e,t,n){if(void 0===n&&(X||(X=document.createElement("canvas")),X.width=1,X.height=1,!(n=X.getContext("2d")||void 0)))throw new Error("Get context 2d failed.");var r=function(e){var t=(0,i.Z)({},Se,e),n=[];t.fontStyle&&n.push(t.fontStyle);t.fontVariant&&n.push(t.fontVariant);t.fontWeight&&n.push(t.fontWeight);GameCore.Utils.Valid.isNumber(t.fontSize)?t.fontSize=t.fontSize+"px":t.fontSize=Se.fontSize;t.lineHeight?n.push(t.fontSize+"/"+t.lineHeight):n.push(t.fontSize);return n.push(t.fontFamily),n.join(" ")}(t);n.font=r,n.textAlign="left",n.textBaseline="bottom";var a,s,o=n.measureText(e);if("undefined"===typeof o.actualBoundingBoxLeft)return{text:e,letter:e,width:o.width,height:parseInt(""+(null!=(a=t.fontSize)?a:"14"),10),fontWidth:o.width,fontHeight:parseInt(""+(null!=(s=t.fontSize)?s:"14"),10),trimOffsetTop:0,trimOffsetLeft:0};n.textAlign="right",n.textBaseline="top";var c=n.measureText(e),u=Math.ceil(o.actualBoundingBoxLeft),l=Math.ceil(c.actualBoundingBoxAscent),d=u+Math.ceil(o.actualBoundingBoxRight),h=Math.ceil(o.actualBoundingBoxDescent)+Math.ceil(o.actualBoundingBoxAscent),p=Math.ceil(o.width),f=o.actualBoundingBoxAscent-c.actualBoundingBoxAscent;return"M"===e&&console.log({text:e,letter:e,width:d,height:h,fontWidth:p,fontHeight:f,trimOffsetTop:l,trimOffsetLeft:u}),{text:e,letter:e,width:d,height:h,fontWidth:p,fontHeight:f,trimOffsetTop:l,trimOffsetLeft:u}}var Se={fontSize:"14px",fontFamily:"sans-serif"};var we='nunito,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",sans-serif',Ae=function(e,t){void 0===t&&(t=1);var n=new Image;n.onload=function(){var n,r,a=(n=this.width*t,r=this.height*t,{string:"+",style:"font-size: 1px; padding: "+Math.floor(r/2)+"px "+Math.floor(n/2)+"px;"});console.info("%c "+a.string,a.style+" background: transparent url("+e+") no-repeat center center; background-size: "+this.width*t+"px "+this.height*t+"px;")},n.src=e},Ce=function(e){function t(){for(var t,n,r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=e.call.apply(e,P()(t=[this]).call(t,a))||this).width=void 0,n.height=void 0,n.renderOptions=void 0,n.canvas=void 0,n}(0,o.Z)(t,e);var n=t.prototype;return n.preload=function(e){var t=this,n=te()(e);n.length<1||(n.forEach((function(n){t.scene.load.image(n,e[n])})),this.scene.load.start())},n.capture=function(){var e=(0,s.Z)(d().mark((function e(t){var n,r,a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.width,r=t.height,a=t.renderOptions,this.width=n,this.height=r,this.renderOptions=a,this.createCanvas(),e.next=7,this.loadImages();case 7:return this.drawObjects(),e.abrupt("return",this.snapshotFrame());case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),n.createCanvas=function(){this.canvas||(this.canvas=this.game.textures.createCanvas("FrameCaptureCanvas")),this.canvas.clear(),this.canvas.setSize(this.width,this.height)},n.loadImages=function(){var e=[];for(var t in this.renderOptions){var n=this.renderOptions[t],r=n.name,a=n.image,i=n.fallbackWithImage;if(a)if(this.scene.textures.get(r).key!==r&&""!==r){var s=this.loadImage(r,a,i);e.push(s)}}return this.scene.load.start(),u().all(e)},n.loadImage=function(e,t,n){var r=this;return this.scene.load.image(e,t),new(u())((function(t,a){var i=Phaser.Loader.Events.FILE_KEY_COMPLETE+"image-"+e,s=Phaser.Loader.Events.FILE_LOAD_ERROR,o=function e(n){r.scene.load.off(i,e),r.scene.load.off(s,c),t()},c=function c(u){if(u.key===e)if(r.scene.load.off(i,o),r.scene.load.off(s,c),n)t();else{var l=new Error("Load image failed");a(l)}};r.scene.load.on(i,o),r.scene.load.on(s,c)}))},n.drawObjects=function(){for(var e in this.renderOptions){var t=this.renderOptions[e];switch(t.type){case"text":this.drawText(t);break;case"image":this.drawImage(t)}}},n.drawText=function(e){var t=this.canvas.context,n=e.x,r=e.y,a=e.font,i=e.text,s=e.fillStyle,o=void 0===s?"#ffffff":s,c=e.lineWidth,u=e.textAlign,l=e.layer3D,d=l||{},h=d.secondFillStyle,p=void 0===h?"#000000":h,f=d.shadowFillStyle;c&&(t.lineWidth=c),u&&(t.textAlign=u),t.font=a+" "+Ee.Z.FONT_FAMILY+","+we;var m=14;try{var g=a.split(" ");m=parseInt(g[1],10)}catch(k){}if(l){if(f){var v=Phaser.Display.Color.HexStringToColor(f).rgba;t.shadowColor=v,t.shadowBlur=4,t.shadowOffsetY=3}t.fillStyle=p,t.fillText(i,n,r+3),t.shadowColor="transparent",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0}var y=xe("@",{fontFamily:Ee.Z.FONT_FAMILY+","+we,fontSize:m});Array.isArray(o)?this.setTintFillGradient(t,o,n,r-y.height,n,r):t.fillStyle=o,t.fillText(i,n,r)},n.drawImage=function(e){var t=this.canvas.context,n=e.x,r=e.y,a=e.name,i=e.frame,s=e.width,o=e.height,c=e.fallbackWithImage,u=this.scene.textures.get(a),l=u.getSourceImage(i);"__MISSING"===u.key&&c&&(l=(u=this.scene.textures.get(c)).getSourceImage()),t.drawImage(l,n,r,s,o)},n.snapshotFrame=function(){var e=this.canvas.getCanvas().toDataURL("image/jpeg",.85);return GameCore.Utils.Valid.isDebugger()&&Ae(e),e},n.setTintFillGradient=function(e,t,n,r,a,i){var s=e.createLinearGradient(n,r,a,i);t.forEach((function(e,n){s.addColorStop(n/(t.length-1),e)})),e.fillStyle=s},t}(Phaser.Plugins.ScenePlugin),Te=Ce,Le=function(e){function t(t,n,r){var a;return(a=e.call(this)||this).game=void 0,a.options=void 0,a.performance=void 0,a.isRunning=!1,a.checkTimer=void 0,a.fpsHistory=void 0,a.start=function(){if(!a.isRunning){a.isRunning=!0;var e=a.options.checkInterval;a.checkTimer=e,a.fpsHistory=[],a.game.events.on(Phaser.Core.Events.POST_STEP,a.onPostStep)}},a.stop=function(){a.isRunning&&(a.isRunning=!1,a.game.events.off(Phaser.Core.Events.POST_STEP,a.onPostStep),a.options.onlyUpdateWhenSwitchScene&&a.checkFps())},a.onPostStep=function(e,t){if(a.checkTimer-=t,!(a.checkTimer>0)){var n=a.options,r=n.checkInterval,i=n.onlyUpdateWhenSwitchScene;a.checkTimer+=r,a.fpsHistory.push(a.game.loop.actualFps),!1===i&&a.fpsHistory.length>=5&&a.checkFps()}},a.game=t,a.options=r,a.performance=n,a}(0,o.Z)(t,e);var n=t.prototype;return n.checkFps=function(){if(0!==this.fpsHistory.length){var e=this.options.autoUpgradeQuality,t=!1;this.isLowFps()?t=this.performance.downgradeGraphicsQuality():e&&this.isHighFps()&&(t=this.performance.upgradeGraphicsQuality()),t&&(this.fpsHistory=[])}},n.getFpsMedian=function(){return Phaser.Math.Median(this.fpsHistory)},n.isLowFps=function(){return this.getFpsMedian()<this.options.fpsThreshold},n.isHighFps=function(){return this.getFpsMedian()>1.2*this.options.fpsThreshold},t}(Phaser.Events.EventEmitter),Ie=Le,Pe=["pixelRatio","minQuality","maxQuality","qualityAdjustStep","trackingSceneKeys"],_e=function(e){function t(){for(var t,n,r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=e.call.apply(e,P()(t=[this]).call(t,a))||this).fpsTracker=void 0,n.pixelRatio=void 0,n.minQuality=void 0,n.maxQuality=void 0,n.qualityAdjustStep=void 0,n.trackingSceneKeys=[],n.trackingScene=function(e){var t;if(y()(t=n.trackingSceneKeys).call(t,e)){var r=n.game.scene.getScene(e);r.events.once(Phaser.Scenes.Events.UPDATE,n.fpsTracker.start),r.events.once(Phaser.Scenes.Events.SLEEP,n.fpsTracker.stop)}},n}(0,o.Z)(t,e);var n=t.prototype;return n.configure=function(e){var t=e.pixelRatio,n=e.minQuality,r=e.maxQuality,i=e.qualityAdjustStep,s=e.trackingSceneKeys,o=(0,a.Z)(e,Pe);this.pixelRatio=t,this.minQuality=n,this.maxQuality=r,this.qualityAdjustStep=i,this.trackingSceneKeys=s,this.fpsTracker=new Ie(this.game,this,o)},n.active=function(){this.game.events.on(Phaser.Scenes.Events.WAKE,this.trackingScene),this.game.events.on(Phaser.Scenes.Events.START,this.trackingScene)},n.downgradeGraphicsQuality=function(){var e=this.pixelRatio;if(e<=this.minQuality)return!1;var t=+(e-this.qualityAdjustStep).toFixed(2);return!(t<this.minQuality)&&(this.pixelRatio=t,this.game.world.resize(this.pixelRatio),console.warn("\ud83d\udcab Graphics quality was downgraded! ("+e+" -> "+t+")"),!0)},n.upgradeGraphicsQuality=function(){var e=this.pixelRatio;if(e>=this.maxQuality)return!1;var t=+(e+this.qualityAdjustStep).toFixed(2);return!(t>this.maxQuality)&&(this.pixelRatio=t,this.game.world.resize(this.pixelRatio),console.warn("\ud83d\ude80 Graphics quality was upgraded! ("+e+" -> "+t+")"),!0)},t}(Phaser.Plugins.BasePlugin),Be=_e,Oe={sound:!0,music:!0,vibrate:!0,language:"en",theme:GameCore.Configs.DefaultTheme},Re=n(197),Me=n.n(Re),Ne=n(122),De=n.n(Ne),Fe=Oe.sound,Ge=Oe.music,Ze=Oe.vibrate,Ue=Oe.language,Ke=Oe.theme,He=function(){function e(e){this.sound=void 0,this.music=void 0,this.vibrate=void 0,this.language=void 0,this.theme=void 0;var t=e||{},n=t.sound,r=t.music,a=t.vibrate,i=t.language,s=t.theme;this.sound=GameCore.Utils.Valid.isBoolean(n)?n:Fe,this.music=GameCore.Utils.Valid.isBoolean(r)?r:Ge,this.vibrate=GameCore.Utils.Valid.isBoolean(a)?a:Ze,this.language=GameCore.Utils.Valid.isString(i)?i:Ue,this.theme=GameCore.Utils.Valid.isString(s)?s:Ke}return e.prototype.toObject=function(){return{sound:this.sound,music:this.music,vibrate:this.vibrate,language:this.language,theme:this.theme}},e}(),We=He,Ve=GameCore.Utils,Ye=Ve.Valid,ze=Ve.Object,je=function(){function e(e){this.score=void 0,this.settings=void 0,this.gameData=void 0,this.userGuideDisplays=void 0,this.timeAddShortcut=void 0,this.setupDefaultData(),this.updateScore(e),this.updateSettings(e),this.updateGameData(e),this.updateUserGuideDisplays(e)}var t=e.prototype;return t.setupDefaultData=function(){this.score=0,this.settings=(0,i.Z)({},Oe),this.gameData={coins:0,diamond:0,lastReceiveGift:0,dailyRewarded:{lastRewarded:0,logDays:[]},dailyTasks:{startedTime:0,logTasks:{}},level:1,items:{undo:1,return:1,shuffle:1,extraSlot:1,magicWand:1},dailyChallenge:{timeCompleted:0,daysCompleted:0,isTodayCompleted:!1},tournaments:[]},this.userGuideDisplays=0},t.updateScore=function(e){var t=e.score;!1!==Ye.isNumber(t)&&(this.score=t)},t.updateSettings=function(e){var t=e.settings;if(!1!==Ye.isObject(t)){var n=new We(t).toObject();this.settings=n}},t.updateGameData=function(e){var t=e.gameData;if(!1!==Ye.isObject(t)){if(ze.hasOwn(t,"coins")&&Ye.isNumber(t.coins)&&(this.gameData.coins=t.coins),ze.hasOwn(t,"diamond")&&Ye.isNumber(t.diamond)&&(this.gameData.diamond=t.diamond),ze.hasOwn(t,"lastReceiveGift")&&Ye.isNumber(t.lastReceiveGift)&&(this.gameData.lastReceiveGift=t.lastReceiveGift),ze.hasOwn(t,"dailyRewarded")&&Ye.isObject(t.dailyRewarded)){var n=t.dailyRewarded;ze.hasOwn(n,"lastRewarded")&&Ye.isNumber(n.lastRewarded)&&(this.gameData.dailyRewarded.lastRewarded=n.lastRewarded),ze.hasOwn(n,"logDays")&&Array.isArray(n.logDays)&&(this.gameData.dailyRewarded.logDays=n.logDays)}if(ze.hasOwn(t,"dailyTasks")&&Ye.isObject(t.dailyTasks)){var r=t.dailyTasks;ze.hasOwn(r,"startedTime")&&Ye.isNumber(r.startedTime)&&(this.gameData.dailyTasks.startedTime=r.startedTime),ze.hasOwn(r,"logTasks")&&Ye.isObject(r.logTasks)&&(this.gameData.dailyTasks.logTasks=r.logTasks)}if(ze.hasOwn(t,"level")&&Ye.isNumber(t.level)&&(this.gameData.level=t.level),ze.hasOwn(t,"items")&&Ye.isObject(t.items)){var a=t.items;ze.hasOwn(a,"undo")&&Ye.isNumber(a.undo)&&(this.gameData.items.undo=a.undo),ze.hasOwn(a,"return")&&Ye.isNumber(a.return)&&(this.gameData.items.return=a.return),ze.hasOwn(a,"shuffle")&&Ye.isNumber(a.shuffle)&&(this.gameData.items.shuffle=a.shuffle),ze.hasOwn(a,"extraSlot")&&Ye.isNumber(a.extraSlot)&&(this.gameData.items.extraSlot=a.extraSlot),ze.hasOwn(a,"magicWand")&&Ye.isNumber(a.magicWand)&&(this.gameData.items.magicWand=a.magicWand)}if(ze.hasOwn(t,"dailyChallenge")&&Ye.isObject(t.dailyChallenge)){var i=t.dailyChallenge;ze.hasOwn(i,"timeCompleted")&&Ye.isNumber(i.timeCompleted)&&(this.gameData.dailyChallenge.timeCompleted=i.timeCompleted),ze.hasOwn(i,"daysCompleted")&&Ye.isNumber(i.daysCompleted)&&(this.gameData.dailyChallenge.daysCompleted=i.daysCompleted),ze.hasOwn(i,"isTodayCompleted")&&Ye.isBoolean(i.isTodayCompleted)&&(this.gameData.dailyChallenge.isTodayCompleted=i.isTodayCompleted)}ze.hasOwn(t,"tournaments")&&Array.isArray(t.tournaments)&&(this.gameData.tournaments=t.tournaments)}},t.updateUserGuideDisplays=function(e){var t=e.userGuideDisplays;!1!==Ye.isNumber(t)&&(this.userGuideDisplays=t)},t.updateTimeAddShortcut=function(e){var t=e.timeAddShortcut;!1!==Ye.isNumber(t)&&(this.timeAddShortcut=t)},t.toObject=function(){return{score:this.score,settings:this.settings,gameData:this.gameData,userGuideDisplays:this.userGuideDisplays}},t.convertToPlayerData=function(){var e=this.gameData,t=e.coins,n=e.diamond,r=e.dailyTasks,a=e.dailyRewarded,i=e.lastReceiveGift,s=e.level,o=e.items,c=e.dailyChallenge;return{score:this.score,settings:this.settings,customFields:{coins:t,diamond:n,dailyTasks:r,dailyRewarded:a,lastReceiveGift:i,level:s,items:o,dailyChallenge:c},userGuideDisplays:this.userGuideDisplays,timeAddShortcut:this.timeAddShortcut}},t.convertToFacebookData=function(e){var t=e.score,n=e.settings,r=e.customFields,a=e.userGuideDisplays,i=e.timeAddShortcut;return this.updateScore({score:t}),this.updateSettings({settings:n}),this.updateGameData({gameData:r}),this.updateUserGuideDisplays({userGuideDisplays:a}),this.updateTimeAddShortcut({timeAddShortcut:i}),this.toObject()},e}(),Xe=je,qe=n(431),Qe=GameCore.Configs.ApiHost,Je=function(){var e=(0,s.Z)(d().mark((function e(t){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,qe.v)("players?platform=ms-games",t,{},Qe,10);case 2:return n=e.sent,e.abrupt("return",(null==n?void 0:n.data)||{});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$e=function(){var e=(0,s.Z)(d().mark((function e(t){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,qe.v)("players/"+t+"/user-guide-displays/inc",{},{},Qe);case 2:return n=e.sent,e.abrupt("return",(null==n?void 0:n.data)||{});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),et="PLAYER_RECEIVED",tt="PLAYER_DATA_UPDATE",nt="PLAYER_SCORE_UPDATE",rt="PLAYER_PROFILE_UPDATE",at="PLAYER_SETTING_UPDATE",it="PLAYER_CONNECTED_PLAYERS_UPDATE",st=n(424),ot=function(e){function t(t,n){var r;return(r=e.call(this,t)||this).payload=void 0,r.name="PlayerDataNameNotSupport",r.message=t||"The name of player data is not supported",r.payload=n||{},r}return(0,o.Z)(t,e),t}((0,Z.Z)(Error)),ct="player",ut=(0,fe.P1)([function(e){return e[ct]}],(function(e){return e})),lt=(0,fe.P1)([ut],(function(e){return e.playerId})),dt=(0,fe.P1)([ut],(function(e){return e.ASID})),ht=(0,fe.P1)([function(e){return e[ct].data}],(function(e){return e})),pt=((0,fe.P1)([ht],(function(e){return e.settings})),(0,fe.P1)([function(e){return e[ct].connectedPlayers}],(function(e){return e}))),ft=(0,fe.P1)([pt,function(e,t){return t.limit},function(e,t){return t.offset}],(function(e,t,n){if("number"!==typeof t)return[];if("number"!==typeof n)return[];var r=te()(e);return x()(r).call(r,n,t+n)||[]})),mt=(0,fe.P1)([ht],(function(e){return e.score})),gt=(0,fe.P1)([ht],(function(e){return e.customFields})),vt=(0,fe.P1)([gt],(function(e){var t;return null!=(t=null==e?void 0:e.tournaments)?t:[]})),yt=GameCore.Configs,kt=yt.AppId,bt=yt.Tutorial,Et=function(e,t){return function(n){var r=e.playerId,a=e.name,i=e.photo,s=e.locale;n({type:et,payload:{playerId:r,name:a,photo:i,locale:s,data:t||{}}})}},xt=function(e){return{type:it,payload:{connectedPlayers:e}}},St=function(e,t){return function(){var n=(0,s.Z)(d().mark((function n(a,i){var s,o,c;return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,a({type:at,payload:{name:e,value:t}});case 3:s=i(),o=ht(s),c=new Xe({}).convertToFacebookData(o),FBInstant.player.setDataAsync(c),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),(0,r.tO)(n.t0);case 12:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(e,t){return n.apply(this,arguments)}}()},wt=function(e,t){return function(){var n=(0,s.Z)(d().mark((function n(a,i){var s,o,c,u,l;return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,o={customFields:(s={},s[e]=t,s)},n.next=4,a(Ct(o));case 4:c=i(),u=ht(c),l=new Xe({}).convertToFacebookData(u),FBInstant.player.setDataAsync(l),n.next=15;break;case 10:if(n.prev=10,n.t0=n.catch(0),!(n.t0 instanceof ot)){n.next=14;break}return n.abrupt("return");case 14:(0,r.tO)(n.t0);case 15:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(e,t){return n.apply(this,arguments)}}()},At=function(e){return function(){var t=(0,s.Z)(d().mark((function t(n,a){var i,s,o,c;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,i={customFields:e},t.next=4,n(Ct(i));case 4:s=a(),o=ht(s),c=new Xe({}).convertToFacebookData(o),FBInstant.player.setDataAsync(c),t.next=16;break;case 10:if(t.prev=10,t.t0=t.catch(0),console.log("\ud83e\udd16 ? error",t.t0),!(t.t0 instanceof ot)){t.next=15;break}return t.abrupt("return");case 15:(0,r.tO)(t.t0);case 16:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e,n){return t.apply(this,arguments)}}()},Ct=function(e){return{type:tt,payload:{data:e}}},Tt=function(e){return function(){var t=(0,s.Z)(d().mark((function t(n,a){var i,s,o;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n({type:nt,payload:{score:e}});case 3:Je({score:e}),i=a(),s=ht(i),o=new Xe({}).convertToFacebookData(s),FBInstant.player.setDataAsync(o),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),(0,r.tO)(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e,n){return t.apply(this,arguments)}}()},Lt=function(e){return function(){var t=(0,s.Z)(d().mark((function t(n,a){var i,s,o;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n(Ct({timeAddShortcut:e}));case 3:i=a(),s=ht(i),o=new Xe({}).convertToFacebookData(s),FBInstant.player.setDataAsync(o),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),(0,r.tO)(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,n){return t.apply(this,arguments)}}()},It=function(e){function t(){return e.apply(this,arguments)||this}(0,o.Z)(t,e);var n=t.prototype;return n.incUserGuideDisplays=function(){var e=(0,s.Z)(d().mark((function e(){var t;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.game.storage,e.next=3,t.dispatch(function(){var e=(0,s.Z)(d().mark((function e(t,n){var a,i,s,o;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!bt.ForceUseTutorial){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,t(Ct({userGuideDisplays:1}));case 5:a=n(),i=lt(a),s=ht(a),o=new Xe({}).convertToFacebookData(s),FBInstant.player.setDataAsync(o),$e(i),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),(0,r.tO)(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.receiveData=function(){var e=(0,s.Z)(d().mark((function e(t,n){var r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.game.storage,e.next=3,r.dispatch(Et(t,n));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),n.updateData=function(){var e=(0,s.Z)(d().mark((function e(){var t;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.game.storage,e.next=3,t.dispatch(function(){var e=(0,s.Z)(d().mark((function e(t,n){var a,i,s,o,c,u,l,h;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=n(),i=ut(a),s=i.playerId,o=i.name,c=i.photo,u=i.locale,e.next=6,FBInstant.player.getASIDAsync();case 6:return l=e.sent,h={appId:kt,playerId:s,name:o,photo:c,locale:u,ASID:l},e.next=10,t({type:rt,payload:{profile:h}});case 10:return e.next=12,Je(h);case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),(0,r.tO)(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.setBestScore=function(){var e=(0,s.Z)(d().mark((function e(t){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.game.storage,e.next=3,n.dispatch(Tt(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),n.setTimeAddShortcut=function(){var e=(0,s.Z)(d().mark((function e(t){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.game.storage,e.next=3,n.dispatch(Lt(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),n.setSetting=function(){var e=(0,s.Z)(d().mark((function e(t,n){var r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.game.storage,e.next=3,r.dispatch(St(t,n));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),n.setCustomData=function(){var e=(0,s.Z)(d().mark((function e(t,n){var r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.game.storage,e.next=3,r.dispatch(wt(t,n));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),n.setMultiCustomData=function(){var e=(0,s.Z)(d().mark((function e(t){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.game.storage,e.next=3,n.dispatch(At(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),n.requestConnectedPlayers=function(){var e=(0,s.Z)(d().mark((function e(){var t;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.game.storage,e.next=3,t.dispatch(function(){var e=(0,s.Z)(d().mark((function e(t){var n,a,i,s;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,FBInstant.player.getConnectedPlayersAsync();case 3:if(a=e.sent,i=function(e){return!!e},s=Me()(n=De()(a).call(a,(function(e){var t=e.getID(),n=e.getName(),r=e.getPhoto();return t&&n&&r?new st.Z(t,n,r).toObject():null}))).call(n,i),!(s.length<1)){e.next=8;break}return e.abrupt("return");case 8:t(xt(s)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),(0,r.tO)(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.updateConnectedPlayers=function(){var e=(0,s.Z)(d().mark((function e(t){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.game.storage,e.next=3,n.dispatch(xt(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),n.getPlayer=function(){return ut(this.state)},n.getPlayerId=function(){return this.getPlayer().playerId},n.getPlayerASID=function(){return dt(this.state)},n.getPlayerData=function(){return this.getPlayer().data},n.getPlayerSetting=function(e){var t=this.getPlayerSettings();return"string"!==typeof e?null:GameCore.Utils.Object.hasOwn(t,e)?t[e]:GameCore.Utils.Object.hasOwn(Oe,e)?Oe[e]:null},n.getPlayerSettings=function(){return this.getPlayerData().settings},n.getPlayerIsNew=function(){return this.getPlayer().isUserNew},n.getDiamond=function(){var e=this.getCustomData("diamond");return GameCore.Utils.Valid.isNumber(e)?e:0},n.getBestScore=function(){return mt(this.state)},n.getCustomData=function(e){var t=gt(this.state);return GameCore.Utils.Valid.isObject(t)&&GameCore.Utils.Object.hasOwn(t,e)?t[e]:null},n.getConnectedPlayers=function(){return pt(this.state)},n.getConnectedPlayerIds=function(e,t){return ft(this.state,{limit:e,offset:t})},n.joinTournament=function(){var e=(0,s.Z)(d().mark((function e(t){var n,r,a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.getTournaments(),!B()(r).call(r,(function(e){return e.leaderboardId===t.leaderboardId}))){e.next=3;break}return e.abrupt("return");case 3:return a=P()(n=[]).call(n,r,[t]),e.abrupt("return",this.setMultiCustomData({tournaments:a}));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),n.getTournaments=function(){return vt(this.state)},(0,le.Z)(t,[{key:"state",get:function(){return this.game.storage.getState()}}]),t}(Phaser.Plugins.BasePlugin),Pt=It,_t=GameCore.Configs.ApiHost,Bt=function(){var e=(0,s.Z)(d().mark((function e(t){var n,r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=GameCore.Utils.String.params(t),e.next=3,(0,qe.U)("players?"+n,{},_t);case 3:return r=e.sent,e.abrupt("return",(null==r?void 0:r.data)||[]);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ot="PROFILES_DATA_UPDATE",Rt="profile",Mt=(0,fe.P1)([function(e){return e[Rt].data}],(function(e){return e})),Nt=(0,fe.P1)([function(e){return e[Rt].profileIds}],(function(e){return e})),Dt=function(e){return function(){var t=(0,s.Z)(d().mark((function t(n,a){var i,s,o,c;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,i=a(),s=Nt(i),!((o=GameCore.Utils.Array.difference(e,s)).length<1)){t.next=6;break}return t.abrupt("return");case 6:return t.next=8,Bt({playerIds:o});case 8:c=t.sent,n({type:Ot,payload:{data:c}}),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),(0,r.tO)(t.t0);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e,n){return t.apply(this,arguments)}}()},Ft=function(e){function t(){return e.apply(this,arguments)||this}(0,o.Z)(t,e);var n=t.prototype;return n.requestProfiles=function(){var e=(0,s.Z)(d().mark((function e(t){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.game.storage,e.next=3,n.dispatch(Dt(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),n.getProfiles=function(){return Mt(this.state)},(0,le.Z)(t,[{key:"state",get:function(){return this.game.storage.getState()}}]),t}(Phaser.Plugins.BasePlugin),Gt=Ft,Zt=n(63),Ut=n.n(Zt),Kt=n(94),Ht=n.n(Kt),Wt=n(208),Vt=n.n(Wt),Yt=["player","match"],zt="719a1d5284c54354bf9279c29dc75497",jt=GameCore.Utils,Xt=(jt.Valid,jt.Object),qt=GameCore.Configs.Rollbar,Qt=qt.UseMockup,Jt=qt.FilterError,$t=function(e){function t(){for(var t,n,r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return(n=e.call.apply(e,P()(t=[this]).call(t,i))||this).enable=void 0,n.rollbar=void 0,n.events=[],n.beforeSend=function(e,t,r){Qt&&n.showPopupError(r)},n.checkIgnore=function(e,t,r){try{return!!n.isErrorIgnore(t)&&(console.warn(t),!0)}catch(a){return!1}},n.showPopupError=function(e){var t,r,a,i=null==e||null==(t=e.body)||null==(t=t.trace)?void 0:t.exception;i&&n.events.push(i);var s=(null==e||null==(r=e.body)||null==(r=r.trace)?void 0:r.frames)||[];(a=n.events).push.apply(a,s);var o=document.getElementById("popup-error");o||((o=document.createElement("div")).id="popup-error",document.body.appendChild(o)),o.innerHTML='<div style="color: #fff; display: flex; flex-flow: column; align-items: center; ">\n      <pre id="json" style="overflow: auto; background-color: rgb(195 112 97 / 80%); padding: 10px; max-height: 80vh; max-width: 90vw; border: 5px solid #545454;">'+Ut()(n.events,null,2)+'</pre>\n      <button id="close" style="cursor: pointer; padding: 10px 20px; border-radius: 100px;">Close</button>\n      </div>',o.style="top: 0px; z-index: 10000; width: 100vw; max-height: 100vh; position: absolute; display: flex; align-items: center; justify-content: center;";var c=document.getElementById("close");c&&(c.onclick=n.closePopup)},n.closePopup=function(){n.events=[{}];var e=document.getElementById("popup-error");null==e||e.remove()},n.isErrorIgnore=function(e){if(!e||0===e.length)return!1;for(var t=!1,r=0;r<e.length;r++){var a=e[r];a instanceof Object&&(t=n.isIgnoreByCode(a)||n.isIgnoreByMessage(a));try{"string"===typeof a&&(t=n.isIgnoreByCodeString(a))}catch(i){}if(t)break}return t},n.isIgnoreByCode=function(e){if(Xt.hasOwn(e,"code")){var t=e.code,n=Jt.Codes,r=n.accepted,a=n.ignored;if("string"===typeof t){if(Ht()(r).call(r,t)>=0)return!1;if("UNKNOWN"===t||"AdLoadError"===t)return Math.random()<.3;if(Ht()(a).call(a,t)>=0)return!0}}else if(Xt.hasOwn(e,"name")){var i=e.name,s=Jt.Codes,o=s.accepted,c=s.ignored;if("string"===typeof i){if(Ht()(o).call(o,i)>=0)return!1;if("UNKNOWN"===i||"AdLoadError"===i)return Math.random()<.3;if(Ht()(c).call(c,i)>=0)return!0}}return!1},n.isIgnoreByCodeString=function(e){var t=Jt.Codes,n=t.accepted,r=t.ignored;return!(Ht()(n).call(n,e)>=0)&&("UNKNOWN"===e||"AdLoadError"===e?Math.random()<.3:Ht()(r).call(r,e)>=0)},n.isIgnoreByMessage=function(e){if(Xt.hasOwn(e,"message")){var t=e.message,n=Jt.Messages,r=n.accepted,a=n.ignored;if("string"===typeof t){if(Ht()(r).call(r,t)>=0)return!1;if(Ht()(a).call(a,t)>=0)return!0}}return!1},n.addExtraState=function(){try{if(!Xt.hasOwn(window,"game"))return;if(!Xt.hasOwn(window.game,"storage"))return;if(!Xt.hasOwn(window.game.storage,"getState"))return;var e=(0,window.game.storage.getState)()||{},t=e.player,r=e.match,i=(0,a.Z)(e,Yt);n.rollbar.configure({payload:{player:t,match:r,other:i}})}catch(s){console.warn("%c addExtraState: ","font-size:12px;background-color: #42b983;color:#fff;",s)}},n}(0,o.Z)(t,e);var n=t.prototype;return n.setup=function(){this.rollbar=new(Vt())({accessToken:zt,checkIgnore:this.checkIgnore,onSendCallback:this.beforeSend,captureUncaught:!0,scrubTelemetryInputs:!0,captureUnhandledRejections:!0,autoInstrument:{dom:!1,navigation:!1},payload:{environment:"production",client:{javascript:{code_version:"0"}},server:{root:"webpack:///./",branch:"master"}}}),this.enable=!0},n.configure=function(e){this.rollbar&&this.rollbar.configure(e)},n.sendException=function(e,t){e&&(this.enable?this.rollbar&&(this.addExtraState(),this.rollbar.error(e,t)):console.error(e))},t}(Phaser.Plugins.BasePlugin),en=$t,tn=n(194),nn=n(433),rn=function(e){function t(){return e.apply(this,arguments)||this}return(0,o.Z)(t,e),t.prototype.emit=function(t,n){return e.prototype.emit.call(this,t,n)},t}(Phaser.Events.EventEmitter),an=rn,sn=n(79),on=n(430),cn=function(e){function t(t,n,r,a){var i;(i=e.call(this,t)||this).zone=void 0,i.background=void 0,i.setName(n),i.setVisible(!1);var s=i.scene.world.getWorldSize(),o=s.width,c=s.height;return i.setSize(r||o,a||c),i.addZone(),i.addBackground(),i.registerEvents(),i}(0,o.Z)(t,e);var n=t.prototype;return n.open=function(e){GameCore.Utils.Valid.isObject(e)&&(this.setDataEnabled(),this.setData(e)),this.setBlockInputOutsideEnabled(!0),this.visible||(this.setVisible(!0),this.logPageviewOnOpen(),this.logEventOpen(),this.handleResize())},n.emitOpenCompleted=function(){this.emit(GameCore.Screens.Events.OPEN_COMPLETED,this),this.scene.screen.events.emit(GameCore.Screens.Events.OPEN_COMPLETED,this)},n.close=function(){this.setBlockInputOutsideEnabled(!1),this.visible&&(this.setVisible(!1),this.logPageviewOnClose(),this.emit(GameCore.Screens.Events.CLOSE_COMPLETED,this),this.scene.screen.events.emit(GameCore.Screens.Events.CLOSE_COMPLETED,this))},n.incY=function(e){this.y+=e,this.background.y-=e},n.incX=function(e){this.x+=e,this.background.x-=e},n.incScale=function(e){this.scale+=e,this.background.scale-=e^e*(100/e)},n.setBlockInputOutsideEnabled=function(e){},n.addZone=function(){this.zone=this.scene.add.zone(0,0,this.width,this.height),this.zone.setInteractive({}),this.add(this.zone)},n.addBackground=function(){var e="screen-background";if(!this.scene.textures.exists(e)){var t=this.width+2,n=this.height+2,r=this.scene.add.graphics();r.fillStyle(0,1),r.fillRect(0,0,t,n),r.generateTexture(e,t,n),r.destroy()}this.background=this.scene.add.image(0,0,e),this.add(this.background)},n.registerEvents=function(){this.scene.world.events.on(on.Z.RESIZE,this.handleResize,this)},n.handleResize=function(){var e=this.scene.world.getWorldSize(),t=e.width,n=e.height;this.setSize(t,n).setPosition(t/2,n/2),this.zone.setSize(this.width,this.height),this.background.setDisplaySize(this.width,this.height)},n.logPageviewOnOpen=function(){this.scene.analytics.pageview(this.name)},n.logPageviewOnClose=function(){this.scene.analytics.pageview(this.scene.scene.key)},n.logEventOpen=function(){this.scene.analytics.event(sn._.SCREEN_OPEN,{screen_name:this.getScreenName()})},n.getScreenName=function(){return GameCore.Utils.String.toUpperCamelCase(this.name.toLowerCase())},t}(Phaser.GameObjects.Container),un=cn,ln={OPEN:"open",CLOSE:"close",OPEN_COMPLETED:"open-completed",CLOSE_COMPLETED:"close-completed",CREATED:"created"};GameCore.Screen=un,GameCore.Screens={Events:ln};var dn=function(e){function t(){for(var t,n,r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=e.call.apply(e,P()(t=[this]).call(t,a))||this).events=void 0,n}(0,o.Z)(t,e);var n=t.prototype;return n.boot=function(){this.events=new an,this.registryScreenFactory()},n.get=function(e){var t=this.scene.children.getByName(e);return null===t?null:t},n.add=function(e,t,n,r){var a=this.get(e);return a||(a=this.scene.add.screen(e,t,n,r),this.events.emit(GameCore.Screens.Events.CREATED,a),a)},n.open=function(e,t){var n=this.get(e);return!!n&&(e===tn.o4.MAP_SCREEN?this.scene.audio.playSound(nn.Z.THEME_POPUP_SHOW):e===tn.o4.SHOP_SCREEN?this.scene.audio.playSound(nn.Z.SHOP_POPUP_SHOW,{volume:.3}):e===tn.o4.NOTIFY_SCREEN||e===tn.o4.SWITCH_MAP_SCREEN||e===tn.o4.RESULT_SCREEN||(e===tn.o4.DASHBOARD_SCREEN?this.scene.audio.playSound(nn.Z.DASHBOARD_OPEN,{volume:.3}):e===tn.o4.NO_MORE_MOVES_SCREEN?this.scene.audio.playSound(nn.Z.FAIL):this.scene.audio.playSound(nn.Z.POPUP_SHOW)),n.open(t),n.emit(GameCore.Screens.Events.OPEN,n),this.events.emit(GameCore.Screens.Events.OPEN,n),console.log("Screen open",e,t),!0)},n.close=function(e){var t=this.get(e);return!!t&&(e!==tn.o4.DASHBOARD_SCREEN&&e!==tn.o4.SHOP_SCREEN&&e!==tn.o4.SWITCH_MAP_SCREEN&&e!==tn.o4.RESULT_SCREEN&&e!==tn.o4.NO_MORE_MOVES_SCREEN&&e!==tn.o4.WELL_DONE_SCREEN&&this.scene.audio.playSound(nn.Z.POPUP_OFF),t.close(),t.emit(GameCore.Screens.Events.CLOSE,t),this.events.emit(GameCore.Screens.Events.CLOSE,t),console.log("Screen close",e),!0)},n.openAsync=function(){var e=(0,s.Z)(d().mark((function e(t,n){var r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.open(t,n),r=this.get(t)){e.next=4;break}return e.abrupt("return");case 4:return e.abrupt("return",new(u())((function(e){r.once(GameCore.Screens.Events.OPEN_COMPLETED,(function(){e()}))})));case 5:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),n.closeAsync=function(){var e=(0,s.Z)(d().mark((function e(t){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.close(t),n=this.get(t)){e.next=4;break}return e.abrupt("return");case 4:if(n.visible){e.next=6;break}return e.abrupt("return");case 6:return e.abrupt("return",new(u())((function(e){n.once(GameCore.Screens.Events.CLOSE_COMPLETED,(function(){e()}))})));case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),n.bringToTop=function(e){var t=this.scene.children.getByName(e);t&&this.scene.children.bringToTop(t)},n.registryScreenFactory=function(){Phaser.GameObjects.GameObjectFactory.register("screen",this.createScreen)},n.createScreen=function(e,t,n,r){var a=new t(this.scene,e,n,r);return Phaser.Display.Align.In.Center(a,this.scene.gameZone),this.existing(a),a},t}(Phaser.Plugins.ScenePlugin),hn=dn,pn=n(398),fn=n.n(pn),mn=n(426),gn=n(428),vn=n(427),yn={currentSceneKey:"",prevSceneKey:""};(0,vn.pV)();var kn,bn,En,xn,Sn,wn,An,Cn,Tn,Ln={processed:!1,contextId:"",contextType:"SOLO",entryPointData:{},currentGameMode:""},In=Ln,Pn={data:{}},_n={token:"",isRequesting:!1},Bn=((kn={})[me]=function(e,t){return void 0===e&&(e=_n),(0,vn.ZP)(e,(function(e){var n=t.payload;if(n){var r=n.token;switch(t.type){case de:e.isRequesting=!0;break;case he:e.token=r,e.isRequesting=!1}}}))},kn),On=n(117),Rn={ASID:"",playerId:"",name:"",photo:"",locale:"",connectedPlayers:{},data:{score:0,settings:Oe,userGuideDisplays:0,customFields:{},timeAddShortcut:0},isUserNew:!0},Mn=((bn={})[ct]=function(e,t){return void 0===e&&(e=Rn),(0,vn.ZP)(e,(function(n){var r=t.payload;if(r){var a=r.name,i=r.value,s=r.data,o=void 0===s?{}:s,c=r.score,u=r.connectedPlayers,l=void 0===u?[]:u,d=r.profile;switch(t.type){case et:var h=r.playerId,p=r.name,f=r.photo,m=r.locale,g=r.data;if(n.playerId=h,n.name=p,n.photo=f,n.locale=m,GameCore.Utils.Valid.isObject(g)){var v=g;n.data=(0,On.TS)(e.data,v)}g.userGuideDisplays>0&&(n.isUserNew=!1);break;case rt:var y=d.playerId,k=d.name,b=d.photo,E=d.locale,x=d.ASID;n.ASID=x,n.playerId=y,n.name=k,n.photo=b,n.locale=E;break;case nt:n.data.score=c;break;case at:if(!GameCore.Utils.Object.hasOwn(n.data.settings,a))break;n.data.settings[a]=i;break;case tt:n.data=(0,On.TS)(e.data,o),o.userGuideDisplays>0&&(n.isUserNew=!1);break;case it:if(l.length<=0)break;var S=GameCore.Utils.Object.keyBy(l,"playerId");n.connectedPlayers=(0,On.TS)(e.connectedPlayers,S)}}}))},bn),Nn=n(444),Dn=n.n(Nn),Fn={data:{},profileIds:[]},Gn=((En={})[Rt]=function(e,t){return void 0===e&&(e=Fn),(0,vn.ZP)(e,(function(n){var r=t.payload;if(r){var a=r.data,s=void 0===a?[]:a;if(t.type===Ot){var o,c,u=GameCore.Utils.Object.keyBy(s,"playerId"),l=te()(u);n.data=(0,On.TS)((0,i.Z)({},e.data),u),n.profileIds=P()(o=[]).call(o,new(Dn())(P()(c=[]).call(c,e.profileIds,l)))}}}))},En),Zn="match",Un="MATCH_GAMEPLAY_INITIALIZE",Kn="MATCH_GAMEPLAY_START",Hn="MATCH_GAMEPLAY_FINISH",Wn="MATCH_GAMEPLAY_UPDATE",Vn="MATCH_STATS_DATA_CLEAR",Yn="MATCH_STATS_DATA_UPDATE",zn="MATCH_STATS_CURRENT_UPDATE",jn="MATCH_SINGLE_CREATE_REQUEST",Xn="MATCH_SINGLE_DETAIL_REQUEST",qn="MATCH_SINGLE_DATA_RECEIVED",Qn="MATCH_SINGLE_DATA_CLEAR",Jn="MATCH_CHALLENGE_JOIN_REQUEST",$n="MATCH_CHALLENGE_CREATE_REQUEST",er="MATCH_CHALLENGE_FINISH_REQUEST",tr="MATCH_CHALLENGE_CONTINUE_REQUEST",nr="MATCH_CHALLENGE_DATA_RECEIVED",rr="MATCH_CHALLENGE_DATA_CLEAR",ar="MATCH_GROUP_CREATE_REQUEST",ir="MATCH_GROUP_FINISH_REQUEST",sr="MATCH_ONLINE_CREATE_REQUEST",or="MATCH_ONLINE_DATA_RECEIVED",cr="open",ur="active",lr="finished",dr={mode:"",status:cr,rescued:0,startAt:0,finishAt:0},hr={single:{_id:"",data:{fen:""},playerId:"",status:cr},group:{status:cr,opponentInfo:{playerId:"",name:"",photo:""}},challenge:{_id:"",status:cr,whitePlayerId:"",blackPlayerId:"",opponentInfo:{playerId:"",name:"",photo:""}},online:{_id:"",status:cr,players:{}},updateAt:0,isRequesting:!1},pr={current:{updateAt:0},data:{updateAt:0},isRequesting:!1},fr=((xn={})[Zn]=(0,mn.UY)({gameplay:function(e,t){return void 0===e&&(e=dr),(0,vn.ZP)(e,(function(n){var r=t.payload;if(r){var a=r.mode,i=r.status;switch(t.type){case Un:n.status=cr,n.mode=dr.mode,n.rescued=dr.rescued,n.startAt=dr.startAt,n.finishAt=dr.finishAt,n.opponentInfo=dr.opponentInfo;break;case Kn:n.mode=a,n.status=ur,n.rescued=dr.rescued,n.startAt=Date.now();break;case Wn:n.mode="string"===typeof a?a:e.mode,n.status=i||e.status;break;case Hn:n.status=lr,n.finishAt=Date.now();break;case"MATCH_GAMEPLAY_RESCUE":n.rescued+=1}}}))},match:function(e,t){return void 0===e&&(e=hr),(0,vn.ZP)(e,(function(n){var r=t.payload;if(r){var a=r.match,s=r.opponentInfo,o=r.players;switch(t.type){case jn:case Xn:case Jn:case er:case sr:n.isRequesting=!0;break;case"MATCH_SINGLE_MOVE_UPDATED":n.single=(0,i.Z)({},e.single,a),n.updateAt=Date.now();break;case qn:n.isRequesting=!1,n.single=a||hr.single;break;case Qn:n.isRequesting=!1,n.single=hr.single;break;case $n:case tr:n.isRequesting=!0,n.challenge.opponentInfo=s;break;case nr:n.isRequesting=!1,n.challenge=(0,i.Z)({},a||hr.challenge),n.challenge.opponentInfo=e.challenge.opponentInfo;break;case rr:n.isRequesting=!1,n.challenge=hr.challenge;break;case ar:n.group.status=ur,s&&(n.group.opponentInfo=s);break;case ir:n.group.status=lr;break;case"MATCH_ONLINE_DATA_CLEAR":n.online.status=hr.online.status,n.online.players=hr.online.players;break;case or:n.online.status=ur,n.online.players=o;break;case"MATCH_ONLINE_FINISH_REQUEST":n.online.status=lr}}}))},stats:function(e,t){return void 0===e&&(e=pr),(0,vn.ZP)(e,(function(n){var r=t.payload;if(r){var a=r.playerId,s=r.stats,o=r.match,c=r.current,u=r.players,l=r.leaders;switch(t.type){case Vn:delete n.data[a],n.current=pr.current;break;case"MATCH_STATS_CONTEXT_REQUEST":n.data=pr.data,n.isRequesting=!0;break;case"MATCH_STATS_CONTEXT_RECEIVED":n.data=s,n.isRequesting=!1;break;case Yn:n.data[a]=s;break;case zn:n.current=(0,On.TS)((0,i.Z)({},e.current),s);break;case or:te()(u).forEach((function(e){n.data[e]={score:0}}));break;case"MATCH_ONLINE_STATS_UPDATE":l.forEach((function(e){var t=e.playerId,r=e.score,a=e.rank;n.data[t]={score:r,rank:a}}));break;case nr:var d=o||{},h=d.blackPlayerId,p=d.blackPlayerScore,f=d.whitePlayerId,m=d.whitePlayerScore,g=d.whitePlayerLevel,v=d.blackPlayerLevel;if(!h||!f)break;c&&(n.current=c),n.data[h]={score:p,level:v},n.data[f]={score:m,level:g}}}}))}}),xn),mr="tournament",gr="TOURNAMENT_ACTIVE",vr="TOURNAMENT_REQUEST",yr="TOURNAMENT_RECEIVED",kr={active:!1,tournamentId:null,bestSessionScore:0,isRequesting:!1},br=((Sn={})[mr]=function(e,t){return void 0===e&&(e=kr),(0,vn.ZP)(e,(function(n){var r=t.payload;if(r){var a=r.score,i=void 0===a?0:a,s=r.tournamentId;switch(t.type){case gr:n.active=!0,n.tournamentId=s;break;case vr:n.isRequesting=!0;break;case yr:n.isRequesting=!1,i>e.bestSessionScore&&(n.bestSessionScore=i)}}}))},Sn),Er=n(125),xr=n.n(Er),Sr=n(200),wr=n.n(Sr),Ar={leaderboardId:"",type:"",limit:0,offset:0,leaders:{},isRequesting:!1},Cr=((wn={}).leaderboards=function(e,t){return void 0===e&&(e=Ar),(0,vn.ZP)(e,(function(n){var r=t.payload;if(r){var a=r.leaderboardId,s=r.type,o=r.limit,c=r.offset,u=r.leaders;switch(t.type){case"LEADERBOARD_DATA_REQUEST":e.type!==s&&0===c&&(n.leaders=Ar.leaders),n.isRequesting=!0,n.leaderboardId=a,n.type=s,n.limit=o,n.offset=c;break;case"LEADERBOARD_DATA_UPDATE":if(n.isRequesting=!1,e.type!==s)break;var l=GameCore.Utils.Json.clone((0,i.Z)({},e.leaders,u)),d=xr()(l),h=Me()(d).call(d,(function(e){return!!e.name&&!!e.photo}));wr()(h).call(h,(function(e,t){return+t.score-+e.score})),h.forEach((function(t,r){t.rank=r+1,e.leaders[t.playerId]||(n.leaders[t.playerId]=t)}));break;case"LEADERBOARD_DATA_CLEAR":n.isRequesting=!1,n.type=Ar.type,n.limit=Ar.limit,n.offset=Ar.offset,n.leaders=Ar.leaders,n.leaderboardId=Ar.leaderboardId}}}))},wn),Tr={mission:null,missions:null,isRequesting:!1},Lr=((An={}).missions=function(e,t){return void 0===e&&(e=Tr),(0,vn.ZP)(e,(function(n){var r,a,i=t.payload;if(i){var s=i.name,o=i.type,c=i.value,u=i.missions;switch(t.type){case"MISSIONS_DATA_REQUEST":n.isRequesting=!0;break;case"MISSIONS_DATA_RECEIVE":if(n.isRequesting=!1,u.length<1)return;n.missions={},u.forEach((function(e){n.missions[e.name]=e}));break;case"MISSION_START":if(null===e.missions)break;var l=e.missions[s];n.mission={name:s,process:{},require:l.require,reward:l.reward},te()(l.require).forEach((function(e){n.mission.process[e]=0}));break;case"MISSION_UPDATE":if((null==(r=e.mission)?void 0:r.name)!==s)break;n.mission.process[o]+=c;break;case"MISSION_COMPLETED":if((null==(a=e.mission)?void 0:a.name)!==s)break;n.mission=null}}}))},An),Ir={tasks:[],process:[],isRequesting:!1,isNotice:!1},Pr=((Cn={}).dailyTasks=function(e,t){return void 0===e&&(e=Ir),(0,vn.ZP)(e,(function(n){var r=t.payload;if(r){var a=r.id,i=r.type,s=r.value,o=r.tasks,c=r.process;switch(t.type){case"DAILY_TASKS_DATA_REQUEST":n.isRequesting=!0;break;case"DAILY_TASKS_DATA_RECEIVE":n.isRequesting=!1,n.tasks=o;break;case"DAILY_TASKS_PROCESS_UPDATE":n.process=c;break;case"DAILY_TASK_VALUE_ADD":if(!e.process[a])break;n.process[a][i]+=s;break;case"DAILY_TASK_REWARDED":if(!e.process[a])break;n.process[a].rewarded=!0;break;case"DAILY_TASKS_SEEN":n.isNotice=!1;break;case"DAILY_TASK_FINISHED":n.isNotice=!0}}}))},Cn),_r={rewards:[],isRequesting:!1},Br=((Tn={}).dailyRewards=function(e,t){return void 0===e&&(e=_r),(0,vn.ZP)(e,(function(e){var n=t.payload;if(n){var r=n.rewards;switch(t.type){case"DAILY_REWARDS_REQUEST":e.isRequesting=!0;break;case"DAILY_REWARDS_RECEIVE":e.isRequesting=!1,e.rewards=r}}}))},Tn),Or=(0,mn.UY)((0,i.Z)({scene:function(e,t){return void 0===e&&(e=yn),(0,vn.ZP)(e,(function(n){var r=t.payload;if(r){var a=r.sceneKey;if(t.type===gn.DW)n.currentSceneKey=a,n.prevSceneKey=e.currentSceneKey}}))},context:function(e,t){return void 0===e&&(e=Ln),(0,vn.ZP)(e,(function(e){var n=t.payload;if(n){var r=n.gameMode,a=n.contextId,i=n.contextType,s=n.entryPointData;switch(t.type){case gn.kL:e.contextId=a,e.contextType=i,e.entryPointData=s;break;case gn.fJ:e.contextId=a,e.contextType=i,e.processed=!0;break;case gn.EH:e.currentGameMode=r}}}))},messages:function(e,t){return void 0===e&&(e=Pn),(0,vn.ZP)(e,(function(n){var r=t.payload;if(r){var a=r.opponentId;if("string"===typeof a)switch(t.type){case gn.qj:e.data[a]?n.data[a].sent=!0:n.data[a]={sent:!0};break;case gn.rh:e.data[a]?n.data[a].sent=!1:n.data[a]={sent:!1}}}}))}},Bn,Mn,Gn,fr,br,Cr,Lr,Pr,Br)),Rr=n(593),Mr=function(e){return(0,Rr.xC)({reducer:Or,preloadedState:e,devTools:!0})},Nr=function(e){function t(){for(var t,n,r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=e.call.apply(e,P()(t=[this]).call(t,a))||this).store=void 0,n.initiator=void 0,n.dispatch=function(e){return n.store.dispatch(e)},n.getState=function(){return n.store.getState()},n.subscribe=function(e){return n.store.subscribe(e)},n.watch=function(e,t){var r=fn()((function(){var t=n.getState();return e(t)}));return n.subscribe(r((function(e){t(e)})))},n}(0,o.Z)(t,e);var n=t.prototype;return n.init=function(){this.store=Mr({})},n.setInitiator=function(e){this.initiator=e},n.syncStore=function(){var e=(0,s.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.initiator.initContext(),e.next=3,this.initiator.initPlayer();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.initPlayerManually=function(){var e=(0,s.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initiator.initPlayer();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t}(Phaser.Plugins.BasePlugin),Dr=Nr,Fr=n(586),Gr=n.n(Fr),Zr=function(e){function t(t,n){var r;return(r=e.call(this,t,{type:"webfont",key:n.type})||this).payload=void 0,r.payload=n,r}(0,o.Z)(t,e);var n=t.prototype;return n.load=function(){var e;switch(this.payload.type){case"google":e=this.getGoogleFontConfig(this.payload);break;case"local":e=this.getLocalFontConfig(this.payload)}Gr().load(e)},n.getGoogleFontConfig=function(e){var t=this,n=e.character,r=e.fontName,a=e.fontWeight;return{google:{families:[r+":"+(void 0===a?400:a)],text:n},active:function(){t.loader.nextFile(t,!0)},timeout:15e3}},n.getLocalFontConfig=function(e){var t=this,n=e.fontName,r=e.fontType,a=document.createElement("style");document.head.appendChild(a);var i=a.sheet;if(i){var s='@font-face { font-family: "'+n+'"; src: url("assets/fonts/'+n+("opentype"===r?".otf":".ttf")+'") format("'+r+'"); }';i.insertRule(s,0)}return{custom:{families:[n]},active:function(){t.loader.nextFile(t,!0)},timeout:15e3}},t}(Phaser.Loader.File),Ur=function(e){function t(){return e.apply(this,arguments)||this}return(0,o.Z)(t,e),t.prototype.addFont=function(e){var t=new Zr(this.scene.load,e);this.scene.load.addFile(t)},t}(Phaser.Plugins.ScenePlugin),Kr=Ur,Hr=n(421),Wr=function(e){function t(){return e.apply(this,arguments)||this}return(0,o.Z)(t,e),t.prototype.emit=function(t){return e.prototype.emit.call(this,t)},t}(Phaser.Events.EventEmitter),Vr=Wr,Yr=function(e){function t(){for(var t,n,r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=e.call.apply(e,P()(t=[this]).call(t,a))||this).events=void 0,n.previousLayout=void 0,n.resizeEventData=void 0,n.portraitRatio=void 0,n.portraitWidth=void 0,n.portraitHeight=void 0,n.landscapeRatio=void 0,n.landscapeWidth=void 0,n.landscapeHeight=void 0,n.worldWidth=void 0,n.worldHeight=void 0,n.worldRatio=void 0,n.autoResize=void 0,n.disableLandscape=void 0,n.fullSizeOnLandscape=void 0,n.currentLayout=void 0,n.forcePixelRatio=void 0,n.handleResize=(0,Hr.D)((function(){n.previousLayout=""+n.currentLayout,n.initWorldSize(),n.resize()}),300),n}(0,o.Z)(t,e);var n=t.prototype;return n.configure=function(e){this.events=new Vr;var t=e.autoResize,n=e.portraitRatio,r=e.portraitWidth,a=e.portraitHeight,i=e.landscapeWidth,s=e.landscapeHeight,o=e.landscapeRatio,c=e.disableLandscape,u=e.fullSizeOnLandscape;this.autoResize=t,this.disableLandscape=c,this.fullSizeOnLandscape=u,this.portraitRatio=n,this.portraitWidth=r,this.portraitHeight=a,this.landscapeRatio=o,this.landscapeWidth=i,this.landscapeHeight=s,this.initWorldSize(),this.addEventResize()},n.resize=function(e){var t=this;e&&e>0&&(this.forcePixelRatio=e);var n=this.getCanvasSizeFixedRatio(this.worldRatio),r=n.width,a=n.height;this.resizeCanvas(r,a),this.game.scene.scenes.forEach((function(e){var n=e.cameras.main;if(n){var r=t.getZoomRatio(),a=t.getWorldSize(),i=a.width,s=a.height;n.setZoom(r),n.centerOn(i/2,s/2)}}));var i={width:this.worldWidth,height:this.worldHeight,isLayoutChanged:!1,newLayout:this.currentLayout};this.previousLayout!==this.currentLayout&&(i.isLayoutChanged=!0,i.newLayout=this.currentLayout),this.resizeEventData=i,this.events.emit(on.Z.RESIZE,i)},n.getResizeEventData=function(){return this.resizeEventData},n.resizeCanvas=function(e,t){this.game.canvas.width=e,this.game.canvas.height=t,this.game.scale.resize(e,t)},n.getWorldSize=function(){return{width:this.worldWidth,height:this.worldHeight}},n.initWorldSize=function(){if(this.worldWidth=this.portraitWidth,this.worldHeight=this.portraitHeight,this.isScreenSmallerRatio(this.portraitRatio))this.worldHeight=this.worldWidth/this.getScreenRatio(),this.currentLayout="portrait";else if(!this.disableLandscape&&(this.worldWidth=this.landscapeWidth,this.worldHeight=this.landscapeHeight,this.currentLayout="landscape",this.fullSizeOnLandscape)){this.worldRatio=this.worldWidth/this.worldHeight,this.landscapeRatio=this.getScreenRatio();var e=this.getCanvasSizeFixedRatio(this.landscapeRatio),t=e.width,n=e.height,r=this.getZoomRatio();this.worldWidth=t/r,this.worldHeight=n/r}this.worldRatio=this.worldWidth/this.worldHeight,console.info("\ud83d\ude80 > this.worldRatio",this.worldRatio)},n.getZoomRatio=function(){var e=this.getWorldSize().width;return this.getCanvasSizeFixedRatio(this.worldRatio).width/e},n.getPixelRatio=function(){if(this.forcePixelRatio>0)return this.forcePixelRatio;if(GameCore.Utils.Device.isDesktop())return 2;var e=GameCore.Utils.Device.pixelRatio();return e>2&&(e=2),e},n.getPhysicPixels=function(e,t){return e*t},n.getCanvasSizeFixedRatio=function(e){var t=this.getPixelRatio(),n=this.getScreenWidth()*t,r=this.getScreenHeight()*t;return this.isScreenSmallerRatio(e)?r=n/e:n=r*e,{width:n,height:r}},n.getScreenRatio=function(){return this.getScreenWidth()/this.getScreenHeight()},n.getScreenHeight=function(){var e=document,t=e.body,n=e.documentElement,r=t.clientHeight,a=n.clientHeight;return Math.max(a,r)||0},n.getScreenWidth=function(){var e=document,t=e.body,n=e.documentElement,r=t.clientWidth,a=n.clientWidth;return Math.max(a,r)||0},n.isScreenSmallerRatio=function(e){return this.getScreenRatio()<e},n.addEventResize=function(){this.autoResize&&window.addEventListener("resize",this.handleResize)},n.isLandscape=function(){return!this.disableLandscape&&this.worldRatio>this.portraitRatio},t}(Phaser.Plugins.BasePlugin),zr=Yr,jr=function(){function e(e,t,n){this.contextId=void 0,this.contextType=void 0,this.entryPointData=void 0,this.contextId=e||In.contextId,this.contextType=t||In.contextType,this.entryPointData=n||In.entryPointData}return e.prototype.toObject=function(){return{contextId:this.contextId,contextType:this.contextType,entryPointData:this.entryPointData}},e}(),Xr=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).name="InvalidPlayerId",r.message=t||"The playerId is not valid",r.payload=n,r}return(0,o.Z)(t,e),t}((0,Z.Z)(Error)),qr="share_invite",Qr="challenge_friend_match",Jr="matching_group_match",$r=n(193),ea=new st.Z("10","Your Friend",$r.Z.AVATAR.FILE).toObject(),ta="single",na="challenge-friends",ra="matching-group",aa="tournaments",ia="daily-challenge",sa=(0,fe.P1)([function(e){return e.context}],(function(e){return e})),oa=(0,fe.P1)([function(e){return e.context.currentGameMode}],(function(e){return e})),ca=function(e,t){return{type:gn.fJ,payload:{contextId:e,contextType:t}}},ua=function(){return function(){var e=(0,s.Z)(d().mark((function e(t,n){var r,a,i,s,o,c,u,l,h,p,f,m,g,v,y,k;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n(),i=sa(a),s=window.game.player,o=s.getPlayerId(),c=i.contextId,u=i.entryPointData,h=(l=u||{}).type,p=l.matchId,f=l.playerId,m=l.opponentId,g=void 0===m?ea.playerId:m,v=o===f,y=g===ea.playerId||Ht()(r=[g,f]).call(r,o)>=0,k=ta,e.prev=9,e.next=12,window.game.facebook.getTournamentAsync();case 12:k=aa,e.next=17;break;case 15:e.prev=15,e.t0=e.catch(9);case 17:c&&h===qr&&!v&&(k=na),p&&c&&y&&h===Qr&&(k=na),c&&h===Jr&&(k=ra),t(la(k));case 21:case"end":return e.stop()}}),e,null,[[9,15]])})));return function(t,n){return e.apply(this,arguments)}}()},la=function(e){return function(t){t({type:gn.EH,payload:{gameMode:e}}),(0,r.sw)("game-mode",e)}},da={score:"score",settings:"settings",gameData:"gameData",userGuideDisplays:"userGuideDisplays",timeAddShortcut:"timeAddShortcut"},ha=GameCore.Configs.SyncProfileFromAPI,pa=function(e){var t=this;this.game=void 0,this.initContext=function(){var e=window.GameSDK.context.getID(),n=window.GameSDK.context.getType(),r=window.GameSDK.getEntryPointData(),a=new jr(e,n,r).toObject(),i=a.contextId,s=a.contextType,o=a.entryPointData;t.game.storage.dispatch(function(e,t,n){return{type:gn.kL,payload:{contextId:e,contextType:t,entryPointData:n}}}(i,s,o))},this.initPlayer=(0,s.Z)(d().mark((function e(){var n,r,a,i,s;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.game.player,r=t.getPlayerInfo(),a=xr()(da),e.next=5,FBInstant.player.getDataAsync(a);case 5:return i=e.sent,console.info("\ud83d\ude80 > rawData",i),s=new Xe(i),console.info("\ud83d\ude80 > playerData",s),e.next=11,t.maintainDataStructure(s);case 11:return s=e.sent,!0===s.toObject().settings.music&&window.game.audio.playMusic(),e.next=16,n.receiveData(r,s.convertToPlayerData());case 16:case"end":return e.stop()}}),e)}))),this.maintainDataStructure=function(){var e=(0,s.Z)(d().mark((function e(t){var n,r,a,s;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,ha){e.next=3;break}return e.abrupt("return",t);case 3:return e.next=5,FBInstant.player.getDataAsync(["isSynced","customFields"]);case 5:if(e.t0=e.sent,e.t0){e.next=8;break}e.t0={};case 8:if(n=e.t0,!0!==(n.isSynced||!1)){e.next=12;break}return e.abrupt("return",t);case 12:if(r=n.customFields||!1){e.next=15;break}return e.abrupt("return",t);case 15:return(a=t.convertToPlayerData()).customFields=r,s=new Xe({}).convertToFacebookData(a),e.next=20,FBInstant.player.setDataAsync((0,i.Z)({},s,{isSynced:!0}));case 20:return e.abrupt("return",new Xe(s));case 23:return e.prev=23,e.t1=e.catch(0),console.warn(e.t1),e.abrupt("return",t);case 27:case"end":return e.stop()}}),e,null,[[0,23]])})));return function(t){return e.apply(this,arguments)}}(),this.getPlayerInfo=function(){try{var e=window.GameSDK.player.getID(),t=window.GameSDK.player.getName(),n=window.GameSDK.player.getPhoto(),r=window.GameSDK.getLocale();if(!GameCore.Utils.Valid.isString(e))throw new Xr(null,{playerId:e});return GameCore.Utils.Valid.isString(t)||(t="You"),new st.Z(e,t,n,r).toObject()}catch(a){return new st.Z("123","You").toObject()}},this.game=e},fa=n(432),ma=function(e){function t(){for(var t,n,r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=e.call.apply(e,P()(t=[this]).call(t,a))||this).Text=void 0,n.Texture=void 0,n.currentLocale=void 0,n.supportedLanguages=void 0,n.data=void 0,n.options=void 0,n}(0,o.Z)(t,e);var n=t.prototype;return n.configure=function(e){this.applyOptions(e)},n.getCurrentLanguage=function(){return this.currentLocale},n.switchLanguage=function(e){void 0===e&&(e="en");var t=this.getCorrectLocale(e);this.currentLocale=t,this.Text=this.data[t].Text,this.Texture=this.data[t].Texture},n.getText=function(e){if("object"==typeof e){var t=e.key,n=e.variables,r=void 0===n?[]:n,a=e.locale,i=void 0===a?this.currentLocale:a,s=this.getCorrectLocale(i),o=this.data[s].Text[t];return this.replaceVariables(o,r)}return this.Text[e]},n.getTexture=function(e){if("object"==typeof e){var t=e.key,n=e.variables,r=void 0===n?[]:n,a=e.locale,i=void 0===a?this.currentLocale:a,s=this.getCorrectLocale(i),o=this.data[s].Texture[t];return this.replaceVariables(o,r)}return this.Texture[e]},n.isSupportLanguage=function(e){var t;return Ht()(t=this.supportedLanguages).call(t,e)>=0},n.applyOptions=function(e){this.options=(0,i.Z)({},e);var t=e.data,n=e.locale,r=void 0===n?"en":n,a=e.upperCaseText,s=void 0!==a&&a;this.data=t,this.supportedLanguages=te()(t);var o=this.getCorrectLocale(r);if(this.currentLocale=o,this.Text=t[o].Text,this.Texture=t[o].Texture,s)for(var c in this.Text)this.Text[c]=this.Text[c].toUpperCase()},n.makeText=function(e,t){var n,r=t.maxWidth,a=void 0===r?Phaser.Math.MAX_SAFE_INTEGER:r,i=t.maxHeight,s=void 0===i?Phaser.Math.MAX_SAFE_INTEGER:i,o=t.align,c=void 0===o?"center":o,u=t.drawMaxBoxDebug,l=void 0!==u&&u,d=e.make.bitmapText(t);for("center"===c?d.setCenterAlign():"left"===c?d.setLeftAlign():"right"===c&&d.setRightAlign(),Ht()(n=t.text||"").call(n," ")>=0&&d.setMaxWidth(a);d.width>a||d.height>=s;)d.setFontSize(.95*d.fontSize),console.log({t:t.text,w:d.width,h:d.height});if(l&&GameCore.Utils.Valid.isDebugger()){var h=e.game.globalScene.add.graphics({lineStyle:{width:2,color:16711680}});h.setDepth(Phaser.Math.MAX_SAFE_INTEGER),e.game.globalScene.events.on(Phaser.Scenes.Events.UPDATE,(function(){if(h.clear(),d&&d.visible&&d.active){var e=d.getWorldPosition(),t=e.x,n=e.y;h.strokeRect(t-.5*a+(.5-d.originX)*d.width,n-.5*s+(.5-d.originY)*d.height,a,s)}}))}return d},n.setFontSize=function(e,t,n){var r,a=t||Phaser.Math.MAX_SAFE_INTEGER,i=n||Phaser.Math.MAX_SAFE_INTEGER;for(Ht()(r=e.text||"").call(r," ")>=0&&e.setMaxWidth(a);e.width>a||e.height>=i;)e.setFontSize(.95*e.fontSize)},n.replaceVariables=function(e,t){var n=t.length;if(0==n)return e;var r=0;return e.replace(/{.*}/,(function(){return String(t[Math.min(r++,n-1)])}))},n.getCorrectLocale=function(e){var t=e;return this.isSupportLanguage(e)||(t="en"),t},t}(Phaser.Plugins.BasePlugin),ga={en:JSON.parse('{"Text":{"LEVEL":"LEVEL","SETTINGS":"SETTINGS","Loading_ads":"Loading ads...","Loading":"Loading\u2026","No_ads_to_display":"No ads to display","Sorry_No_Reward":"Sorry, No Rewards!\\nYou have cancelled the ad!","WISDOM":"WISDOM","Adventure":"Adventure","Watch_Ad":"Watch Ad","Watch_an_Ad":"Watch an Ad","Home":"Home","One_More_Chance":"One More Chance","Retry":"Retry","Levels":"Levels","COMPLETED":"COMPLETED","SHOP":"SHOP","WELL_DONE":"WELL DONE!","AD":"AD","THEMES":"THEMES","COLLECT":"COLLECT","EARN_FREE_COINS":"EARN FREE COINS!","VIDEO":"VIDEO","SUPER_PACK":"SUPER PACK","OK":"OK","Collect_3_same_tiles_to_eliminate":"Collect 3 same tiles to eliminate","HOW_TO_PLAY":"HOW TO PLAY","NO_MORE_MOVES":"NO MORE MOVES","TAP_3_IDENTICAL_TILES":"Tap 3 identical tiles to clear!","Music":"Music","Sound":"Sound","Vibration":"Vibration","Invite_Friends":"Invite Friends","BEGINNER":"BEGINNER","RISE":"RISE","Apple":"Apple","Banana":"Banana","Cherry":"Cherry","Date":"Date","Fig":"Fig","Grape":"Grape","Kiwi":"Kiwi","Lemon":"Lemon","Mango":"Mango","Orange":"Orange","Papaya":"Papaya","Pear":"Pear","Plum":"Plum","Raspberry":"Raspberry","Strawberry":"Strawberry","Tangerine":"Tangerine","Watermelon":"Watermelon","Pineapple":"Pineapple","Peach":"Peach","Apricot":"Apricot","Avocado":"Avocado","Blackberry":"Blackberry","Blueberry":"Blueberry","Cantaloupe":"Cantaloupe","Coconut":"Coconut","Grapefruit":"Grapefruit","Guava":"Guava","Kumquat":"Kumquat","Lychee":"Lychee","Olive":"Olive","Pomegranate":"Pomegranate","Rhubarb":"Rhubarb","Starfruit":"Starfruit","Tamarind":"Tamarind","Jackfruit":"Jackfruit","Durian":"Durian","Bergamot":"Bergamot","Cranberry":"Cranberry","Dewberry":"Dewberry","Gala":"Gala","Lingonberry":"Lingonberry","Longan":"Longan","Mamey":"Mamey","Mandarin":"Mandarin","Mulberry":"Mulberry","Sapodilla":"Sapodilla","Soursop":"Soursop","Acerola":"Acerola","Cherimoya":"Cherimoya","Kaffir":"Kaffir","Loquat":"Loquat","Mangosteen":"Mangosteen","Pawpaw":"Pawpaw","Persimmon":"Persimmon","Pitanga":"Pitanga","Plantain":"Plantain","Raisin":"Raisin","Salmonberry":"Salmonberry","Satsuma":"Satsuma","Surinam":"Surinam","Nance":"Nance","Kei":"Kei","Prickly":"Prickly","Rambutan":"Rambutan","Rose":"Rose","Star":"Star","Oak":"Oak","Pine":"Pine","Birch":"Birch","Maple":"Maple","Cedar":"Cedar","Aspen":"Aspen","Elm":"Elm","Fir":"Fir","Willow":"Willow","Redwood":"Redwood","Sequoia":"Sequoia","Eucalyptus":"Eucalyptus","Sycamore":"Sycamore","Magnolia":"Magnolia","Hickory":"Hickory","Alder":"Alder","Chestnut":"Chestnut","Juniper":"Juniper","Palm":"Palm","Linden":"Linden","Ash":"Ash","Cypress":"Cypress","Poplar":"Poplar","Mahogany":"Mahogany","Teak":"Teak","Balsa":"Balsa","Rosewood":"Rosewood","Zebrawood":"Zebrawood","Ironwood":"Ironwood","Ebony":"Ebony","Boxwood":"Boxwood","Holly":"Holly","Acacia":"Acacia","Elder":"Elder","Hackberry":"Hackberry","Catalpa":"Catalpa","Gingko":"Gingko","Bamboo":"Bamboo","Laurel":"Laurel","Tulip":"Tulip","Lily":"Lily","Orchid":"Orchid","Sunflower":"Sunflower","Daisy":"Daisy","Peony":"Peony","Daffodil":"Daffodil","Violet":"Violet","Marigold":"Marigold","Lavender":"Lavender","Carnation":"Carnation","Chrysanthemum":"Chrysanthemum","Hibiscus":"Hibiscus","Gardenia":"Gardenia","Camellia":"Camellia","Hollyhock":"Hollyhock","Jasmine":"Jasmine","Geranium":"Geranium","Zinnia":"Zinnia","Begonia":"Begonia","Aster":"Aster","Petunia":"Petunia","Snapdragon":"Snapdragon","Fuchsia":"Fuchsia","Lantana":"Lantana","Impatiens":"Impatiens","Poppy":"Poppy","Cosmos":"Cosmos","Echinacea":"Echinacea","PHILIPPINES":"PHILIPPINES","BRAZIL":"BRAZIL","SWITZERLAND":"SWITZERLAND","INDONESIA":"INDONESIA","EGYPT":"EGYPT","FRANCE":"FRANCE","ITALY":"ITALY","MEXICO":"MEXICO","CANADA":"CANADA","JAPAN":"JAPAN","UNITED KINGDOM":"UNITED KINGDOM","SOUTH KOREA":"SOUTH KOREA","SPAIN":"SPAIN","CHINA":"CHINA","GREECE":"GREECE","UNITED STATES":"UNITED STATES","GERMANY":"GERMANY","IRELAND":"IRELAND","SAUDI ARABIA":"SAUDI ARABIA","NORWAY":"NORWAY","AUSTRALIA":"AUSTRALIA","THAILAND":"THAILAND","POLAND":"POLAND","SWEDEN":"SWEDEN","NETHERLANDS":"NETHERLANDS","ARGENTINA":"ARGENTINA","COLOMBIA":"COLOMBIA","MALAYSIA":"MALAYSIA","SOUTH AFRICA":"SOUTH AFRICA","BELGIUM":"BELGIUM","FINLAND":"FINLAND","CZECH REPUBLIC":"CZECH REPUBLIC","DENMARK":"DENMARK","ROMANIA":"ROMANIA","CHILE":"CHILE","PORTUGAL":"PORTUGAL","HUNGARY":"HUNGARY","PERU":"PERU","SINGAPORE":"SINGAPORE","ALGERIA":"ALGERIA","MOROCCO":"MOROCCO","BANGLADESH":"BANGLADESH","SERBIA":"SERBIA","NEW ZEALAND":"NEW ZEALAND","AUSTRIA":"AUSTRIA","CROATIA":"CROATIA","SLOVAKIA":"SLOVAKIA","BULGARIA":"BULGARIA","VENEZUELA":"VENEZUELA","JORDAN":"JORDAN","KUWAIT":"KUWAIT","QATAR":"QATAR","UAE":"UAE","AZERBAIJAN":"AZERBAIJAN","GEORGIA":"GEORGIA","BELARUS":"BELARUS","TUNISIA":"TUNISIA","UZBEKISTAN":"UZBEKISTAN","KAZAKHSTAN":"KAZAKHSTAN","LEBANON":"LEBANON","OMAN":"OMAN","BAHRAIN":"BAHRAIN","ANGOLA":"ANGOLA","KENYA":"KENYA","ZIMBABWE":"ZIMBABWE","NIGERIA":"NIGERIA","ZAMBIA":"ZAMBIA","UGANDA":"UGANDA","NEPAL":"NEPAL","SRI LANKA":"SRI LANKA","PARAGUAY":"PARAGUAY","URUGUAY":"URUGUAY","COSTA RICA":"COSTA RICA","LITHUANIA":"LITHUANIA","LATVIA":"LATVIA","ESTONIA":"ESTONIA","SLOVENIA":"SLOVENIA","NORTH MACEDONIA":"NORTH MACEDONIA","MONTENEGRO":"MONTENEGRO","BOSNIA AND HERZEGOVINA":"BOSNIA AND HERZEGOVINA","LUXEMBOURG":"LUXEMBOURG","ICELAND":"ICELAND","MALTA":"MALTA","CYPRUS":"CYPRUS","FIJI":"FIJI","BRUNEI":"BRUNEI","MALDIVES":"MALDIVES","GABON":"GABON","BOTSWANA":"BOTSWANA","ARMENIA":"ARMENIA"},"Texture":{"empty_2_{abc}":"empty_2_{abc}"}}'),ru:JSON.parse('{"Text":{"LEVEL":"\u0423\u0420\u041e\u0412\u0415\u041d\u042c","SETTINGS":"\u041d\u0410\u0421\u0422\u0420\u041e\u0419\u041a\u0418","Loading_ads":"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u043e\u0431\u044a\u044f\u0432\u043b\u0435\u043d\u0438\u044f ...","Loading":"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 ...","No_ads_to_display":"\u041d\u0435\u0442 \u0440\u0435\u043a\u043b\u0430\u043c\u044b\\n\u0434\u043b\u044f \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f!","Sorry_No_Reward":"\u0418\u0437\u0432\u0438\u043d\u0438\u0442\u0435, \u043d\u0435\u0442 \u043d\u0430\u0433\u0440\u0430\u0434!\\n\u0412\u044b \u043e\u0442\u043c\u0435\u043d\u0438\u043b\u0438 \u043e\u0431\u044a\u044f\u0432\u043b\u0435\u043d\u0438\u0435!","WISDOM":"\u041c\u0423\u0414\u0420\u041e\u0421\u0422\u042c","Adventure":"\u041f\u0440\u0438\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435","Watch_Ad":"\u0421\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0440\u0435\u043a\u043b\u0430\u043c\u0443","Watch_an_Ad":"\u041f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0440\u0435\u043a\u043b\u0430\u043c\u0443","Home":"\u0414\u043e\u043c","One_More_Chance":"\u0415\u0449\u0435 \u041e\u0434\u0438\u043d \u0428\u0430\u043d\u0441","Retry":"\u0417\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u0421\u043d\u043e\u0432\u0430","Levels":"\u0423\u0440\u043e\u0432\u043d\u0438","COMPLETED":"\u0417\u0410\u0412\u0415\u0420\u0428\u0415\u041d\u041d\u042b\u0419","SHOP":"\u041c\u0410\u0413\u0410\u0417\u0418\u041d","WELL_DONE":"\u041e\u0422\u041b\u0418\u0427\u041d\u0410\u042f \u0420\u0410\u0411\u041e\u0422\u0410!","AD":"AD","THEMES":"\u0422\u0415\u041c\u042b","COLLECT":"\u0421\u041e\u0411\u0420\u0410\u0422\u042c","EARN_FREE_COINS":"\u0417\u0410\u0420\u0410\u0411\u041e\u0422\u0410\u0419 \u0411\u0415\u0421\u041f\u041b\u0410\u0422\u041d\u042b\u0415\\n\u041c\u041e\u041d\u0415\u0422\u042b!","VIDEO":"\u0412\u0418\u0414\u0415\u041e","SUPER_PACK":"\u0421\u0423\u041f\u0415\u0420 \u041f\u0410\u041a\u0415\u0422","OK":"\u0414\u0430","Collect_3_same_tiles_to_eliminate":"\u0421\u043e\u0431\u0435\u0440\u0438\u0442\u0435 3 \u043e\u0434\u0438\u043d\u0430\u043a\u043e\u0432\u044b\u0435\\n\u043f\u043b\u0438\u0442\u043a\u0438 \u0447\u0442\u043e\u0431\u044b \u0443\u0431\u0440\u0430\u0442\u044c","HOW_TO_PLAY":"\u041a\u0410\u041a \u0418\u0413\u0420\u0410\u0422\u042c","NO_MORE_MOVES":"\u0425\u041e\u0414\u041e\u0412 \u0411\u041e\u041b\u042c\u0428\u0415 \u041d\u0415\u0422","TAP_3_IDENTICAL_TILES":"\u0421\u043e\u0431\u0435\u0440\u0438\u0442\u0435 3 \u043e\u0434\u0438\u043d\u0430\u043a\u043e\u0432\u044b\u0435\\n\u043f\u043b\u0438\u0442\u043a\u0438 \u0447\u0442\u043e\u0431\u044b \u0443\u0431\u0440\u0430\u0442\u044c!","Music":"\u041c\u0443\u0437\u044b\u043a\u0430","Sound":"\u0417\u0412\u0423\u041a","Vibration":"\u0412\u0418\u0411\u0420\u0418\u0420\u041e\u0412\u0410\u0422\u042c","Invite_Friends":"\u041f\u0440\u0438\u0433\u043b\u0430\u0441\u0438\u0442\u044c \u0414\u0440\u0443\u0437\u0435\u0439","BEGINNER":"\u041d\u0430\u0447\u0438\u043d\u0430\u044e\u0449\u0438\u0439","RISE":"\u0412\u043e\u0441\u0445\u043e\u0434","Apple":"\u042f\u0431\u043b\u043e\u043a\u043e","Banana":"\u0411\u0430\u043d\u0430\u043d","Cherry":"\u0412\u0438\u0448\u043d\u044f","Date":"\u0424\u0438\u043d\u0438\u043a","Fig":"\u0418\u043d\u0436\u0438\u0440","Grape":"\u0412\u0438\u043d\u043e\u0433\u0440\u0430\u0434","Kiwi":"\u041a\u0438\u0432\u0438","Lemon":"\u041b\u0438\u043c\u043e\u043d","Mango":"\u041c\u0430\u043d\u0433\u043e","Orange":"\u0410\u043f\u0435\u043b\u044c\u0441\u0438\u043d","Papaya":"\u041f\u0430\u043f\u0430\u0439\u044f","Pear":"\u0413\u0440\u0443\u0448\u0430","Plum":"\u0421\u043b\u0438\u0432\u0430","Raspberry":"\u041c\u0430\u043b\u0438\u043d\u0430","Strawberry":"\u041a\u043b\u0443\u0431\u043d\u0438\u043a\u0430","Tangerine":"\u041c\u0430\u043d\u0434\u0430\u0440\u0438\u043d","Watermelon":"\u0410\u0440\u0431\u0443\u0437","Pineapple":"\u0410\u043d\u0430\u043d\u0430\u0441","Peach":"\u041f\u0435\u0440\u0441\u0438\u043a","Apricot":"\u0410\u0431\u0440\u0438\u043a\u043e\u0441","Avocado":"\u0410\u0432\u043e\u043a\u0430\u0434\u043e","Blackberry":"\u0415\u0436\u0435\u0432\u0438\u043a\u0430","Blueberry":"\u0427\u0435\u0440\u043d\u0438\u043a\u0430","Cantaloupe":"\u041a\u0430\u043d\u0442\u0430\u043b\u0443\u043f\u0430","Coconut":"\u041a\u043e\u043a\u043e\u0441","Grapefruit":"\u0413\u0440\u0435\u0439\u043f\u0444\u0440\u0443\u0442","Guava":"\u0413\u0443\u0430\u0432\u0430","Kumquat":"\u041a\u0443\u043c\u043a\u0432\u0430\u0442","Lychee":"\u041b\u0438\u0447\u0438","Olive":"\u041e\u043b\u0438\u0432\u0430","Pomegranate":"\u0413\u0440\u0430\u043d\u0430\u0442","Rhubarb":"\u0420\u0435\u0432\u0435\u043d\u044c","Starfruit":"\u041a\u0430\u0440\u0430\u043c\u0431\u043e\u043b\u0430","Tamarind":"\u0422\u0430\u043c\u0430\u0440\u0438\u043d\u0434","Jackfruit":"\u0414\u0436\u0435\u043a\u0444\u0440\u0443\u0442","Durian":"\u0414\u0443\u0440\u0438\u0430\u043d","Bergamot":"\u0411\u0435\u0440\u0433\u0430\u043c\u043e\u0442","Cranberry":"\u041a\u043b\u044e\u043a\u0432\u0430","Dewberry":"\u0420\u043e\u0441\u043d\u0438\u043a\u0430","Gala":"\u0413\u0430\u043b\u0430","Lingonberry":"\u0411\u0440\u0443\u0441\u043d\u0438\u043a\u0430","Longan":"\u041b\u043e\u043d\u0433\u0430\u043d","Mamey":"\u041c\u0430\u043c\u0435\u0439","Mandarin":"\u041c\u0430\u043d\u0434\u0430\u0440\u0438\u043d","Mulberry":"\u0422\u0443\u0442\u043e\u0432\u043d\u0438\u043a","Sapodilla":"\u0421\u0430\u043f\u043e\u0434\u0438\u043b\u043b\u0430","Soursop":"\u0421\u0430\u0443\u0441\u043e\u043f","Acerola":"\u0410\u0446\u0435\u0440\u043e\u043b\u0430","Cherimoya":"\u0427\u0435\u0440\u0438\u043c\u043e\u0439\u044f","Kaffir":"\u041a\u0430\u0444\u0440\u0441\u043a\u0438\u0439 \u041b\u0430\u0439\u043c","Loquat":"\u041c\u0443\u0448\u043c\u0443\u043b\u0430","Mangosteen":"\u041c\u0430\u043d\u0433\u043e\u0441\u0442\u0438\u043d","Pawpaw":"\u041f\u0430\u0443-\u043f\u0430\u0443","Persimmon":"\u0425\u0443\u0440\u043c\u0430","Pitanga":"\u041f\u0438\u0442\u0430\u043d\u0433\u0430","Plantain":"\u041f\u043b\u0430\u0442\u0430\u043d","Raisin":"\u0418\u0437\u044e\u043c","Salmonberry":"\u041c\u0430\u043b\u0438\u043d\u0430-\u0440\u044b\u0431\u043a\u0430","Satsuma":"\u0421\u0430\u0446\u0443\u043c\u0430","Surinam":"\u0421\u0443\u0440\u0438\u043d\u0430\u043c\u0441\u043a\u0430\u044f \u0412\u0438\u0448\u043d\u044f","Nance":"\u041d\u0430\u043d\u0441\u0435","Kei":"\u041a\u0435\u0439\u044f\u0431\u043e\u0447","Prickly":"\u041a\u043e\u043b\u044e\u0447\u0438\u0439","Rambutan":"\u0420\u0430\u043c\u0431\u0443\u0442\u0430\u043d","Rose":"\u0420\u043e\u0437\u0430","Star":"\u0417\u0432\u0435\u0437\u0434\u0430","Oak":"\u0414\u0443\u0431","Pine":"\u0421\u043e\u0441\u043d\u0430","Birch":"\u0411\u0435\u0440\u0435\u0437\u0430","Maple":"\u041a\u043b\u0435\u043d","Cedar":"\u041a\u0435\u0434\u0440","Aspen":"\u041e\u0441\u0438\u043d\u0430","Elm":"\u0412\u044f\u0437","Fir":"\u041f\u0438\u0445\u0442\u0430","Willow":"\u0418\u0432\u0430","Redwood":"\u041a\u0440\u0430\u0441\u043d\u043e\u0435 \u0434\u0435\u0440\u0435\u0432\u043e","Sequoia":"\u0421\u0435\u043a\u0432\u043e\u0439\u044f","Eucalyptus":"\u042d\u0432\u043a\u0430\u043b\u0438\u043f\u0442","Sycamore":"\u041f\u043b\u0430\u0442\u0430\u043d","Magnolia":"\u041c\u0430\u0433\u043d\u043e\u043b\u0438\u044f","Hickory":"\u0413\u0438\u043a\u043e\u0440\u0438","Alder":"\u041e\u043b\u044c\u0445\u0430","Chestnut":"\u041a\u0430\u0448\u0442\u0430\u043d","Juniper":"\u041c\u043e\u0436\u0436\u0435\u0432\u0435\u043b\u044c\u043d\u0438\u043a","Palm":"\u041f\u0430\u043b\u044c\u043c\u0430","Linden":"\u041b\u0438\u043f\u0430","Ash":"\u042f\u0441\u0435\u043d\u044c","Cypress":"\u041a\u0438\u043f\u0430\u0440\u0438\u0441","Poplar":"\u0422\u043e\u043f\u043e\u043b\u044c","Mahogany":"\u041c\u0430\u0445\u0430\u0433\u043e\u043d\u0438","Teak":"\u0422\u0438\u043a","Balsa":"\u0411\u0430\u043b\u044c\u0441\u0430","Rosewood":"\u041f\u0430\u043b\u0438\u0441\u0430\u043d\u0434\u0440","Zebrawood":"\u0417\u0435\u0431\u0440\u0430\u043d\u043e","Ironwood":"\u0416\u0435\u043b\u0435\u0437\u043d\u043e\u0435 \u0414\u0435\u0440\u0435\u0432\u043e","Ebony":"\u042d\u0431\u0435\u043d","Boxwood":"\u0421\u0430\u043c\u0448\u0438\u0442","Holly":"\u041f\u0430\u0434\u0443\u0431","Acacia":"\u0410\u043a\u0430\u0446\u0438\u044f","Elder":"\u0411\u0443\u0437\u0438\u043d\u0430","Hackberry":"\u041a\u0430\u0440\u043a\u0430\u0441","Catalpa":"\u041a\u0430\u0442\u0430\u043b\u044c\u043f\u0430","Gingko":"\u0413\u0438\u043d\u043a\u0433\u043e","Bamboo":"\u0411\u0430\u043c\u0431\u0443\u043a","Laurel":"\u041b\u0430\u0432\u0440","Tulip":"\u0422\u044e\u043b\u044c\u043f\u0430\u043d","Lily":"\u041b\u0438\u043b\u0438\u044f","Orchid":"\u041e\u0440\u0445\u0438\u0434\u0435\u044f","Sunflower":"\u041f\u043e\u0434\u0441\u043e\u043b\u043d\u0443\u0445","Daisy":"\u0420\u043e\u043c\u0430\u0448\u043a\u0430","Peony":"\u041f\u0438\u043e\u043d","Daffodil":"\u041d\u0430\u0440\u0446\u0438\u0441\u0441","Violet":"\u0424\u0438\u0430\u043b\u043a\u0430","Marigold":"\u0411\u0430\u0440\u0445\u0430\u0442\u0446\u044b","Lavender":"\u041b\u0430\u0432\u0430\u043d\u0434\u0430","Carnation":"\u0413\u0432\u043e\u0437\u0434\u0438\u043a\u0430","Chrysanthemum":"\u0425\u0440\u0438\u0437\u0430\u043d\u0442\u0435\u043c\u0430","Hibiscus":"\u0413\u0438\u0431\u0438\u0441\u043a\u0443\u0441","Gardenia":"\u0413\u0430\u0440\u0434\u0435\u043d\u0438\u044f","Camellia":"\u041a\u0430\u043c\u0435\u043b\u0438\u044f","Hollyhock":"\u0428\u0442\u043e\u043a-\u0440\u043e\u0437\u0430","Jasmine":"\u0416\u0430\u0441\u043c\u0438\u043d","Geranium":"\u0413\u0435\u0440\u0430\u043d\u044c","Zinnia":"\u0426\u0438\u043d\u0438\u044f","Begonia":"\u0411\u0435\u0433\u043e\u043d\u0438\u044f","Aster":"\u0410\u0441\u0442\u0440\u0430","Petunia":"\u041f\u0435\u0442\u0443\u043d\u0438\u044f","Snapdragon":"\u041b\u044c\u0432\u0438\u043d\u044b\u0439 \u0417\u0435\u0432","Fuchsia":"\u0424\u0443\u043a\u0441\u0438\u044f","Lantana":"\u041b\u0430\u043d\u0442\u0430\u043d\u0430","Impatiens":"\u0411\u0430\u043b\u044c\u0437\u0430\u043c\u0438\u043d","Poppy":"\u041c\u0430\u043a","Cosmos":"\u041a\u043e\u0441\u043c\u043e\u0441","Echinacea":"\u042d\u0445\u0438\u043d\u0430\u0446\u0435\u044f","PHILIPPINES":"\u0424\u0418\u041b\u0418\u041f\u041f\u0418\u041d\u042b","BRAZIL":"\u0411\u0420\u0410\u0417\u0418\u041b\u0418\u042f","SWITZERLAND":"\u0428\u0412\u0415\u0419\u0426\u0410\u0420\u0418\u042f","INDONESIA":"\u0418\u041d\u0414\u041e\u041d\u0415\u0417\u0418\u042f","EGYPT":"\u0415\u0413\u0418\u041f\u0415\u0422","FRANCE":"\u0424\u0420\u0410\u041d\u0426\u0418\u042f","ITALY":"\u0418\u0422\u0410\u041b\u0418\u042f","MEXICO":"\u041c\u0415\u041a\u0421\u0418\u041a\u0410","CANADA":"\u041a\u0410\u041d\u0410\u0414\u0410","JAPAN":"\u042f\u041f\u041e\u041d\u0418\u042f","UNITED KINGDOM":"\u0412\u0415\u041b\u0418\u041a\u041e\u0411\u0420\u0418\u0422\u0410\u041d\u0418\u042f","SOUTH KOREA":"\u042e\u0416\u041d\u0410\u042f \u041a\u041e\u0420\u0415\u042f","SPAIN":"\u0418\u0421\u041f\u0410\u041d\u0418\u042f","CHINA":"\u041a\u0418\u0422\u0410\u0419","GREECE":"\u0413\u0420\u0415\u0426\u0418\u042f","UNITED STATES":"\u0421\u041e\u0415\u0414\u0418\u041d\u0415\u041d\u041d\u042b\u0415 \u0428\u0422\u0410\u0422\u042b","GERMANY":"\u0413\u0415\u0420\u041c\u0410\u041d\u0418\u042f","IRELAND":"\u0418\u0420\u041b\u0410\u041d\u0414\u0418\u042f","SAUDI ARABIA":"\u0421\u0410\u0423\u0414\u041e\u0412\u0421\u041a\u0410\u042f \u0410\u0420\u0410\u0412\u0418\u042f","NORWAY":"\u041d\u041e\u0420\u0412\u0415\u0413\u0418\u042f","AUSTRALIA":"\u0410\u0412\u0421\u0422\u0420\u0410\u041b\u0418\u042f","THAILAND":"\u0422\u0410\u0418\u041b\u0410\u041d\u0414","POLAND":"\u041f\u041e\u041b\u042c\u0428\u0410","SWEDEN":"\u0428\u0412\u0415\u0426\u0418\u042f","NETHERLANDS":"\u041d\u0418\u0414\u0415\u0420\u041b\u0410\u041d\u0414\u042b","ARGENTINA":"\u0410\u0420\u0413\u0415\u041d\u0422\u0418\u041d\u0410","COLOMBIA":"\u041a\u041e\u041b\u0423\u041c\u0411\u0418\u042f","MALAYSIA":"\u041c\u0410\u041b\u0410\u0419\u0417\u0418\u042f","SOUTH AFRICA":"\u042e\u0416\u041d\u0410\u042f \u0410\u0424\u0420\u0418\u041a\u0410","BELGIUM":"\u0411\u0415\u041b\u042c\u0413\u0418\u042f","FINLAND":"\u0424\u0418\u041d\u041b\u042f\u041d\u0414\u0418\u042f","CZECH REPUBLIC":"\u0427\u0415\u0425\u0418\u042f","DENMARK":"\u0414\u0410\u041d\u0418\u042f","ROMANIA":"\u0420\u0423\u041c\u042b\u041d\u0418\u042f","CHILE":"\u0427\u0418\u041b\u0418","PORTUGAL":"\u041f\u041e\u0420\u0422\u0423\u0413\u0410\u041b\u0418\u042f","HUNGARY":"\u0412\u0415\u041d\u0413\u0420\u0418\u042f","PERU":"\u041f\u0415\u0420\u0423","SINGAPORE":"\u0421\u0418\u041d\u0413\u0410\u041f\u0423\u0420","ALGERIA":"\u0410\u041b\u0416\u0418\u0420","MOROCCO":"\u041c\u0410\u0420\u041e\u041a\u041a\u041e","BANGLADESH":"\u0411\u0410\u041d\u0413\u041b\u0410\u0414\u0415\u0428","SERBIA":"\u0421\u0415\u0420\u0411\u0418\u042f","NEW ZEALAND":"\u041d\u041e\u0412\u0410\u042f \u0417\u0415\u041b\u0410\u041d\u0414\u0418\u042f","AUSTRIA":"\u0410\u0412\u0421\u0422\u0420\u0418\u042f","CROATIA":"\u0425\u041e\u0420\u0412\u0410\u0422\u0418\u042f","SLOVAKIA":"\u0421\u041b\u041e\u0412\u0410\u041a\u0418\u042f","BULGARIA":"\u0411\u041e\u041b\u0413\u0410\u0420\u0418\u042f","VENEZUELA":"\u0412\u0415\u041d\u0415\u0421\u0423\u042d\u041b\u0410","JORDAN":"\u0418\u041e\u0420\u0414\u0410\u041d\u0418\u042f","KUWAIT":"\u041a\u0423\u0412\u0415\u0419\u0422","QATAR":"\u041a\u0410\u0422\u0410\u0420","UAE":"\u041e\u0410\u042d","AZERBAIJAN":"\u0410\u0417\u0415\u0420\u0411\u0410\u0419\u0414\u0416\u0410\u041d","GEORGIA":"\u0413\u0420\u0423\u0417\u0418\u042f","BELARUS":"\u0411\u0415\u041b\u0410\u0420\u0423\u0421\u042c","TUNISIA":"\u0422\u0423\u041d\u0418\u0421","UZBEKISTAN":"\u0423\u0417\u0411\u0415\u041a\u0418\u0421\u0422\u0410\u041d","KAZAKHSTAN":"\u041a\u0410\u0417\u0410\u0425\u0421\u0422\u0410\u041d","LEBANON":"\u041b\u0418\u0412\u0410\u041d","OMAN":"\u041e\u041c\u0410\u041d","BAHRAIN":"\u0411\u0410\u0425\u0420\u0415\u0419\u041d","ANGOLA":"\u0410\u041d\u0413\u041e\u041b\u0410","KENYA":"\u041a\u0415\u041d\u0418\u042f","ZIMBABWE":"\u0417\u0418\u041c\u0411\u0410\u0411\u0412\u0415","NIGERIA":"\u041d\u0418\u0413\u0415\u0420\u0418\u042f","ZAMBIA":"\u0417\u0410\u041c\u0411\u0418\u042f","UGANDA":"\u0423\u0413\u0410\u041d\u0414\u0410","NEPAL":"\u041d\u0415\u041f\u0410\u041b","SRI LANKA":"\u0428\u0420\u0418-\u041b\u0410\u041d\u041a\u0410","PARAGUAY":"\u041f\u0410\u0420\u0410\u0413\u0412\u0410\u0419","URUGUAY":"\u0423\u0420\u0423\u0413\u0412\u0410\u0419","COSTA RICA":"\u041a\u041e\u0421\u0422\u0410-\u0420\u0418\u041a\u0410","LITHUANIA":"\u041b\u0418\u0422\u0412\u0410","LATVIA":"\u041b\u0410\u0422\u0412\u0418\u042f","ESTONIA":"\u042d\u0421\u0422\u041e\u041d\u0418\u042f","SLOVENIA":"\u0421\u041b\u041e\u0412\u0415\u041d\u0418\u042f","NORTH MACEDONIA":"\u0421\u0415\u0412\u0415\u0420\u041d\u0410\u042f \u041c\u0410\u041a\u0415\u0414\u041e\u041d\u0418\u042f","MONTENEGRO":"\u0427\u0415\u0420\u041d\u041e\u0413\u041e\u0420\u0418\u042f","BOSNIA AND HERZEGOVINA":"\u0411\u041e\u0421\u041d\u0418\u042f \u0418 \u0413\u0415\u0420\u0426\u0415\u0413\u041e\u0412\u0418\u041d\u0410","LUXEMBOURG":"\u041b\u042e\u041a\u0421\u0415\u041c\u0411\u0423\u0420\u0413","ICELAND":"\u0418\u0421\u041b\u0410\u041d\u0414\u0418\u042f","MALTA":"\u041c\u0410\u041b\u042c\u0422\u0410","CYPRUS":"\u041a\u0418\u041f\u0420","FIJI":"\u0424\u0418\u0414\u0416\u0418","BRUNEI":"\u0411\u0420\u0423\u041d\u0415\u0419","MALDIVES":"\u041c\u0410\u041b\u042c\u0414\u0418\u0412\u042b","GABON":"\u0413\u0410\u0411\u041e\u041d","BOTSWANA":"\u0411\u041e\u0422\u0421\u0412\u0410\u041d\u0410","ARMENIA":"\u0410\u0420\u041c\u0415\u041d\u0418\u042f"},"Texture":{"empty_2_{abc}":"empty_2_{abc}"}}')},va=function(e){function t(){return e.apply(this,arguments)||this}return(0,o.Z)(t,e),t.prototype.configure=function(t){e.prototype.configure.call(this,(0,i.Z)({data:ga,locale:"en",upperCaseText:!1},t))},t}(ma),ya=va,ka=GameCore.Ads.Types,ba=[sn._.SCREEN_OPEN],Ea=function(e){function t(t,n){var r;(r=e.call(this,"GoogleAnalytics",(0,i.Z)({},n),"#E35335")||this).game=void 0,r.currentPath="/",r.game=t;var a=(GameCore.Configs.Analytics.GoogleAnalytics||{}).consoleLog;return r.selfLog=!!a,r}(0,o.Z)(t,e);var n=t.prototype;return n.processEvent=function(e,t,n){if(!(Ht()(ba).call(ba,e)>=0)){var r=this.formatEventName(e),a=t?(0,i.Z)({},t):{};a=n?(0,i.Z)({},a,{value:n}):a,a=(0,i.Z)({},a,{page_path:this.currentPath,send_to:"GA"}),gtag("event",r,a)}},n.processLevelStart=function(e,t,n){this.processEvent(sn._.LEVEL_START,{level:e,score:t,level_name:n})},n.processLevelRescue=function(e,t,n){this.processEvent(sn._.LEVEL_RESCUE,{level:e,score:t,level_name:n})},n.processLevelFail=function(e,t,n){this.processEvent(sn._.LEVEL_END,{level:e,score:t,level_name:n,success:!1})},n.processLevelComplete=function(e,t,n){this.processEvent(sn._.LEVEL_END,{level:e,score:t,level_name:n,success:!0})},n.processLoadPreRollAd=function(e,t){var n=this.getEdaType(ka.PRE_ROLL);this.processEvent(sn._.AD_LOAD,{ad_type:n,screen_name:""+e,ad_service:""+t})},n.processShowPreRollAd=function(e,t){var n=this.getEdaType(ka.PRE_ROLL);this.processEvent(sn._.AD_SHOW,{ad_type:n,screen_name:""+e,ad_service:""+t}),this.processEvent(sn._.AD_IMPRESSION,{ad_format:n})},n.processLoadInterstitialAd=function(e,t){var n=this.getEdaType(ka.INTERSTITIAL);this.processEvent(sn._.AD_LOAD,{ad_type:n,screen_name:""+e,ad_service:""+t})},n.processShowInterstitialAd=function(e,t){var n=this.getEdaType(ka.INTERSTITIAL);this.processEvent(sn._.AD_SHOW,{ad_type:n,screen_name:""+e,ad_service:""+t}),this.processEvent(sn._.AD_IMPRESSION,{ad_format:"Interstitial"})},n.processLoadRewardedVideoAd=function(e,t){var n=this.getEdaType(ka.REWARDED);this.processEvent(sn._.AD_LOAD,{ad_type:n,screen_name:""+e,ad_service:""+t})},n.processShowRewardedVideoAd=function(e,t){var n=this.getEdaType(ka.REWARDED);this.processEvent(sn._.AD_SHOW,{ad_type:n,screen_name:""+e,ad_service:""+t}),this.processEvent(sn._.AD_IMPRESSION,{ad_format:"Rewarded"})},n.processShowBannerAd=function(e,t,n){var r=this.getEdaType(ka.BANNER);this.processEvent(sn._.AD_SHOW,{ad_type:r,banner_position:""+e,screen_name:""+t,ad_service:""+n})},n.processLoadAdFail=function(e){var t=e.type,n=e.placement,r=e.adService,a=this.getEdaType(t);this.processEvent(sn._.AD_LOAD_FAILED,{ad_type:a,screen_name:""+n,ad_service:""+r})},n.processShowAdFail=function(e){var t=e.type,n=e.placement,r=e.adService,a=e.bannerPosition,i={ad_type:this.getEdaType(t),screen_name:""+n,ad_service:""+r};t===ka.BANNER&&(i.banner_position=""+a),this.processEvent(sn._.AD_SHOW_FAILED,i)},n.processPageView=function(e){var t="/"+this.getGameplayMode()+"/"+e;this.currentPath=t,this.processEvent(sn._.PAGE_VIEW)},n.getGameplayMode=function(){var e=this.game.storage.getState();return oa(e)},n.formatEventName=function(e){return e.toLowerCase().replace(/:/g,"_")},n.formatPageTitle=function(e,t){return this.toUpperCamelCaseWithSpace(e)+"::"+this.toUpperCamelCaseWithSpace(t)},n.toUpperCamelCaseWithSpace=function(e){var t=e.replace(/[-_\s.]+(.)?/g,(function(e,t){return t?" "+t.toUpperCase():""}));return t.substr(0,1).toUpperCase()+t.substr(1)},n.getEdaType=function(e){switch(e){case ka.INTERSTITIAL:return"interstitial";case ka.PRE_ROLL:return"pre_roll";case ka.REWARDED:return"rewarded_video";case ka.BANNER:return"banner";default:return"unknown"}},t}(GameCore.Analytics.BaseAnalytics),xa=Ea,Sa="G-BQP14180TV",wa=function(e){function t(){for(var t,n,a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(n=e.call.apply(e,P()(t=[this]).call(t,i))||this).startGame=(0,s.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.auth.requestToken();case 3:return e.next=5,n.storage.syncStore();case 5:n.configureSentry(),n.configureRollbar(),n.initGoogleAnalytics(),n.analytics.event(sn._.LOAD_START),n.scene.launch(fa.C.GLOBAL_SCENE),n.scene.start(fa.C.LOAD_SCENE),n.analytics.pageview(fa.C.LOAD_SCENE),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),(0,r.tO)(e.t0);case 17:return e.prev=17,n.facebook.progressLoading.finishLoadingProgressFbBootScene(),n.scene.sleep(fa.C.BOOT_SCENE),e.finish(17);case 21:case"end":return e.stop()}}),e,null,[[0,14,17,21]])}))),n}(0,o.Z)(t,e);var n=t.prototype;return n.create=function(){this.facebook.progressLoading.loadingProgressFbBootScene(),this.startGame()},n.configureSentry=function(){var e=this.player.getPlayer();(0,r.Tv)({id:e.playerId,username:e.name})},n.configureRollbar=function(){if(this.rollbar){var e=this.player.getPlayer();this.rollbar.configure({payload:{person:{id:e.playerId,name:e.name}}})}},n.detectGameMode=function(){var e=(0,s.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.storage.dispatch(ua());case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.initGoogleAnalytics=function(){var e=this.player.getPlayerId();this.analytics.add(new xa(this.game,{userId:e,measuringId:Sa,version:"0"}))},t}(Phaser.Scene),Aa=wa,Ca=n(92),Ta=n(440),La=n(204),Ia=n.n(La),Pa={TOP:{x:0,y:-.5},BOTTOM:{x:0,y:.5},LEFT:{x:-.5,y:0},RIGHT:{x:.5,y:0},TOP_LEFT:{x:-.5,y:-.5},TOP_RIGHT:{x:.5,y:-.5},BOTTOM_LEFT:{x:-.5,y:.5},BOTTOM_RIGHT:{x:.5,y:.5},CENTER:{x:0,y:0}},_a="return-cluster-id",Ba={FOOTER_SCALE:1},Oa=function(){return 80*Ba.FOOTER_SCALE},Ra=114/110,Ma=1.5,Na=n(120);function Da(e,t){return new(u())((function(n){e.add.tween((0,i.Z)({},t)).on(Phaser.Tweens.Events.TWEEN_COMPLETE,n)}))}var Fa=0;function Ga(e,t){var n=e.add.tween((0,i.Z)({},t));Fa+=1,Fa%=1e5,n.name="tween-"+Fa;var r=new(u())((function(e,t){n.on(Phaser.Tweens.Events.TWEEN_COMPLETE,e),n.on(Phaser.Tweens.Events.TWEEN_STOP,t)}));return{tween:n,promise:r}}function Za(e,t,n,r){return Ua.apply(this,arguments)}function Ua(){return(Ua=(0,s.Z)(d().mark((function e(t,n,r,a){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===a&&(a=200),t.setScale(0),e.next=4,Da(t.scene,{targets:[t],duration:a,delay:r,props:{scale:{getStart:function(){return 0},getEnd:function(){return 1.2}},y:{getStart:function(){return n-80},getEnd:function(){return n+10}}},ease:Phaser.Math.Easing.Cubic.Out});case 4:return e.abrupt("return",Da(t.scene,{targets:[t],duration:a,props:{scale:{getEnd:function(){return 1}},y:{getEnd:function(){return n}}},ease:Phaser.Math.Easing.Cubic.Out}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ka(e,t,n,r,a){return Ha.apply(this,arguments)}function Ha(){return Ha=(0,s.Z)(d().mark((function e(t,n,r,a,i){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===i&&(i=250),"left"===t?r.forEach((function(e){e.setX(-n.width/2-e.width/2)})):r.forEach((function(e){e.setX(n.width/2+e.width/2)})),e.abrupt("return",Da(r[0].scene,{targets:r,props:{x:{getEnd:function(e,t,n,r){return a[r]}}},duration:i,ease:Phaser.Math.Easing.Back.Out}));case 3:case"end":return e.stop()}}),e)}))),Ha.apply(this,arguments)}function Wa(e,t,n,r){return Va.apply(this,arguments)}function Va(){return(Va=(0,s.Z)(d().mark((function e(t,n,r,a){var i;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===a&&(a=250),i=De()(r).call(r,(function(e){return n.width/2+e.width/2})),"left"===t&&(i=De()(r).call(r,(function(e){return-n.width/2-e.width/2}))),e.abrupt("return",Da(r[0].scene,{targets:r,props:{x:{getEnd:function(e,t,n,r){return i[r]}}},duration:a,ease:Phaser.Math.Easing.Back.In}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ya(e,t,n,r,a){return za.apply(this,arguments)}function za(){return(za=(0,s.Z)(d().mark((function e(t,n,r,a,i){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===n&&(n=300),void 0===r&&(r=0),void 0===a&&(a=1),void 0===i&&(i=!0),i&&t.forEach((function(e){e.setAlpha(0)})),e.abrupt("return",Da(t[0].scene,{targets:t,delay:r,duration:n,props:{alpha:{getEnd:function(){return a}}}}));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ja(e,t,n,r,a){return Xa.apply(this,arguments)}function Xa(){return(Xa=(0,s.Z)(d().mark((function e(t,n,r,a,i){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===n&&(n=300),void 0===r&&(r=0),void 0===a&&(a=0),e.abrupt("return",Da(t[0].scene,{targets:t,delay:r,duration:n,props:{alpha:{getEnd:function(){return a}}},onUpdate:i}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qa(e,t,n,r){return Qa.apply(this,arguments)}function Qa(){return(Qa=(0,s.Z)(d().mark((function e(t,n,r,a){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===n&&(n=300),void 0===r&&(r=0),void 0===a&&(a=1),t.forEach((function(e){e.setScale(0)})),e.abrupt("return",Da(t[0].scene,{targets:t,delay:r,duration:n,props:{scale:{getEnd:function(){return a}}},ease:Phaser.Math.Easing.Back.Out}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ja(e,t,n){return $a.apply(this,arguments)}function $a(){return($a=(0,s.Z)(d().mark((function e(t,n,r){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===n&&(n=300),void 0===r&&(r=0),e.abrupt("return",Da(t[0].scene,{targets:t,delay:r,duration:n,props:{scale:{getEnd:function(){return 0}}},ease:Phaser.Math.Easing.Cubic.In}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ei(e,t,n,r){return ti.apply(this,arguments)}function ti(){return(ti=(0,s.Z)(d().mark((function e(t,n,r,a){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===a&&(a=1),t.forEach((function(e){e.setScale(0)})),e.abrupt("return",Da(t[0].scene,{targets:t,delay:r,duration:n,props:{scale:{getEnd:function(){return a}}},ease:Phaser.Math.Easing.Cubic.Out}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ni=function(e){function t(t){var n;return(n=e.call(this,t)||this).cycleDuration=Phaser.Math.Between(300,400),n.scale=void 0,n.accelerationY=5,n}(0,o.Z)(t,e);var n=t.prototype;return n.update=function(t,n,r){var a=e.prototype.update.call(this,t,n,r);return this.updateScale(),a},n.setScale=function(e,t){this.scaleX=0,this.scaleY=0,this.scale=Phaser.Math.FloatBetween(e.min,e.max),this.cycleDuration=null!=t?t:this.cycleDuration},n.setDirection=function(e){this.velocityX="left"===e?Phaser.Math.Between(-5,-10):Phaser.Math.Between(5,10)},n.updateScale=function(){var e=1-this.lifeCurrent%this.cycleDuration/this.cycleDuration;this.scaleX=this.scale*Math.sin(e*Math.PI),this.scaleY=this.scale*Math.sin(e*Math.PI)},t}(Phaser.GameObjects.Particles.Particle),ri=ni,ai=n(437),ii=GameCore.Utils.Image.getImageScale(),si=function(e){function t(t,n){var r;return(r=e.call(this,t,Na.Z.EFFECTS.KEY,Na.Z.EFFECTS.FRAME.FX_STAR_WHITE)||this).twinkleStar=void 0,r.tile=void 0,r.tile=n,r.scene.add.existing((0,Ca.Z)(r)),r.createTwinkleStar(),r}(0,o.Z)(t,e);var n=t.prototype;return n.show=function(){this.revive();var e=this.tile,t=e.x,n=e.y,r=e.displayWidth,a=e.displayHeight,i=new Phaser.Geom.Rectangle(t-r/2+5,n-a/2+3,r-10,a-10);this.twinkleStar.setEmitZone({type:"random",source:i,quantity:2}),this.twinkleStar.start()},n.stop=function(){var e=this;this.twinkleStar.stop(),this.scene.time.delayedCall(500,(function(){e.kill()}))},n.createTwinkleStar=function(){this.twinkleStar=this.createEmitter({on:!1,tint:[16761095],timeScale:1,lifespan:{min:300,max:400},quantity:2,frequency:50,particleClass:ri,emitCallback:function(e){e.setScale({min:.7/ii,max:1/ii},Phaser.Math.Between(300,400))}})},n.waitFinish=function(){var e=(0,s.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.twinkleStar.getAliveParticleCount()>0)){e.next=5;break}return e.next=3,(0,ai.Z)(this.scene,100);case 3:e.next=0;break;case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t}(Phaser.GameObjects.Particles.ParticleEmitterManager),oi=si,ci=Na.Z.GAMEPLAY_COLORFUL,ui=ci.KEY,li=ci.FRAME,di=.35,hi=function(e){function t(t){var n;(n=e.call(this,t)||this).background=void 0,n.backGlow=void 0,n.frontGlow=void 0,n.bitmapTextIcon=void 0,n.imageIcon=void 0,n.overlay=void 0,n.magicGlow=void 0,n.tileVFX=void 0,n.asyncOverlayTransitionData=void 0,n.createBackGlow();var r=n.createBackground(),a=r.width,i=r.height;return n.setSize(a,i),n.createImageIcon(),n.createOverlay(),n.createFrontGlow(),n.createMagicGlow(),n.createTileVFX(),n}(0,o.Z)(t,e);var n=t.prototype;return n.createTileVFX=function(){this.tileVFX=new oi(this.scene,this.background),this.tileVFX.kill(),this.add(this.tileVFX)},n.updateTileSize=function(){this.setBackGlowSize();var e=this.setBackgroundSize(),t=e.width,n=e.height;this.setSize(t,n),this.setImageIconSize(),this.setOverlaySize(),this.setFrontGlowSize(),this.setMagicGlowSize()},n.setIcon=function(e){var t,n,r,a=Number(e)+1;a>=1&&a<=32?(null==(t=this.bitmapTextIcon)||t.kill(),this.imageIcon.revive(),this.imageIcon.setFrame("tiles/"+a),this.setImageIconSize()):(this.createBitmapTextIcon(),null==(n=this.bitmapTextIcon)||n.revive(),this.imageIcon.kill(),null==(r=this.bitmapTextIcon)||r.setText(e))},n.setImageIconSize=function(){this.imageIcon.setWorldSize(ki.TILE_SIZE,ki.TILE_SIZE*Ra)},n.showOverlay=function(e){e?(this.overlay.setAlpha(di),this.overlay.revive()):this.overlay.kill()},n.hideOverlayAsync=function(){var e=(0,s.Z)(d().mark((function e(){var t,n,r,a,i=this;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("hide"!==(null==(t=this.asyncOverlayTransitionData)?void 0:t.to)){e.next=2;break}return e.abrupt("return",this.asyncOverlayTransitionData.completePromise);case 2:return null==(n=this.asyncOverlayTransitionData)||n.tween.remove(),this.overlay.revive(),r=this.scene.add.tween({targets:this.overlay,duration:500,props:{alpha:0},onComplete:function(){i.overlay.kill(),delete i.asyncOverlayTransitionData}}),a=r.waitForCompletion(),this.asyncOverlayTransitionData={to:"hide",tween:r,completePromise:a},e.abrupt("return",a);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.showOverlayAsync=function(){var e=(0,s.Z)(d().mark((function e(t){var n,r,a,i,s=this;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("show"!==(null==(n=this.asyncOverlayTransitionData)?void 0:n.to)){e.next=2;break}return e.abrupt("return",this.asyncOverlayTransitionData.completePromise);case 2:return null==(r=this.asyncOverlayTransitionData)||r.tween.remove(),this.overlay.revive(),a=this.scene.add.tween({targets:this.overlay,duration:t,props:{alpha:{from:0,to:di}},onComplete:function(){delete s.asyncOverlayTransitionData}}),i=a.waitForCompletion(),this.asyncOverlayTransitionData={to:"show",tween:a,completePromise:i},e.abrupt("return",i);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),n.tweenOverlay=function(e,t,n){var r=0;"show"===e&&(r=di),this.scene.add.tween({targets:this.overlay,delay:t,alpha:r,duration:n,ease:Phaser.Math.Easing.Sine.InOut})},n.fadeIn=function(){var e=(0,s.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.overlay.visible){e.next=2;break}return e.abrupt("return",u().resolve());case 2:return e.abrupt("return",Ya([this.overlay],400,0,di));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.runAnimationDestroy=function(e){var t=this;return new(u())((function(n){t.backGlow.revive(),t.frontGlow.revive(),t.frontGlow.setAlpha(0),t.scene.add.tween({targets:t.frontGlow,delay:e,duration:200,alpha:1,ease:Phaser.Math.Easing.Sine.Out}),t.scene.add.tween({targets:t,delay:e,duration:200,scaleX:1.2*t.scale,scaleY:1.2*t.scale,ease:Phaser.Math.Easing.Sine.Out,onComplete:function(){t.backGlow.kill(),t.frontGlow.kill(),n()}})}))},n.createBackGlow=function(){var e=this.scene.make.image({key:ui,frame:li.BACK_GLOW});this.backGlow=e,this.setBackGlowSize(),e.setBlendMode(Phaser.BlendModes.ADD),this.add(e),this.backGlow.kill()},n.setBackGlowSize=function(){this.backGlow.setWorldSize(1.07*ki.TILE_SIZE,ki.TILE_SIZE*Ra*1.07)},n.createBackground=function(){var e=this.scene.make.image({key:ui,frame:li.EMPTY_TILE});this.background=e,e.setWorldSize(ki.TILE_SIZE,ki.TILE_SIZE*Ra);var t=this.setBackgroundSize(),n=t.width,r=t.height;return this.add(e),{width:n,height:r}},n.setBackgroundSize=function(){this.background.setWorldSize(ki.TILE_SIZE,ki.TILE_SIZE*Ra);var e=this.background;return{width:e.displayWidth,height:e.displayHeight}},n.createFrontGlow=function(){this.frontGlow=this.scene.make.image({key:ui,frame:li.FRONT_GLOW}),this.frontGlow.setBlendMode(Phaser.BlendModes.ADD),this.setFrontGlowSize(),this.add(this.frontGlow),this.frontGlow.kill()},n.setFrontGlowSize=function(){var e=this.background,t=e.displayWidth,n=e.displayHeight;this.frontGlow.setWorldSize(t,n)},n.createMagicGlow=function(){var e=this.scene.make.image({key:ui,frame:li.MAGIC_GLOW});this.add(e),this.magicGlow=e,this.setMagicGlowSize(),this.setMagicGlowAlpha(0)},n.setMagicGlowSize=function(){this.magicGlow.setSizeBasedOnDpr();var e=this.magicGlow,t=e.displayWidth,n=e.displayHeight,r=ki.TILE_SIZE/55;this.magicGlow.setWorldSize(t*r,n*r)},n.createBitmapTextIcon=function(){if(!this.bitmapTextIcon){var e=this.scene.make.bitmapText({font:Ee.Z.NUMBERS.KEY,size:this.scene.fontSize(57),origin:{x:.5,y:.5},text:""});e.setTint(0),this.add(e),e.setY(-3),this.bitmapTextIcon=e}},n.createImageIcon=function(){var e=this.scene.make.image({key:ui,frame:li.BLANK});this.imageIcon=e,this.setImageIconSize(),e.kill(),this.add(e)},n.createOverlay=function(){var e=this.scene.make.image({key:ui,frame:li.EMPTY_TILE});this.overlay=e,this.setOverlaySize(),e.setTint(67681),e.setAlpha(di),this.add(e)},n.setOverlaySize=function(){var e=this.background,t=e.width,n=e.height;this.overlay.setWorldSize(t,n)},n.setMagicGlowAlpha=function(e){var t=Phaser.Math.Clamp(e,0,1);this.magicGlow.setAlpha(t),t>0?this.magicGlow.revive():this.magicGlow.kill()},n.showTileVFX=function(){this.tileVFX.revive(),this.tileVFX.show()},n.stopTileVFX=function(){var e=(0,s.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.tileVFX.stop(),e.next=3,this.tileVFX.waitFinish();case 3:this.tileVFX.kill();case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t}(Phaser.GameObjects.Container),pi=hi,fi=function(){function e(e){this.images=[],this.listDictTween={},this.images=e}var t=e.prototype;return t.refresh=function(){var e=this.images[0],t=e.scaleX,n=e.scaleY,r=e.angle,a=e.x,i=e.y;return this.stop(),this.images.forEach((function(e){e.setScale(1),e.setAngle(0),e.setX(0),e.setY(0)})),{scaleX:t,scaleY:n,angle:r,x:a,y:i}},t.tweenPointerDown=function(){this.stop(),this.runScale(this.images),this.runRotateLoop(this.images),this.runMoveLoop(this.images)},t.tweenPointerUpOutSide=function(){var e=(0,s.Z)(d().mark((function e(t){var n,r,a,i=this;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.stop(),n=1,r=.7,(a=Math.random())>.8?(n=1.05,r=.9):a>.6?(n=1.05,r=1.2):a>.4?(n=.7,r=1):a>.2&&(n=.8,r=.8),e.prev=5,e.next=8,this.runTween(this.images[0].scene,{duration:100,targets:this.images,props:{scaleX:{getStart:function(e,t,n,r){return i.images[r].scaleX},getEnd:function(){return 1},ease:Phaser.Math.Easing.Sine.Out},scaleY:{getStart:function(e,t,n,r){return i.images[r].scaleY},getEnd:function(){return 1},ease:Phaser.Math.Easing.Sine.Out},angle:0,y:0}},t);case 8:return e.next=10,this.runTween(this.images[0].scene,{duration:60,targets:this.images,props:{scaleX:{getStart:function(e,t,n,r){return i.images[r].scaleX},getEnd:function(){return n},ease:Phaser.Math.Easing.Cubic.Out},scaleY:{getStart:function(e,t,n,r){return i.images[r].scaleY},getEnd:function(){return r},ease:Phaser.Math.Easing.Cubic.Out},angle:0,y:0},onComplete:function(){t()}},t);case 10:return e.next=12,this.runTween(this.images[0].scene,{duration:140,targets:this.images,props:{scaleX:{getEnd:function(){return 1},ease:Phaser.Math.Easing.Cubic.Out},scaleY:{getEnd:function(){return 1},ease:Phaser.Math.Easing.Cubic.Out}}});case 12:e.next=16;break;case 14:e.prev=14,e.t0=e.catch(5);case 16:case"end":return e.stop()}}),e,this,[[5,14]])})));return function(t){return e.apply(this,arguments)}}(),t.shake=function(){var e=(0,s.Z)(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.stop(),e.prev=1,e.next=4,this.runTween(t[0].scene,{targets:t,duration:30,ease:Phaser.Math.Easing.Sine.InOut,props:{x:-4}});case 4:return e.next=6,this.runTween(t[0].scene,{targets:t,duration:70,ease:Phaser.Math.Easing.Sine.InOut,props:{x:3}});case 6:return e.next=8,this.runTween(t[0].scene,{targets:t,duration:170,ease:Phaser.Math.Easing.Sine.InOut,props:{x:-2}});case 8:return e.next=10,this.runTween(t[0].scene,{targets:t,duration:130,ease:Phaser.Math.Easing.Sine.InOut,props:{x:1}});case 10:return e.next=12,this.runTween(t[0].scene,{targets:t,duration:100,ease:Phaser.Math.Easing.Sine.InOut,props:{x:0}});case 12:e.next=16;break;case 14:e.prev=14,e.t0=e.catch(1);case 16:case"end":return e.stop()}}),e,this,[[1,14]])})));return function(t){return e.apply(this,arguments)}}(),t.stop=function(){for(var e in this.listDictTween){var t,n;this.listDictTween[e].tween.stop(),null==(t=(n=this.listDictTween[e]).onStop)||t.call(n),delete this.listDictTween[e]}},t.runScale=function(){var e=(0,s.Z)(d().mark((function e(t){var n,r,a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.runTween(t[0].scene,{targets:t,duration:250,props:{scale:{getStart:function(e,n,r,a){return t[a].scale},getEnd:function(){return Ma},ease:Phaser.Math.Easing.Back.Out}}});case 3:return n=Ma,r=1.4249999999999998,(a=Math.random())>.7?(n=1.5750000000000002,r=1.35):a>.5?(n=Ma,r=1.5750000000000002):a>.3&&(n=Ma,r=Ma),e.next=9,this.runTween(t[0].scene,{targets:t,duration:50,props:{scaleX:{getEnd:function(){return n},ease:Phaser.Math.Easing.Cubic.Out},scaleY:{getEnd:function(){return r},ease:Phaser.Math.Easing.Cubic.Out}}});case 9:return e.next=11,this.runTween(t[0].scene,{targets:t,duration:90,props:{scaleY:{getEnd:function(){return Ma},ease:Phaser.Math.Easing.Cubic.In}}});case 11:e.next=15;break;case 13:e.prev=13,e.t0=e.catch(0);case 15:case"end":return e.stop()}}),e,this,[[0,13]])})));return function(t){return e.apply(this,arguments)}}(),t.runRotateLoop=function(){var e=(0,s.Z)(d().mark((function e(t){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=!0;case 1:if(!n){e.next=12;break}return e.prev=2,e.next=5,this.runRotate(t);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),n=!1;case 10:e.next=1;break;case 12:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}(),t.runRotate=function(){var e=(0,s.Z)(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.runTween(t[0].scene,{targets:t,duration:550,props:{angle:{getStart:function(e,n,r,a){return t[a].angle},getEnd:function(){return-5}}}});case 2:return e.next=4,this.runTween(t[0].scene,{targets:t,duration:1400,props:{angle:{getEnd:function(){return 5}}}});case 4:return e.next=6,this.runTween(t[0].scene,{targets:t,duration:550,props:{angle:{getEnd:function(){return 0}}}});case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.runMoveLoop=function(){var e=(0,s.Z)(d().mark((function e(t){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=!0;case 1:if(!n){e.next=12;break}return e.prev=2,e.next=5,this.runMove(t);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),n=!1;case 10:e.next=1;break;case 12:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}(),t.runMove=function(){var e=(0,s.Z)(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.runTween(t[0].scene,{targets:t,duration:1250,props:{y:{getStart:function(e,n,r,a){return t[a].y},getEnd:function(){return-8},ease:Phaser.Math.Easing.Sine.InOut}}});case 2:return e.next=4,this.runTween(t[0].scene,{targets:t,duration:1250,props:{y:{getEnd:function(){return 0},ease:Phaser.Math.Easing.Sine.InOut}}});case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.runTween=function(){var e=(0,s.Z)(d().mark((function e(t,n,r){var a,i,s;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Ga(t,n),i=a.tween,s=a.promise,this.listDictTween[i.name]={tween:i,onStop:r},e.next=4,s;case 4:delete this.listDictTween[i.name];case 5:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}(),e}(),mi=fi,gi=function(){function e(e){this.tileImages=void 0,this.isPlaying=!1,this.tileImages=e}var t=e.prototype;return t.playAnimation=function(){var e=(0,s.Z)(d().mark((function e(){var t,n,r,a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPlaying){e.next=2;break}return e.abrupt("return");case 2:return this.isPlaying=!0,t=this.tileImages,n=t.scaleX,r=t.scaleY,a={scaleX:n,scaleY:r},e.next=7,this.stretchHorizontally1(a);case 7:return e.next=9,this.stretchVertically(a);case 9:return e.next=11,this.stretchHorizontally2(a);case 11:return e.next=13,this.backToNormal(a);case 13:this.isPlaying=!1;case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.stretchHorizontally1=function(){var e=(0,s.Z)(d().mark((function e(t){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.scene.add.tween({targets:this.tileImages,duration:34,ease:Phaser.Math.Easing.Linear,props:{scaleX:{value:127.5*t.scaleX/106},scaleY:{value:106*t.scaleY/117.3}}}),e.abrupt("return",n.waitForCompletion());case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.stretchVertically=function(){var e=(0,s.Z)(d().mark((function e(t){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.scene.add.tween({targets:this.tileImages,duration:83,ease:Phaser.Math.Easing.Sine.In,props:{scaleX:{value:103.8*t.scaleX/106},scaleY:{value:141*t.scaleY/117.3}}}),e.abrupt("return",n.waitForCompletion());case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.stretchHorizontally2=function(){var e=(0,s.Z)(d().mark((function e(t){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.scene.add.tween({targets:this.tileImages,duration:133,ease:Phaser.Math.Easing.Sine.InOut,props:{scaleX:{value:120*t.scaleX/106},scaleY:{value:t.scaleY}}}),e.abrupt("return",n.waitForCompletion());case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.backToNormal=function(){var e=(0,s.Z)(d().mark((function e(t){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.scene.add.tween({targets:this.tileImages,duration:150,props:{scaleX:{value:t.scaleX,ease:Phaser.Math.Easing.Sine.InOut}}}),e.abrupt("return",n.waitForCompletion());case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),(0,le.Z)(e,[{key:"scene",get:function(){return this.tileImages.scene}}]),e}(),vi=gi,yi=function(e){function t(n,r){var a;return(a=e.call(this,n)||this).scene=void 0,a.tileModel=void 0,a.tileImages=void 0,a.tileImagesPointerTween=void 0,a.tileImagesWobbleAnimator=void 0,a.cluster=void 0,a.isPointerOutTileView=!1,a.isPointerDown=!1,a.isListeningPointerEvents=!1,a.listSyncs=[],a.backupDepth=void 0,a.handlePointerDown=function(){if(a.canClickBoardTileView()&&a.cluster&&!a.isPointerDown){if(!a.tileModel.canCollect())return a.scene.audio.playSound(nn.Z.TILE_SHAKE,{volume:.3}),void a.tileImagesPointerTween.shake([a.tileImages]);a.scene.gameplayParticleHandler.tileClickVFX.show((0,Ca.Z)(a)),a.tileImagesPointerTween.stop(),a.isPointerOutTileView=!1,a.isPointerDown=!0,a.backupDepth=a.depth,a.depth=1e8,a.parentContainer.bringToTop((0,Ca.Z)(a)),a.tileImagesPointerTween.tweenPointerDown();a.updateHitAreaScale({x:1.5,y:1.75},-2)}},a.handlePointerOut=function(){a.canClickBoardTileView()&&a.isPointerDown&&(a.isPointerOutTileView=!0)},a.handlePointerOver=function(){a.canClickBoardTileView()&&a.isPointerDown&&(a.isPointerOutTileView=!1)},a.handlePointerUpOutSideTileView=function(){var e=(0,s.Z)(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.canClickBoardTileView()){e.next=2;break}return e.abrupt("return");case 2:if(a.isPointerDown){e.next=4;break}return e.abrupt("return");case 4:if(a.isPointerOutTileView){e.next=6;break}return e.abrupt("return");case 6:return a.tileImagesPointerTween.stop(),a.isPointerDown=!1,a.isPointerOutTileView=!0,a.scene.audio.playSound(nn.Z.TILE_DROP),a.resetHitAreaScale(),e.next=13,a.tileImagesPointerTween.tweenPointerUpOutSide((function(){a.depth=a.backupDepth,a.scene.gameManager.board.updateCorrectDepth((0,Ca.Z)(a))}));case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.handlePointerUpInsideTileView=function(){a.canClickBoardTileView()&&a.isPointerDown&&(a.isPointerOutTileView||(a.isPointerDown=!1,a.depth=a.backupDepth,a.handleOnClick()))},a.handleOnClick=function(){if(a.canClickBoardTileView()&&a.cluster){var e=(0,Ca.Z)(a),t=e.tileModel,n=e.cluster;if(t.canCollect()){t.collect();var r=t.x,i=t.y,s=t.z,o=t.icon;console.log("collected",{x:r,y:i,z:s,icon:o}),a.scene.gameManager.moveTileViewToRack((0,Ca.Z)(a)),n.getLowerTileViews(t).forEach((function(e){e.setUncovered(),e.addPointerEventListeners(),e.hideOverlayAsync()}))}else console.warn("cannot click",t)}},a.scene=n,a.tileModel=r,a.setSize(t.TILE_SIZE,t.TILE_SIZE),a.tileImages=new pi(n),a.add(a.tileImages),a.tileImagesPointerTween=new mi([a.tileImages]),a.tileImagesWobbleAnimator=new vi(a.tileImages),a.resetProperty(),a}(0,o.Z)(t,e),t.setTileSize=function(e){t.tileSize=e};var n=t.prototype;return n.resetProperty=function(){this.setSize(t.TILE_SIZE,t.TILE_SIZE),this.tileImages.updateTileSize(),this.setTileViewScale(1),this.setAlpha(1),this.revive(),this.resetHitAreaScale()},n.addPointerEventListeners=function(){if(!this.isListeningPointerEvents){this.isListeningPointerEvents=!0,this.setInteractive({useHandCursor:!0});var e=(this.height-this.tileImages.height)/2;this.input.hitArea.setTo(0,e,this.width,this.height),this.on(Phaser.Input.Events.GAMEOBJECT_POINTER_DOWN,this.handlePointerDown),this.on(Phaser.Input.Events.GAMEOBJECT_POINTER_OUT,this.handlePointerOut),this.on(Phaser.Input.Events.GAMEOBJECT_POINTER_UP,this.handlePointerUpInsideTileView),this.on(Phaser.Input.Events.GAMEOBJECT_POINTER_OVER,this.handlePointerOver),this.scene.input.on(Phaser.Input.Events.POINTER_UP,this.handlePointerUpOutSideTileView)}},n.removePointerEventListeners=function(){this.isListeningPointerEvents&&(this.isListeningPointerEvents=!1,this.disableInteractive(),this.off(Phaser.Input.Events.GAMEOBJECT_POINTER_DOWN,this.handlePointerDown),this.off(Phaser.Input.Events.GAMEOBJECT_POINTER_OUT,this.handlePointerOut),this.off(Phaser.Input.Events.GAMEOBJECT_POINTER_UP,this.handlePointerUpInsideTileView),this.off(Phaser.Input.Events.GAMEOBJECT_POINTER_OVER,this.handlePointerOver),this.scene.input.off(Phaser.Input.Events.POINTER_UP,this.handlePointerUpOutSideTileView))},n.setTileModel=function(e){this.tileModel=e},n.setCluster=function(e){this.cluster=e},n.getCluster=function(){return this.cluster},n.setMatched3=function(){this.tileModel.setMatched3()},n.setCovered=function(){this.tileModel.setCovered()},n.setUncovered=function(){this.tileModel.setUncovered()},n.isMatched3=function(){var e;return null!=(e=this.tileModel.isMatched3())&&e},n.getRefreshPosition=function(){var e=this.cluster,n=this.tileModel;if(e){var r=n.x,a=n.y,i=n.z,s=e.getPos(),o=s.x,c=s.y,u=e.getDepthOffsetMultiplier(),l=u.x*i,d=u.y*i,h=0*r,p=-2*a,f=this.scene.gameManager.levelDataManager.getCoordsBounds(),m=f.top,g=(f.bottom+m)/2-4,v=(f.left+f.right)/2;return{x:o+r*t.TILE_SIZE+l-v*t.TILE_SIZE+h,y:c+a*t.TILE_SIZE+d-4*t.TILE_SIZE-g*t.TILE_SIZE+p+0}}},n.refresh=function(e){this.isPointerDown=!1;var t=null!=e?e:{},n=t.positionRefresh,r=void 0===n||n,a=t.iconRefresh,i=void 0===a||a,s=t.overlayRefresh,o=void 0===s||s,c=this.tileModel.icon,u=this.tileModel.isCovered();if(this.tileImagesPointerTween.refresh(),r&&this.cluster){var l=this.getRefreshPosition();l&&this.setPosition(l.x,l.y)}else!this.cluster&&console.warn("Cannot refresh position if not have cluster",this.tileModel);return i&&this.tileImages.setIcon(c),o&&(u?this.tileImages.showOverlay(!0):(this.tileImages.showOverlay(!1),this.addPointerEventListeners())),!0},n.sync=function(e){var t=this,n=function(){if(t.parentContainer){var n=t.scale,r=t.getWorldPosition(),a=r.x,i=r.y,s=t.tileImages.scale;e.setScale(n*s),e.setPosition(a,i)}};this.scene.events.on(Phaser.Scenes.Events.POST_UPDATE,n),this.listSyncs.push({obj:e,callback:n})},n.unSync=function(e){var t,n,r,a=B()(t=this.listSyncs).call(t,(function(t){return t.obj===e}));a&&(Ia()(n=this.listSyncs).call(n,Ht()(r=this.listSyncs).call(r,a),1),this.scene.events.off(Phaser.Scenes.Events.POST_UPDATE,a.callback))},n.unSyncAll=function(){var e=this;this.listSyncs.forEach((function(t){e.scene.events.off(Phaser.Scenes.Events.POST_UPDATE,t.callback)})),this.listSyncs=[]},n.kill=function(){e.prototype.kill.call(this),this.unSyncAll()},n.updateHitAreaScale=function(e,t){if(void 0===t&&(t=0),this.input){var n=this.input.hitArea,r=(this.height-this.tileImages.height)/2+t,a="number"===typeof e?[e,e]:[e.x,e.y],i=a[0],s=a[1];n.setTo(-this.width*(i-1)/2,-this.height*(s-1)/2+r,this.width*i,this.height*s)}},n.swapPropsWithChild=function(){var e=this.tileImagesPointerTween.refresh(),t=e.angle,n=e.scaleX,r=e.scaleY,a=e.x,i=e.y;this.angle+=t,this.scaleX*=n,this.scaleY*=r,this.x+=a,this.y+=i},n.resetHitAreaScale=function(){this.updateHitAreaScale(1)},n.invokeCallback=function(){return this.handleOnClick()},n.canClickBoardTileView=function(){return this.scene.gameManager.canClickBoardTileView()},n.setTileViewScale=function(e){this.setScale(e)},n.playAnimationShuffleAsync=function(){var e=(0,s.Z)(d().mark((function e(t){var n,r,a,i,s,o,c,u,l,h,p,f,m,g,v,y,k,b,E,x,S,w=this;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.toX,r=t.toY,a=t.row,i=t.col,s=t.maxRow,o=t.maxCol,c=t.minRow,u=t.minCol,l=t.bonusSpace,h=t.maxScale,p=(this.tileImages.displayHeight-this.displayHeight)*h,f=(o+u)/2,m=(s+c)/2,g=this.tileImages.displayWidth*(h-1)+l,v=this.tileImages.displayHeight*(h-1)+l+p,y=n+(f-i)*-g,k=r+(m-a)*-v,b=n,E=r,x=this.scene.add.tween({targets:this,paused:!0,duration:150,scale:1,ease:Phaser.Math.Easing.Sine.InOut}),S=this.scene.add.tween({targets:this,paused:!0,delay:250,duration:150,scale:1.04,ease:Phaser.Math.Easing.Sine.InOut,onComplete:function(){w.tileImages.stopTileVFX(),x.play()}}),this.tileImages.tweenOverlay("hide",0,250),e.next=17,Da(this.scene,{targets:this,x:y,y:k,scale:{from:1,to:h,delay:200,duration:300},duration:500,ease:Phaser.Math.Easing.Quartic.Out});case 17:return S.play(),this.tileModel.isCovered()&&this.tileImages.tweenOverlay("show",450,200),e.abrupt("return",Da(this.scene,{targets:this,x:b,y:E,duration:200,scale:.95,ease:Phaser.Math.Easing.Quartic.In,onComplete:function(){w.tileImages.showTileVFX()}}));case 20:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),n.prepareFadeIn=function(){this.tileImages.showOverlay(!1)},n.fadeIn=function(){var e=(0,s.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.refresh({iconRefresh:!1,positionRefresh:!1,overlayRefresh:!0}),e.abrupt("return",this.tileImages.fadeIn());case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.showOverlayAsync=function(){var e=(0,s.Z)(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.tileImages.showOverlayAsync(t));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),n.hideOverlayAsync=function(){var e=(0,s.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.tileImages.hideOverlayAsync());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.runAnimationDestroy=function(){var e=(0,s.Z)(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.tileImages.runAnimationDestroy(t));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),n.playWobbleAnimation=function(){var e=(0,s.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.tileImagesWobbleAnimator.playAnimation());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.setMagicGlowAlpha=function(e){this.tileImages.setMagicGlowAlpha(e)},(0,le.Z)(t,null,[{key:"TILE_SIZE",get:function(){return t.tileSize}}]),t}(Phaser.GameObjects.Container);yi.tileSize=55;var ki=yi,bi=function(){function e(e,t,n,r,a,i,s){this.id=void 0,this.x=void 0,this.y=void 0,this.z=void 0,this.icon=void 0,this.clusterId=void 0,this.state=void 0,this.id=e,this.x=t,this.y=n,this.z=r,this.icon=a,this.clusterId=i,this.state=s}var t=e.prototype;return t.sameIcon=function(e){return this.icon===e.icon},t.collect=function(){return!!this.canCollect()&&(this.state="collected",!0)},t.canCollect=function(){return"uncovered"===this.state},t.setIcon=function(e){e&&(this.icon=e)},t.setMatched3=function(){this.state="matched3"},t.isMatched3=function(){return"matched3"===this.state},t.setUncovered=function(){this.state="uncovered"},t.setCovered=function(){this.state="covered"},t.isCovered=function(){return"covered"===this.state},t.isUncovered=function(){return"uncovered"===this.state},t.isCollected=function(){return"collected"===this.state},t.getClone=function(){return new e(this.id,this.x,this.y,this.z,this.icon,this.clusterId,this.state)},e}();var Ei={deepCopy:function(e){return Phaser.Utils.Objects.DeepCopy(e)},pickRandomElements:function(e,t){var n,r,a=w()(e,(function(e,t){return t})),i=wr()(n=x()(r=Phaser.Math.RND.shuffle(a)).call(r,0,t)).call(n);return De()(i).call(i,(function(t){return e[t]}))},calculateStraightTweenDuration:function(e,t,n){return Phaser.Math.Distance.Between(e.x,e.y,t.x,t.y)/n}};function xi(e,t){var n="undefined"!==typeof C()&&L()(e)||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){var n;if(!e)return;if("string"===typeof e)return Si(e,t);var r=x()(n=Object.prototype.toString.call(e)).call(n,8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return w()(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Si(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Si(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var wi=function(e,t){return Number(e)-Number(t)},Ai=function(){function e(e){this.clusterData=void 0,this.gameManager=void 0,this.boardMap={},this.tileCount=0,this.maxZ=0,this.gameManager=e}var t=e.prototype;return t.setClusterData=function(e){this.clusterData=Ei.deepCopy(e)},t.init=function(e){var t;this.setClusterData(e);for(var n,r=this.clusterData,a=r.tileMap,i=r.id,s=xi(wr()(t=te()(a)).call(t,wi));!(n=s()).done;)for(var o,c,u=n.value,l=xi(wr()(o=te()(a[u])).call(o,wi));!(c=l()).done;)for(var d,h,p=c.value,f=xi(wr()(d=te()(a[u][p])).call(d,wi));!(h=f()).done;){var m=h.value,g=a[u][p][m],v=g.position,y=g.icon,k=v.x,b=v.y,E=v.z,x=k+","+b+","+E+","+y+","+i,S=this.existUpperTilesTileMap(v,a)?"covered":"uncovered",w=new bi(x,k,b,E,y,i,S),A=this.gameManager.tilePool.spawnTileView(w);this.gameManager.board.add(A),A.setCluster(this),A.refresh(),this.addTileView(A),E>this.maxZ&&(this.maxZ=E)}},t.reset=function(){var e=this;this.forEach((function(t){e.detachTileView(t),e.gameManager.scene.gameManager.tilePool.hideTileView(t)})),this.tileCount=0,this.maxZ=0,this.boardMap={}},t.getMaxZ=function(){return this.maxZ},t.addTileView=function(e){var t=e.tileModel;if(t){var n=t.x,r=t.y,a=t.z,i=this.boardMap;i[a]||(i[a]={}),i[a][r]||(i[a][r]={}),i[a][r][n]=e,this.tileCount++}},t.getTileCount=function(){return this.tileCount},t.getPos=function(){var e=this.clusterData;return{x:e.x,y:e.y}},t.getId=function(){return this.clusterData.id},t.existPosition=function(e){var t,n=e.x,r=e.y,a=e.z;return!(null==(t=this.boardMap[a])||null==(t=t[r])||!t[n])},t.getTileViewByPosition=function(e){var t,n=e.x,r=e.y,a=e.z;return null==(t=this.boardMap[a])||null==(t=t[r])?void 0:t[n]},t.detachTileView=function(e){var t=e.tileModel;if(!t)return!1;var n=t.x,r=t.y,a=t.z;return!!this.existPosition({x:n,y:r,z:a})&&(delete this.boardMap[a][r][n],0===te()(this.boardMap[a][r]).length&&delete this.boardMap[a][r],0===te()(this.boardMap[a]).length&&delete this.boardMap[a],this.tileCount--,this.gameManager.board.remove(e),e.setCluster(void 0),!0)},t.getNewLayerZ=function(e){var t=e.x,n=e.y,r=this.boardMap,a=-1;for(var i in r){var s;if(null!=(s=r[i])&&null!=(s=s[n])&&s[t]){var o=Number(i);a<o&&(a=o)}}return a+1},t.getAllTiles=function(){for(var e,t=[],n=xi(wr()(r=te()(this.boardMap)).call(r,wi));!(e=n()).done;)for(var r,a,i=e.value,s=xi(wr()(o=te()(this.boardMap[i])).call(o,wi));!(a=s()).done;)for(var o,c,u=a.value,l=xi(wr()(d=te()(this.boardMap[i][u])).call(d,wi));!(c=l()).done;){var d,h=c.value,p=this.boardMap[i][u][h];t.push(p)}return t},t.uncoverLowerTileViewsUnderTileViews=function(e){var t=this,n=this.createVisitedTileViewManager();e.forEach((function(e){var r=e.tileModel;r&&t.getLowerTileViews(r).forEach((function(e){n.has(e)||(e.setUncovered(),e.refresh(),n.add(e))}))}))},t.createVisitedTileViewManager=function(){var e={};return{has:function(t){var n,r=t.tileModel,a=r.x,i=r.y,s=r.z;return!(null==(n=e[s])||null==(n=n[i])||!n[a])},add:function(t){var n=t.tileModel,r=n.x,a=n.y,i=n.z;e[i]||(e[i]={}),e[i][a]||(e[i][a]={}),e[i][a][r]=t}}},t.forEach=function(e){for(var t in this.boardMap)for(var n in this.boardMap[t])for(var r in this.boardMap[t][n]){e(this.boardMap[t][n][r])}},e}(),Ci=Ai,Ti=function(e){function t(){return e.apply(this,arguments)||this}(0,o.Z)(t,e);var n=t.prototype;return n.existUpperTilesTileMap=function(e,t){var n,r=De()(n=te()(t)).call(n,Number),a=Math.max.apply(Math,r);return e.z<a},n.existUpperTiles=function(e){var t;if(!this.existPosition(e))return!1;var n=De()(t=te()(this.boardMap)).call(t,Number),r=Math.max.apply(Math,n);return e.z<r},n.getDepthOffsetMultiplier=function(){return{x:0,y:0}},n.getLowerTileViews=function(e){var t=this.getNearestLowerDepth(e),n=this.boardMap[t];if(!n)return[];var r=xr()(n)[0];if(!r)return[];var a=xr()(r)[0];if(!a)return[];var i=a.tileModel;return!this.existPosition(i)||this.existUpperTiles(i)?[]:[a]},n.getNearestLowerDepth=function(e,t){var n,r;void 0===t&&(t=this.boardMap);var a=Me()(n=De()(r=te()(t)).call(r,Number)).call(n,(function(t){return t<e.z}));return Math.max.apply(Math,a)},t}(Ci),Li=Ti;function Ii(e,t){var n="undefined"!==typeof C()&&L()(e)||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){var n;if(!e)return;if("string"===typeof e)return Pi(e,t);var r=x()(n=Object.prototype.toString.call(e)).call(n,8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return w()(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Pi(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Pi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var _i=[Pa.TOP_LEFT,Pa.TOP_RIGHT,Pa.BOTTOM_LEFT,Pa.BOTTOM_RIGHT],Bi=xr()(Pa),Oi=function(e){function t(){return e.apply(this,arguments)||this}(0,o.Z)(t,e);var n=t.prototype;return n.getDepthOffsetMultiplier=function(){return{x:0,y:0}},n.existUpperTiles=function(e){if(!this.existPosition(e))return!1;for(var t,n=Ii(this.getAscendingUpperZs(e));!(t=n()).done;)for(var r,a=t.value,i=Ii(Bi);!(r=i()).done;){var s=r.value,o=e.x+s.x,c=e.y+s.y;if(this.existPosition({x:o,y:c,z:a}))return!0}return!1},n.existUpperTilesTileMap=function(e,t){for(var n,r=Ii(this.getAscendingUpperZs(e,t));!(n=r()).done;)for(var a,i=n.value,s=Ii(Bi);!(a=s()).done;){var o,c=a.value,u=e.x+c.x,l=e.y+c.y;if(null!=(o=t[i])&&null!=(o=o[l])&&o[u])return!0}return!1},n.getLowerTileViews=function(e){for(var t,n=[],r=Ii(this.getDescendingLowerZs(e));!(t=r()).done;){for(var a,i=t.value,s=0,o=Ii(Bi);!(a=o()).done;){var c=a.value,u={x:e.x+c.x,y:e.y+c.y,z:i};if(this.existPosition(u)&&!this.existUpperTiles(u)){var l=this.getTileViewByPosition(u);l&&(n.push(l),this.isCornerOffset(c)&&s++)}}if(s===_i.length)break}return n},n.getAscendingUpperZs=function(e,t){var n,r,a;return void 0===t&&(t=this.boardMap),wr()(n=Me()(r=De()(a=te()(t)).call(a,Number)).call(r,(function(t){return t>e.z}))).call(n,(function(e,t){return e-t}))},n.getDescendingLowerZs=function(e,t){var n,r,a;return void 0===t&&(t=this.boardMap),wr()(n=Me()(r=De()(a=te()(t)).call(a,Number)).call(r,(function(t){return t<e.z}))).call(n,(function(e,t){return t-e}))},n.isCornerOffset=function(e){return _i.some((function(t){return t.x===e.x&&t.y===e.y}))},t}(Ci),Ri=Oi,Mi={positionRefresh:!0,iconRefresh:!1,overlayRefresh:!1},Ni=function(e){function t(){for(var t,n,r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=e.call.apply(e,P()(t=[this]).call(t,a))||this).multiplierY=5,n}(0,o.Z)(t,e);var n=t.prototype;return n.getDepthOffsetMultiplier=function(){return{x:0,y:this.multiplierY}},n.detachTileView=function(t){return!!e.prototype.detachTileView.call(this,t)&&(this.updateAlignment(),!0)},n.updateAlignment=function(){var e=this.getLayerCount(),t=this.getNewMultiplierYForLayerCount(e);if(t!==this.multiplierY){this.multiplierY=t;var n=this.boardMap;for(var r in n)for(var a in n[r])for(var i in n[r][a]){n[r][a][i].refresh(Mi)}}},n.getLayerCount=function(){return te()(this.boardMap).length},n.getNewMultiplierYForLayerCount=function(e){return e<3?5:e<4?3:e<5?2:1},t}(Ri),Di=Ni,Fi=function(){function e(e){this.board=void 0,this.board=e}var t=e.prototype;return t.playUndoMoveAnimation=function(){var e=(0,s.Z)(d().mark((function e(t){var n,r,a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.tileView,r=t.position,a=this.board.scene.add.tween({targets:n,duration:100,props:{x:{value:r.x,ease:Phaser.Math.Easing.Cubic.Out},y:{value:r.y,ease:Phaser.Math.Easing.Sine.Out}}}),e.abrupt("return",a.waitForCompletion());case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.playUndoScaleToNormalAnimation=function(){var e=(0,s.Z)(d().mark((function e(t){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.board.scene.add.tween({targets:t,duration:50,props:{scale:1}}),e.abrupt("return",n.waitForCompletion());case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.playReturnAnimation=function(){var e=(0,s.Z)(d().mark((function e(t){var n,r,a=this;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.tileView,r=t.position,.5,e.abrupt("return",new(u())((function(e){a.board.scene.add.tween({targets:n,ease:Phaser.Math.Easing.Quadratic.InOut,duration:Phaser.Math.Distance.BetweenPoints(n,r)/.5,props:{x:r.x,y:r.y,scale:1},onComplete:function(){e()}})})));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e}(),Gi=Fi,Zi=function(){function e(e){this.board=void 0,this.board=e}var t=e.prototype;return t.prepareFadeIn=function(){xr()(this.clusters).forEach((function(e){e.forEach((function(e){e.setScale(0),e.prepareFadeIn()}))}))},t.playFadeInAnimation=function(){var e=(0,s.Z)(d().mark((function e(){var t,n,r,a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],n=0,600,600,xr()(this.clusters).forEach((function(e){n=Math.max(n,e.getMaxZ())})),r=600/(n+1),xr()(this.clusters).forEach((function(e){e.forEach((function(e){var n=600+e.tileModel.z*r;t.push(ei([e],r,n))}))})),e.next=9,u().all(t);case 9:return a=[],xr()(this.clusters).forEach((function(e){e.forEach((function(e){t.push(e.fadeIn())}))})),e.abrupt("return",u().all(a));case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),(0,le.Z)(e,[{key:"clusters",get:function(){return this.board.clusters}}]),e}(),Ui=Zi,Ki=function(){function e(e){this.fadeInAnimator=void 0,this.addAnimator=void 0,this.fadeInAnimator=new Ui(e),this.addAnimator=new Gi(e)}var t=e.prototype;return t.prepareFadeIn=function(){this.fadeInAnimator.prepareFadeIn()},t.playFadeInAnimation=function(){var e=(0,s.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.fadeInAnimator.playFadeInAnimation());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.playAddAnimation=function(){var e=(0,s.Z)(d().mark((function e(t){var n,r,a,i,o=this;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.type,r=t.tileView,a=t.refreshPosition,"return"!==n){e.next=5;break}return e.next=4,this.addAnimator.playReturnAnimation({tileView:r,position:a});case 4:return e.abrupt("return",this.wobbleAndShowOverlays(t));case 5:return i=function(){var e=(0,s.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.addAnimator.playUndoScaleToNormalAnimation(r);case 2:return e.abrupt("return",o.wobbleAndShowOverlays(t));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.abrupt("return",u().all([this.addAnimator.playUndoMoveAnimation({tileView:r,position:a}),i()]));case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.wobbleAndShowOverlays=function(){var e=(0,s.Z)(d().mark((function e(t){var n,r,a,i;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.tileView,r=t.lowerTileViews,a=t.waitForWobble,i=u().all([n.playWobbleAnimation(),this.showTileViewOverlaysAsync(r,a?50:400)]),!a){e.next=4;break}return e.abrupt("return",i);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.showTileViewOverlaysAsync=function(){var e=(0,s.Z)(d().mark((function e(t,n){var r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==t.length){e.next=2;break}return e.abrupt("return");case 2:return r=De()(t).call(t,(function(e){return e.setCovered(),e.refresh(),e.showOverlayAsync(n)})),e.abrupt("return",u().all(r));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),e}(),Hi=Ki,Wi={positionRefresh:!0,iconRefresh:!0,overlayRefresh:!0},Vi=function(e){function t(t){var n;return(n=e.call(this,t)||this).scene=void 0,n.clusters={},n.tileViewClickEnabled=!0,n.animator=new Hi((0,Ca.Z)(n)),n.scene=t,n}(0,o.Z)(t,e);var n=t.prototype;return n.prepareFadeIn=function(){this.animator.prepareFadeIn()},n.fadeIn=function(){var e=(0,s.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.animator.playFadeInAnimation());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.init=function(e){var t=this,n=this.scene.gameManager;xr()(this.clusters).forEach((function(e){e.reset()})),this.clusters={},e.clusters.forEach((function(e){var r=e.id,a="3/40"===e.type?new Li(n):new Ri(n);a.init(e),t.clusters[r]=a})),this.tileViewClickEnabled=!0},n.createReturnCluster=function(){var e=new Di(this.scene.gameManager);e.setClusterData({id:_a,x:0,y:20,type:"compact",tileMap:{}}),this.clusters[_a]=e},n.getReturnCluster=function(){return this.clusters[_a]},n.isReturnClusterAvailable=function(){return!!this.getReturnCluster()},n.updateReturnClusterAlignment=function(){var e=this.getReturnCluster();e&&e.updateAlignment()},n.detachTileView=function(e){var t=e.getCluster();if(!t)return!1;var n=t.detachTileView(e);return this.scene.gameManager.tryToBlockInputIfGameGonnaEnd(),n},n.addTileViewAsync=function(){var e=(0,s.Z)(d().mark((function e(t,n,r,a){var s,o,c,u;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===a&&(a=!0),s=n.clusterId,o=this.clusters[s],c=o.getLowerTileViews(n),t.setTileModel(n),t.setCluster(o),o.addTileView(t),u=t.getRefreshPosition()){e.next=13;break}return console.warn("Cannot move tile"),this.addCorrectDepth(t),t.refresh(),e.abrupt("return");case 13:return t.refresh((0,i.Z)({},Wi,{positionRefresh:!1})),this.scene.gameplayParticleHandler.tileReturnVFX.show(t),e.next=17,this.animator.playAddAnimation({type:r,tileView:t,refreshPosition:u,lowerTileViews:c,waitForWobble:a});case 17:this.scene.gameManager.topContainer.detachTileView(t),this.addCorrectDepth(t),t.refresh((0,i.Z)({},Wi,{positionRefresh:!0}));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),n.updateCorrectDepth=function(e){this.remove(e),this.addCorrectDepth(e)},n.addCorrectDepth=function(e){var t=this.getAt(e.depth);if(t instanceof ki||void 0===t)if(0===this.length)this.add(e);else if(void 0===t){if(1===this.length&&this.getAt(0).depth>e.depth)return void this.addAt(e,0);for(var n=this.length-1;n>=0;n--){if(!(this.getAt(n).depth>e.depth))return void this.addAt(e,n+1)}this.add(e)}else if(t.depth<e.depth){for(var r=e.depth+1;r<this.length;r++){if(!(this.getAt(r).depth<e.depth))return void this.addAt(e,r)}this.add(e)}else{for(var a=e.depth-1;a>=0;a--){if(!(this.getAt(a).depth>e.depth))return void this.addAt(e,a+1)}this.addAt(e,0)}else console.error("targetTileView is not TileView",t)},n.add=function(t){return e.prototype.add.call(this,t),t.depth=this.length-1,this},n.moveTo=function(t,n){return e.prototype.moveTo.call(this,t,n),this},n.uncoverLowerTileViewsUnderTileViews=function(e){if(0!==e.length){var t={};for(var n in e.forEach((function(e){var n=e.tileModel.clusterId;t[n]||(t[n]=[]),t[n].push(e)})),t){this.clusters[n].uncoverLowerTileViewsUnderTileViews(t[n])}}},n.getMagicTileViews=function(){var e=this.createMagicTileViewsBuilder();return xr()(this.clusters).forEach((function(t){t.forEach((function(t){e.addTileView(t)}))})),e.getData()},n.createMagicTileViewsBuilder=function(){var e={};return{addTileView:function(t){var n=t.tileModel;if(n){var r=n.icon;e[r]||(e[r]={covered:[],uncovered:[]});var a=e[r],i=a.covered,s=a.uncovered;n.isCovered()?i.push(t):s.push(t)}},getData:function(){return e}}},n.enableTileViewClick=function(e){this.tileViewClickEnabled=e},n.canClickTileView=function(){return this.tileViewClickEnabled},n.isBoardEmpty=function(){return!this.hasMoreThanNTile(0)},n.hasMoreThan1Tile=function(){return this.hasMoreThanNTile(1)},n.getRemainingAmount=function(){for(var e=0,t=0,n=xr()(this.clusters);t<n.length;t++){e+=n[t].getTileCount()}return e},n.hasMoreThanNTile=function(e){for(var t=0,n=0,r=xr()(this.clusters);n<r.length;n++){if((t+=r[n].getTileCount())>e)break}return t>e},n.getAllTiles=function(){for(var e=[],t=0,n=xr()(this.clusters);t<n.length;t++){var r=n[t];e.push.apply(e,r.getAllTiles())}return e},t}(Phaser.GameObjects.Container),Yi=Vi,zi=Na.Z.GAMEPLAY_COLORFUL,ji=zi.KEY,Xi=zi.FRAME,qi=function(e){function t(t,n){var r;return(r=e.call(this,t)||this).scene=void 0,r.tileModel=void 0,r.background=void 0,r.imageIcon=void 0,r.scene=t,r.tileModel=n,r.createBackground(),r.createIcon(),r.resetProperty(),r}(0,o.Z)(t,e);var n=t.prototype;return n.resetProperty=function(){this.setImageIconSize(),this.background.setWorldSize(t.TILE_SIZE,t.TILE_SIZE*Ra),this.setSize(t.TILE_SIZE,t.TILE_SIZE),this.setScale(1),this.setAlpha(1),this.revive()},n.setTileModel=function(e){this.tileModel=e},n.refresh=function(e){var t=this.tileModel.icon;this.imageIcon.setFrame("tiles/"+t),this.setImageIconSize();var n=this.getRefreshPosition(e);this.setPosition(n.x,n.y)},n.getRefreshPosition=function(e){return{x:this.tileModel.x*t.TILE_SIZE+e.x,y:this.tileModel.y*t.TILE_SIZE+e.y+-2*this.tileModel.y}},n.setImageIconSize=function(){var e=t.TILE_SIZE/55;this.imageIcon.setSizeBasedOnDpr();var n=this.imageIcon,r=n.displayWidth,a=n.displayHeight;this.imageIcon.setWorldSize(r*e,a*e)},n.createBackground=function(){var e=this.scene.make.image({key:ji,frame:Xi.EMPTY_TILE});this.add(e),this.background=e},n.createIcon=function(){var e=this.scene.make.image({key:ji,frame:Xi.BLANK});this.add(e),this.imageIcon=e},t}(Phaser.GameObjects.Container);qi.TILE_SIZE=30;var Qi=qi;function Ji(e,t){var n="undefined"!==typeof C()&&L()(e)||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){var n;if(!e)return;if("string"===typeof e)return $i(e,t);var r=x()(n=Object.prototype.toString.call(e)).call(n,8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return w()(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $i(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function $i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var es=xr()(Pa),ts=function(){function e(){this.levelConfig=void 0,this.boardData=void 0,this.bounds=void 0,this.levelTileCount=void 0}var t=e.prototype;return t.init=function(){this.updateTileCount()},t.updateTileCount=function(){var e=0;this.levelConfig.forEach((function(t){t.layers.forEach((function(t){e+=t.tiles.length}))})),this.levelTileCount=e},t.setLevelConfig=function(e){this.levelConfig=e,this.extractBoardData()},t.extractBoardData=function(){var e,t=this;this.bounds={top:1/0,bottom:-1/0,left:1/0,right:-1/0};var n=w()({length:32},(function(e,t){return t}));GameCore.Utils.Array.shuffle(n);var r=De()(e=this.levelConfig).call(e,(function(e,r){var a=e.layers,i=e.x,s=e.y,o=e.type;return{id:"cluster-"+r,tileMap:t.layerConfigsToTileMap(a,n),x:i,y:s,type:o}}));this.boardData={clusters:r}},t.getBoardData=function(){return this.boardData},t.getTutorialTripleTilePayloads=function(){var e=this,t={};this.boardData.clusters.forEach((function(n){e.getClickableTiles(n).forEach((function(e){var r=e.icon,a=e.position;t[r]||(t[r]=[]),t[r].push({position:a,clusterId:n.id})}))}));for(var n=0,r=xr()(t);n<r.length;n++){var a,i=r[n];if(i.length>=3)return wr()(a=x()(i).call(i,0,3)).call(a,(function(e,t){return t.position.y-e.position.y||t.position.x-e.position.x}))}return[]},t.getClickableTiles=function(e){var t,n,r=this,a=e.tileMap;if("3/40"===e.type){var i,s=De()(i=te()(a)).call(i,Number),o=Math.max.apply(Math,s),c=a[o],u=te()(c)[0],l=te()(c[u])[0];return[c[u][l]]}for(var d,h=function(e,t){return e-t},p=wr()(t=De()(n=te()(a)).call(n,Number)).call(t,h),f=[],m=function(){for(var e,t,n,i=d.value,s=Me()(p).call(p,(function(e){return e>i})),o=Ji(wr()(e=De()(t=te()(a[i])).call(t,Number)).call(e,h));!(n=o()).done;)for(var c,u,l,m=n.value,g=Ji(wr()(c=De()(u=te()(a[i][m])).call(u,Number)).call(c,h));!(l=g()).done;){var v=l.value,y={x:v,y:m,z:i};r.existUpperTilesTileMap(y,a,s)||f.push(a[i][m][v])}},g=Ji(p);!(d=g()).done;)m();return f},t.existUpperTilesTileMap=function(e,t,n){for(var r,a=Ji(n);!(r=a()).done;)for(var i,s=r.value,o=Ji(es);!(i=o()).done;){var c,u=i.value,l=e.x+u.x,d=e.y+u.y;if(null!=(c=t[s])&&null!=(c=c[d])&&c[l])return!0}return!1},t.getTutorialBoardData=function(){for(var e=Qi.TILE_SIZE,t=[],n=w()({length:20},(function(e,t){return(t+1).toString()})),r=Ei.pickRandomElements(n,5),a=[],i=0;i<3;i++)for(var s=0;s<5;s++)a.push({x:s,y:i});GameCore.Utils.Array.shuffle(a);for(var o,c=Ji(r);!(o=c()).done;)for(var u=o.value,l=0;l<3;l++){var d=a.pop();d&&t.push({icon:u,position:d})}return{tiles:t,x:-2*e,y:-1*e-20}},t.getLevelTileCount=function(){return this.levelTileCount},t.getCoordsBounds=function(){return this.bounds},t.layerConfigsToTileMap=function(e,t){var n=this,r={};return e.forEach((function(e,a){e.tiles.forEach((function(e){var i=e.x,s=e.y,o=e.skinIdx;i<n.bounds.left&&(n.bounds.left=i),i>n.bounds.right&&(n.bounds.right=i),s<n.bounds.top&&(n.bounds.top=s),s>n.bounds.bottom&&(n.bounds.bottom=s);var c=o;t&&(c=t[o]),n.addTileMap(r,{position:{x:i,y:s,z:a},icon:c.toString()})}))})),r},t.addTileMap=function(e,t){var n=t.position,r=n.x,a=n.y,i=n.z;e[i]||(e[i]={}),e[i][a]||(e[i][a]={}),e[i][a][r]=t},e}(),ns=ts,rs=n(587),as=n.n(rs),is=n(588),ss=n.n(is),os=function(e){this.scene=void 0,this.scene=e},cs={SLIDE_COMPLETED:"slide-completed",MATCH_3_COMPLETED:"match-3-completed"};function us(e){var t,n,r,a=2;for("undefined"!=typeof C()&&(n=as(),r=ss());a--;){if(n&&null!=(t=e[n]))return t.call(e);if(r&&null!=(t=e[r]))return new ls(t.call(e));n="@@asyncIterator",r="@@iterator"}throw new TypeError("Object is not async iterable")}function ls(e){function t(e){if(Object(e)!==e)return u().reject(new TypeError(e+" is not an object."));var t=e.done;return u().resolve(e.value).then((function(e){return{value:e,done:t}}))}return ls=function(e){this.s=e,this.n=e.next},ls.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?u().resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?u().reject(e):t(n.apply(this.s,arguments))}},new ls(e)}var ds=function(e){function t(){return e.apply(this,arguments)||this}(0,o.Z)(t,e);var n=t.prototype;return n.performMagicAsync=function(){var e=(0,s.Z)(d().mark((function e(t){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.boardMagicTileViewsByIcon,e.next=3,this.moveTileViewsToRack(n);case 3:return e.next=5,this.waitForMatch3Completed(n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),n.moveTileViewsToRack=function(){var e=(0,s.Z)(d().mark((function e(t){var n,r,a,i,s,o;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=!1,r=!1,e.prev=2,i=us(t);case 4:return e.next=6,i.next();case 6:if(!(n=!(s=e.sent).done)){e.next=16;break}if(o=s.value,this.moveTileViewToRack(o)){e.next=11;break}return e.abrupt("continue",13);case 11:return e.next=13,(0,ai.Z)(this.scene,200);case 13:n=!1,e.next=4;break;case 16:e.next=22;break;case 18:e.prev=18,e.t0=e.catch(2),r=!0,a=e.t0;case 22:if(e.prev=22,e.prev=23,!n||null==i.return){e.next=27;break}return e.next=27,i.return();case 27:if(e.prev=27,!r){e.next=30;break}throw a;case 30:return e.finish(27);case 31:return e.finish(22);case 32:case"end":return e.stop()}}),e,this,[[2,18,22,32],[23,,27,31]])})));return function(t){return e.apply(this,arguments)}}(),n.moveTileViewToRack=function(e){var t=e.getCluster();if(!t)return!1;var n=this.scene.gameManager,r=n.rack,a=n.board,i=r.getLocalPosition(e);return e.setPosition(i.x,i.y),!!a.detachTileView(e)&&(this.fadeInTileViewMagicGlow(e),r.addTileView(e),t.getLowerTileViews(e.tileModel).forEach((function(e){e.setUncovered(),e.addPointerEventListeners(),e.hideOverlayAsync()})),!0)},n.fadeInTileViewMagicGlow=function(){var e=(0,s.Z)(d().mark((function e(t){var n,r,a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=function(e){t.setMagicGlowAlpha(e.getValue())},r=this.scene.tweens.addCounter({from:0,to:1,duration:68,onUpdate:n}),e.next=4,r.waitForCompletion();case 4:return a=this.scene.tweens.addCounter({from:1,to:0,duration:68,onUpdate:n}),e.next=7,a.waitForCompletion();case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),n.waitForMatch3Completed=function(){var e=(0,s.Z)(d().mark((function e(t){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=De()(t).call(t,(function(e){return new(u())((function(t){e.once(cs.MATCH_3_COMPLETED,t)}))})),e.abrupt("return",u().all(n));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t}(os),hs=ds,ps=function(){function e(e){this.scene=void 0,this.magicMoverHandler=void 0,this.scene=e,this.magicMoverHandler=new hs(e)}var t=e.prototype;return t.moveTileViewBoardToRack=function(e){var t=e.tileModel;if(t){var n=this.scene.gameManager,r=n.rack,a=n.board,i=r.getLocalPosition(e);e.setPosition(i.x,i.y),a.detachTileView(e)&&(n.pushMoveBoardToRackData({tileView:e,tileModel:t}),r.addTileView(e))}},t.undoMoveAsync=function(){var e=(0,s.Z)(d().mark((function e(t,n){var r,a,i,s,o,c,l,h,p,f;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.tileView,a=t.tileModel,i=this.scene.gameManager,s=i.rack,o=i.board,c=i.topContainer,e.next=5,s.playScaleToNormalAnimation();case 5:return l=o.getLocalPosition(r),h=l.x,p=l.y,r.setPosition(h,p),s.detachTileViews([r]),(f=a.getClone()).setUncovered(),c.addTileViews([r]),this.scene.audio.playSound(nn.Z.TILE_DROP),e.next=14,u().all([o.addTileViewAsync(r,f,"undo",n),s.playRealignAnimationAsync()]);case 14:o.updateCorrectDepth(r),r.addPointerEventListeners();case 16:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),t.moveTileViewsRackToBoard=function(){var e=(0,s.Z)(d().mark((function e(t,n){var r,a,i,s,o;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.scene.gameManager,i=a.rack,s=a.board,o=a.topContainer,e.next=4,i.playScaleToNormalAnimation();case 4:return t.forEach((function(e){var t=o.getLocalPosition(e),n=t.x,r=t.y;e.setPosition(n,r)})),i.detachTileViews(t),o.addTileViews(t),e.abrupt("return",u().all(P()(r=[]).call(r,De()(t).call(t,(function(e,t){return s.addTileViewAsync(e,n[t],"return")})),[i.playRealignAnimationAsync()])));case 8:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),t.performMagicAsync=function(){var e=(0,s.Z)(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.magicMoverHandler.performMagicAsync(t));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),e}(),fs=ps,ms=function(){function e(e){this.scene=void 0,this.undoAsyncState="ready",this.moveBoardToRackStack=[],this.scene=e}var t=e.prototype;return t.init=function(){this.undoAsyncState="ready",this.moveBoardToRackStack=[],this.scene.footer.undoItem.softDisableItem()},t.canUndo=function(){return!this.scene.gameManager.rack.isEmpty()&&("playing"!==this.undoAsyncState&&this.moveBoardToRackStack.length>0)},t.updateUndoItem=function(){var e=this.scene.footer.undoItem;this.canUndo()?e.updateStatusItemByAmount(!0):e.softDisableItem()},t.undoAsync=function(){var e=(0,s.Z)(d().mark((function e(t){var n,r,a,i;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=this.scene.gameManager).isRackPlayingLogicalTweens()){e.next=3;break}return e.abrupt("return");case 3:if(n.stopRackAlmostFullAnimation(),r=this.moveBoardToRackStack.pop()){e.next=7;break}return e.abrupt("return");case 7:return a=n.board,i=n.mover,this.scene.setGlobalSceneInputEnabled(!1),this.undoAsyncState="playing",e.next=12,i.undoMoveAsync(r,t);case 12:this.undoAsyncState="ready",a.updateReturnClusterAlignment(),n.tryWarningRackIsAlmostFull(),this.scene.setGlobalSceneInputEnabled(!0);case 16:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.pushMoveBoardToRackData=function(e){this.moveBoardToRackStack.push(e)},t.clearLastMatch3FromMoveStack=function(){this.moveBoardToRackStack=[]},t.removeTileViewsFromMoveStack=function(e){var t;this.moveBoardToRackStack=Me()(t=this.moveBoardToRackStack).call(t,(function(t){var n=t.tileView;return!y()(e).call(e,n)}))},e}(),gs=ms,vs=function(){function e(e){this.scene=void 0,this.extraSlotClicked=!1,this.addExtraSlotAsyncState="ready",this.scene=e}var t=e.prototype;return t.init=function(){this.extraSlotClicked=!1,this.updateExtraSlotItem()},t.canAddExtraSlot=function(){return"playing"!==this.addExtraSlotAsyncState&&(!this.extraSlotClicked&&!this.scene.gameManager.rack.isExtra())},t.updateExtraSlotItem=function(){var e=this.scene.footer.extraSlotItem;this.canAddExtraSlot()?null==e||e.enableItem():null==e||e.softDisableItem()},t.addExtraSlotAsync=function(){var e=(0,s.Z)(d().mark((function e(){var t,n,r,a,i;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this.scene.gameManager).isRackPlayingLogicalTweens()){e.next=3;break}return e.abrupt("return");case 3:return n=t.rack,r=t.returnManager,a=t.undoManager,i=t.wieldMagicWandManager,this.scene.setGlobalSceneInputEnabled(!1),this.extraSlotClicked=!0,this.addExtraSlotAsyncState="playing",e.next=9,n.addExtraSlotAsync();case 9:this.addExtraSlotAsyncState="ready",this.updateExtraSlotItem(),r.updateReturnItem(),a.updateUndoItem(),i.updateMagicWandItem(),this.scene.setGlobalSceneInputEnabled(!0);case 15:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),e}(),ys=vs,ks=function(){function e(e){this.scene=void 0,this.wieldAsyncState="ready",this.latestMagicData=void 0,this.scene=e}var t=e.prototype;return t.init=function(){this.wieldAsyncState="ready",this.updateMagicWandItem()},t.isPlaying=function(){return"playing"===this.wieldAsyncState},t.canWieldMagicWand=function(){return"playing"!==this.wieldAsyncState&&(this.updateLatestMagicWandData(),!!this.latestMagicData)},t.updateLatestMagicWandData=function(){var e=this.scene.gameManager,t=e.board,n=e.rack,r=t.getMagicTileViews();return n.isEmpty()?this.handleUpdateMagicDataWhenRackIsEmpty(r):this.handleUpdateMagicDataWhenRackIsNotEmpty(r)},t.handleUpdateMagicDataWhenRackIsEmpty=function(e){var t=[];for(var n in e){var r,a,i=e[n],s=i.uncovered,o=i.covered,c=x()(r=P()(a=[]).call(a,s,o)).call(r,0,3);3===c.length&&t.push({boardMagicTileViewsByIcon:c,rackMagicTileViewsByIcon:[],priority:Math.min(s.length,3)})}this.latestMagicData=this.getBestMagicData(t)},t.handleUpdateMagicDataWhenRackIsNotEmpty=function(e){var t=this.scene.gameManager.rack.getMagicTileViews(),n=[];for(var r in t){var a,i;if(r in e){var s=t[r],o=s.length,c=e[r],u=c.covered,l=c.uncovered,d=x()(a=P()(i=[]).call(i,l,u)).call(a,0,3-o);o+d.length<3||n.push({boardMagicTileViewsByIcon:d,rackMagicTileViewsByIcon:s,priority:s.length})}}this.latestMagicData=this.getBestMagicData(n)},t.getBestMagicData=function(e){if(0!==e.length)return wr()(e).call(e,(function(e,t){return t.priority-e.priority})),e[0]},t.updateMagicWandItem=function(){var e=this.scene.footer.magicWandItem;this.canWieldMagicWand()?e.updateStatusItemByAmount():e.softDisableItem()},t.wieldMagicWandAsync=function(){var e=(0,s.Z)(d().mark((function e(){var t,n,r,a,i,s,o;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=this.scene.gameManager).isRackPlayingLogicalTweens()){e.next=3;break}return e.abrupt("return");case 3:if(this.latestMagicData){e.next=5;break}return e.abrupt("return");case 5:return n.stopRackAlmostFullAnimation(),r=this.latestMagicData,a=r.boardMagicTileViewsByIcon,i=r.rackMagicTileViewsByIcon,s=P()(t=[]).call(t,a,i),o=n.mover,this.setInputEnabled(!1),this.wieldAsyncState="playing",a.forEach((function(e){e.setUncovered(),e.refresh()})),e.next=14,o.performMagicAsync(this.latestMagicData);case 14:this.wieldAsyncState="ready",s.forEach((function(e){e.isMatched3()||(e.setMatched3(),n.increaseMatched3TileViewCount(1),n.tilePool.hideTileView(e))})),n.removeTileViewsFromMoveStack(s),this.setInputEnabled(!0),n.canWin()?n.win():n.tryWarningRackIsAlmostFull();case 19:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.setInputEnabled=function(e){this.scene.setGlobalSceneInputEnabled(e),this.scene.gameManager.enableBoardTileViewClick(e)},e}(),bs=ks;function Es(e,t){var n="undefined"!==typeof C()&&L()(e)||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){var n;if(!e)return;if("string"===typeof e)return xs(e,t);var r=x()(n=Object.prototype.toString.call(e)).call(n,8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return w()(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xs(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function xs(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ss=function(){function e(e){this.scene=void 0,this.matched3TileViewCount=0,this.state="playing",this.scene=e}var t=e.prototype;return t.init=function(){this.matched3TileViewCount=0,this.state="playing"},t.increaseMatched3TileViewCount=function(e){this.matched3TileViewCount+=e},t.getRemainingCountToWin=function(){return this.scene.gameManager.levelDataManager.getLevelTileCount()-this.matched3TileViewCount},t.canWin=function(){var e=this.scene.gameManager.levelDataManager.getLevelTileCount();return this.matched3TileViewCount>=e},t.canLose=function(){var e=this.scene.gameManager.rack;return e.isFull()&&!e.isMatching3()},t.willLose=function(){var e=this.scene.gameManager.rack;if(!e.isFull())return!1;for(var t,n={},r=Es(e.tileViews);!(t=r()).done;){var a=t.value.tileModel.icon;n[a]||(n[a]=0),n[a]++}return Math.max.apply(Math,xr()(n))<3},t.switchToWin=function(){this.state="win"},t.switchToLose=function(){this.state="lose"},t.switchToPlaying=function(){this.state="playing"},t.isPlaying=function(){return"playing"===this.state},t.isLosing=function(){return"lose"===this.state},e}(),ws=Ss,As=function(){function e(e){this.scene=void 0,this.tileViews=[],this.scene=e}var t=e.prototype;return t.spawnTileView=function(e){var t,n,r=B()(t=this.tileViews).call(t,(function(e){return!e.active}));if(r)(n=r).setTileModel(e),n.setCluster(void 0),n.resetProperty();else{var a=new ki(this.scene,e);this.tileViews.push(a),n=a}return n.addPointerEventListeners(),n},t.hideTileView=function(e){var t;e.kill(),null==(t=e.parentContainer)||t.remove(e),e.removePointerEventListeners(),this.tileViews.some((function(t){return t===e}))||this.tileViews.push(e)},e}(),Cs=As,Ts=Na.Z.GAMEPLAY_COLORFUL,Ls=Ts.KEY,Is=Ts.FRAME,Ps=function(e){function t(t){var n;return(n=e.call(this,t)||this).scene=void 0,n.bg=void 0,n.slotImages=[],n.scene=t,n.setSize(375,52),n.createBg(),n.createSlots(),n}(0,o.Z)(t,e);var n=t.prototype;return n.createBg=function(){var e=this.scene.make.image({key:Ls,frame:Is.TILE_CONTAINER});e.setSizeBasedOnDpr(),this.add(e),this.bg=e},n.createSlots=function(){var e=t.SLOT_DISTANCE,n=t.SLOT_COUNT;t.SLOT_SIZE;this.slotImages=w()({length:n},(function(t,r){return{x:e*(r-(n-1)/2)-.4,y:-6.5}}))},n.getBackgroundWidth=function(){return this.bg.displayWidth},(0,le.Z)(t,[{key:"availableSlotCount",get:function(){return t.SLOT_COUNT}}]),t}(Phaser.GameObjects.Container);Ps.SLOT_DISTANCE=49.6,Ps.SLOT_COUNT=7,Ps.SLOT_SIZE=48;var _s=Ps,Bs=Na.Z.GAMEPLAY_COLORFUL,Os=Bs.KEY,Rs=Bs.FRAME,Ms=209.5,Ns=function(e){function t(t){var n;return(n=e.call(this,t)||this).slices=[],n.middleSliceCropWidth=void 0,n.createSlices(),n.updateSize(),n}(0,o.Z)(t,e);var n=t.prototype;return n.createSlices=function(){var e=this,t=w()({length:4},(function(){var t=e.scene.make.image({key:Os,frame:Rs.TILE_CONTAINER});return t.setSizeBasedOnDpr(),t}));this.add(t);var n=t[0],r=t[1],a=t[2],i=t[3],s=i.width-Ms,o=49.5,c=n.height;this.setSliceCrop(n,0,0,160,c),this.setSliceCrop(i,Ms,0,s,c),this.setSliceCrop(r,160,0,o,c),this.setSliceCrop(a,160,0,o,c),a.setX(o),i.setX(o),t.forEach((function(e){e.x-=24.75})),this.slices=t,this.middleSliceCropWidth=o},n.updateSize=function(){var e=this.slices[0],t=e.displayWidth,n=e.displayHeight;this.setSize(t+this.middleSliceCropWidth,n)},n.setSliceCrop=function(e,t,n,r,a){var i=e.scaleX,s=e.scaleY;e.setCrop(t/i,n/s,r/i,a/s)},t}(Phaser.GameObjects.Container),Ds=Ns,Fs=n(442),Gs=n.n(Fs),Zs=0,Us=0,Ks=!1;function Hs(e){var t,n=window.game.storage.getState(),r=oa(n);window.game.analytics.event(sn._.MATCH_START,{game_mode:GameCore.Utils.String.toUpperCamelCase(r),level:e,level_name:"level_"+Gs()(t=GameCore.Utils.Number).call(t,e,6)}),Zs=window.performance.now()}function Ws(e){var t,n=window.game.storage.getState(),r=oa(n),a=(window.performance.now()-Zs)/1e3;window.game.analytics.event(sn._.MATCH_END,{game_mode:GameCore.Utils.String.toUpperCamelCase(r),level:e,level_name:"level_"+Gs()(t=GameCore.Utils.Number).call(t,e,6),time_played:a}),Zs=0}function Vs(e){var t,n=window.game.player.getCustomData("items"),r=window.game.storage.getState(),a=oa(r);window.game.analytics.event(sn._.LEVEL_START,{level:e,score:window.game.player.getBestScore(),shuffle:n.shuffle,undo:n.undo,magic_wand:n.magicWand,level_name:"level_"+Gs()(t=GameCore.Utils.Number).call(t,e,6),is_default_generation:!window.game.level.isLevelDynamic(e),coins:window.game.player.getCustomData("coins"),game_mode:GameCore.Utils.String.toUpperCamelCase(a)}),Us=window.performance.now()}function Ys(e){var t,n=window.game.storage.getState(),r=oa(n);window.game.analytics.event(sn._.LEVEL_STOP,{level:e,score:window.game.player.getBestScore(),level_name:"level_"+Gs()(t=GameCore.Utils.Number).call(t,e,6),is_default_generation:!window.game.level.isLevelDynamic(e),game_mode:GameCore.Utils.String.toUpperCamelCase(r)}),Us=0}function zs(e,t,n){var r,a=window.game.storage.getState(),i=oa(a),s=(window.performance.now()-Us)/1e3;window.game.analytics.event(sn._.LEVEL_END,{level:e,score:window.game.player.getBestScore(),level_name:"level_"+Gs()(r=GameCore.Utils.Number).call(r,e,6),success:t,time_played:s,is_default_generation:!window.game.level.isLevelDynamic(e),coins:window.game.player.getCustomData("coins"),moves:n,game_mode:GameCore.Utils.String.toUpperCamelCase(i)}),Us=0}function js(){Ks||(Ks=!0,window.game.analytics.event(sn._.TUTORIAL_BEGIN))}function Xs(){Ks&&(Ks=!1,window.game.analytics.event(sn._.TUTORIAL_COMPLETE))}function qs(e){var t=window.game.player.getCustomData("items");window.game.analytics.event(sn._.USE_ITEM,{item:e,remaining:t[e]})}function Qs(e,t,n){window.game.analytics.event(sn._.SHOW_ADS,{show_by:e,level:t,ad_type:n})}var Js,$s,eo=GameCore.Configs.Network,to=function(){var e=(0,s.Z)(d().mark((function e(t){var n,r,a,i,s,o,c;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=window,r=n.game,a=r.audio,i=r.globalScene,e.prev=2,s=i.lang.Text.Loading_ads,i.screen.open(tn.o4.NOTIFY_SCREEN,{message:s,duration:0,loading:!0}),a.pauseMusic(),a.muteAll(),e.next=9,new(u())((function(e,t){var n;null==(n=Js)||n.remove(),Js=i.time.delayedCall(eo.Timeout,t),i.ads.getAdStatus(GameCore.Ads.Types.REWARDED)===GameCore.Ads.Status.LOADING?i.ads.events.once(GameCore.Ads.Events.LOADED,e):i.ads.preloadRewardedVideoAsync().then(e).catch(t)}));case 9:return o=r.level.getLevel(),Qs(t,o,"rewarded"),e.next=13,i.ads.showRewardedVideoAsync();case 13:return e.next=15,i.screen.closeAsync(tn.o4.NOTIFY_SCREEN);case 15:return e.abrupt("return",!0);case 18:if(e.prev=18,e.t0=e.catch(2),!(e.t0 instanceof Object&&GameCore.Utils.Object.hasOwn(e.t0,"code"))){e.next=24;break}if("USER_INPUT"!==e.t0.code){e.next=24;break}return ao(),e.abrupt("return",!1);case 24:return ro(),e.abrupt("return",!1);case 26:return e.prev=26,null==(c=Js)||c.destroy(),a.unmuteAll(),a.playMusic(),i.ads.preloadRewardedVideoAsync().catch((function(e){})),e.finish(26);case 32:case"end":return e.stop()}}),e,null,[[2,18,26,32]])})));return function(t){return e.apply(this,arguments)}}(),no=function(){var e=(0,s.Z)(d().mark((function e(t){var n,r,a,i,s,o,c;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=window,r=n.game,a=r.globalScene,i=r.audio,s=r.ads,e.prev=2,s.canbeShowInterstitialAd()){e.next=5;break}return e.abrupt("return",!1);case 5:return i.pauseMusic(),i.muteAll(),o=a.lang.Text.Loading_ads,a.screen.open(tn.o4.NOTIFY_SCREEN,{message:o,loading:!0}),e.next=11,new(u())((function(e,t){var n;null==(n=$s)||n.remove(),$s=a.time.delayedCall(eo.Timeout,t),a.ads.getAdStatus(GameCore.Ads.Types.INTERSTITIAL)===GameCore.Ads.Status.LOADING?a.ads.events.once(GameCore.Ads.Events.LOADED,e):a.ads.preloadInterstitialAdAsync().then(e).catch(t)}));case 11:return c=r.level.getLevel(),Qs(t,c,"interstitial"),e.next=15,s.showInterstitialAdAsync();case 15:return e.abrupt("return",!0);case 18:return e.prev=18,e.t0=e.catch(2),e.abrupt("return",!1);case 21:return e.prev=21,e.next=24,a.screen.closeAsync(tn.o4.NOTIFY_SCREEN);case 24:return s.preloadInterstitialAdAsync().catch((function(e){})),window.focus(),i.unmuteAll(),i.playMusic(),e.finish(21);case 29:case"end":return e.stop()}}),e,null,[[2,18,21,29]])})));return function(t){return e.apply(this,arguments)}}(),ro=function(e){if(!e||e.name===tn.o4.NOTIFY_SCREEN){var t=window.game.globalScene,n=t.lang.Text.No_ads_to_display;t.screen.open(tn.o4.NOTIFY_SCREEN,{message:n,duration:2e3,loading:!1})}},ao=function(){var e=window.game.globalScene,t=e.lang.Text.Sorry_No_Reward;e.screen.open(tn.o4.NOTIFY_SCREEN,{message:t,duration:3e3,loading:!1})},io=n(595),so={NMM_HOME:"NMM_HOME",NMM_REPLAY:"NMM_REPLAY",NMM_ONE_MORE_CHANCE:"NMM_ONE_MORE_CHANCE",DB_SETTING:"DB_SETTING",DB_THEME:"DB_THEME",DB_TOURNAMENT:"DB_TOURNAMENT",DB_LEVEL:"DB_LEVEL",DB_DAILY_CHALLENGE:"DB_DAILY_CHALLENGE",DB_PLAY_WITH_FRIEND:"DB_PLAY_WITH_FRIEND",DB_GIFT:"DB_GIFT",DB_LEADERBOARD:"DB_LEADERBOARD",DB_SHOP:"DB_SHOP",ITEM_UNDO:"ITEM_UNDO",ITEM_MAGIC_WAND:"ITEM_MAGIC_WAND",ITEM_SHUFFLE:"ITEM_SHUFFLE",RW_WATCH_AD:"RW_WATCH_AD",RW_CLOSE:"RW_CLOSE",RW_BG:"RW_BG",RESULT_LEVEL:"RESULT_LEVEL",RESULT_COLLECT:"RESULT_COLLECT",SETTINGS_MUSIC:"SETTINGS_MUSIC",SETTINGS_SOUND:"SETTINGS_SOUND",SETTINGS_VIBRATION:"SETTINGS_VIBRATION",SETTINGS_INVITE:"SETTINGS_INVITE",SETTINGS_FANPAGE:"SETTINGS_FANPAGE",SETTINGS_BG:"SETTINGS_BG",SETTINGS_CLOSE:"SETTINGS_CLOSE",SHOP_ADS:"SHOP_ADS",SHOP_IAP:"SHOP_IAP",TUT_OK:"TUT_OK",EXTRA_SLOT_BTN:"EXTRA_SLOT_BTN",GP_BACK:"GP_BACK",GP_SETTINGS:"GP_SETTINGS",SHOP_BACK:"SHOP_BACK",MAP_BACK:"MAP_BACK",DAILY_CHALLENGE_BACK:"DAILY_CHALLENGE_BACK",RESULT_CHALLENGE_NEW_GAME:"RESULT_CHALLENGE_NEW_GAME",RESULT_CHALLENGE_BG:"RESULT_CHALLENGE_BG",TOURNAMENT_BACK:"TOURNAMENT_BACK",WORLD_TOURNAMENT_BG:"WORLD_TOURNAMENT_BG",WORLD_TOURNAMENT_SHARE:"WORLD_TOURNAMENT_SHARE"},oo=n(126),co=n.n(oo),uo=Na.Z.GAMEPLAY,lo=uo.KEY,ho=uo.FRAME,po=function(e){function t(t){var n;return(n=e.call(this,t,lo,ho.BLANK,40,30)||this).plusIcon=void 0,n.originalPlusIconScale=void 0,n.scaleDownTween=void 0,n.button.setAlpha(0),n.createPlusIcon(),n.setName(so.EXTRA_SLOT_BTN),n}(0,o.Z)(t,e);var n=t.prototype;return n.init=function(){var e;null==(e=this.scaleDownTween)||e.remove(),this.plusIcon.setScale(this.originalPlusIconScale)},n.playScaleDownIconAnimation=function(){var e=(0,s.Z)(d().mark((function e(){var t;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null==(t=this.scaleDownTween)||t.remove(),this.plusIcon.setScale(this.originalPlusIconScale),this.scaleDownTween=this.scene.tweens.add({targets:this.plusIcon,duration:500,props:{scale:{value:0,ease:co()(.15,-.24,.66,-.56)}}}),e.abrupt("return",this.scaleDownTween.waitForCompletion());case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.createPlusIcon=function(){var e=this.scene.make.image({key:lo,frame:ho.RACK_PLUS});e.setSizeBasedOnDpr(),this.add(e),this.plusIcon=e,this.originalPlusIconScale=e.scale},t}(io.Z),fo=po,mo=.85,go=function(e){function t(t){var n;return(n=e.call(this,t)||this).scene=void 0,n.slotImages=[],n.plusButton=void 0,n.adIcon=void 0,n.isLastSlotUnlocked=!1,n.isTryingToUnlockLastSlot=!1,n.background=void 0,n.handlePlusButtonClick=function(){n.tryToUnlockLastSlot()},n.scene=t,n.setSize(375,52),n.createBackground(),n.createSlots(),n.createPlusButton(),n.createAdIcon(),n}(0,o.Z)(t,e);var n=t.prototype;return n.init=function(){this.isLastSlotUnlocked=!1,this.plusButton.init(),this.plusButton.revive(),this.adIcon.revive(),this.isTryingToUnlockLastSlot=!1},n.createBackground=function(){var e=new Ds(this.scene);this.add(e),e.setScale(mo),this.background=e},n.createSlots=function(){var e=t.SLOT_DISTANCE,n=t.SLOT_COUNT;this.slotImages=w()({length:n},(function(t,r){return{x:e*(r-(n-1)/2)-.4,y:-7.5}}))},n.createPlusButton=function(){var e=new fo(this.scene);this.add(e);var t=this.slotImages[this.slotImages.length-1].x;e.setPosition(t,-3),e.onClick=this.handlePlusButtonClick,this.plusButton=e},n.createAdIcon=function(){var e=Na.Z.GAMEPLAY,t=e.KEY,n=e.FRAME,r=this.scene.make.image({key:t,frame:n.RACK_ICON_AD});r.setSizeBasedOnDpr(),this.add(r),Phaser.Display.Align.In.BottomRight(r,this,-7,-7),this.adIcon=r},n.playAnimationUnlockExtraSlot=function(){var e=(0,s.Z)(d().mark((function e(){var t,n,r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.plusButton.getWorldPosition(),n=t.x,r=t.y,this.scene.gameplayParticleHandler.starMoveToCenter.createPath(n,r),this.scene.gameplayParticleHandler.starMoveToCenter.playAnimationMoveToCenter(),e.next=5,this.plusButton.playScaleDownIconAnimation();case 5:return this.scene.audio.playSound(nn.Z.MATCH_1,{volume:2}),e.next=8,this.scene.gameManager.rack.playTweenScaleUp();case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.tryToUnlockLastSlot=function(){var e=(0,s.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isLastSlotUnlocked){e.next=2;break}return e.abrupt("return");case 2:if(!this.isTryingToUnlockLastSlot){e.next=4;break}return e.abrupt("return");case 4:return this.isTryingToUnlockLastSlot=!0,this.scene.setGlobalSceneInputEnabled(!1),e.next=8,this.scene.gameManager.rack.playScaleToNormalAnimation();case 8:return e.next=10,to(this.name);case 10:if(!e.sent){e.next=19;break}return this.isLastSlotUnlocked=!0,this.scene.gameManager.tryWarningRackIsAlmostFull(),this.adIcon.kill(),this.scene.audio.playSound(nn.Z.EXTRA_SLOT,{volume:2}),e.next=18,this.playAnimationUnlockExtraSlot();case 18:this.plusButton.kill();case 19:this.scene.setGlobalSceneInputEnabled(!0),this.isTryingToUnlockLastSlot=!1;case 21:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.getBackgroundWidth=function(){return this.background.displayWidth},(0,le.Z)(t,[{key:"availableSlotCount",get:function(){var e=t.SLOT_COUNT;return this.isLastSlotUnlocked?e:e-1}}]),t}(Phaser.GameObjects.Container);go.SLOT_DISTANCE=_s.SLOT_DISTANCE*mo,go.SLOT_COUNT=8,go.SLOT_SIZE=_s.SLOT_SIZE*mo;var vo=go,yo=[nn.Z.MATCH_1,nn.Z.MATCH_2,nn.Z.MATCH_3,nn.Z.MATCH_4,nn.Z.MATCH_5],ko=-1,bo=function(){function e(e){this.parent=void 0,this.removed=!1,this.parent=e}var t=e.prototype;return t.remove=function(){this.removed=!0},t.playAnimation=function(){var e=(0,s.Z)(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.playFadeOutAnimation(t);case 2:this.remove();case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.playFadeOutAnimation=function(){var e=(0,s.Z)(d().mark((function e(t){var n,r=this;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.removed){e.next=2;break}return e.abrupt("return");case 2:return ko=(ko+1)%2,n=De()(t).call(t,function(){var e=(0,s.Z)(d().mark((function e(t,n){var a,i,s;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.parentContainer.bringToTop(t),n&&r.parent.segment.scene.audio.playSound(yo[ko+n]),e.next=4,t.runAnimationDestroy(100*n);case 4:t.kill(),a=t.getWorldPosition(),i=a.x,s=a.y,r.parent.segment.scene.gameplayParticleHandler.tileMatchVFX.show(i,s);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.next=6,u().all(n);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),e}(),Eo=bo,xo=function(){function e(e){this.parent=void 0,this.tweens=[],this.removed=!1,this.parent=e}var t=e.prototype;return t.remove=function(){this.removed=!0,this.tweens.forEach((function(e){return e.remove()})),this.tweens=[]},t.playAnimation=function(){var e=(0,s.Z)(d().mark((function e(t){var n,r,a,i,s,o,c;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t[0],r=x()(t).call(t,1),a=n.x,n.parentContainer.bringToTop(n),e.next=5,u().all([this.playJumpingAnimation(n),this.playSlidingAnimation(r,a)]);case 5:return this.parent.segment.scene.audio.playSound(nn.Z.MATCH_1),this.parent.segment.scene.audio.playSound(nn.Z.MATCH_2),this.parent.segment.scene.audio.playSound(nn.Z.MATCH_3),this.parent.segment.scene.audio.playSound(nn.Z.MATCH_4),this.parent.segment.scene.audio.playSound(nn.Z.MATCH_5),e.next=12,this.playFadeOutAnimation(t);case 12:for(this.remove(),i=0;i<t.length;i++)s=t[i].getWorldPosition(),o=s.x,c=s.y,this.parent.segment.scene.gameplayParticleHandler.tileMatchVFX.show(o,c);case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.playJumpingAnimation=function(){var e=(0,s.Z)(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",u().all([this.playRotatingAnimation(t),this.playVerticalMovingAnimation(t)]));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.playRotatingAnimation=function(){var e=(0,s.Z)(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.playTweenAsync({targets:t,duration:378,props:{angle:360},ease:Phaser.Math.Easing.Quadratic.Out});case 2:t.setAngle(0);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.playVerticalMovingAnimation=function(){var e=(0,s.Z)(d().mark((function e(t){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.y,e.next=3,this.playMovingUpAnimation(t);case 3:return e.next=5,this.playMovingDownAnimation(t,n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.playMovingUpAnimation=function(){var e=(0,s.Z)(d().mark((function e(t){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=3*t.displayHeight,e.abrupt("return",this.playTweenAsync({targets:t,ease:Phaser.Math.Easing.Quadratic.Out,duration:336,props:{y:-n}}));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.playMovingDownAnimation=function(){var e=(0,s.Z)(d().mark((function e(t,n){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.playTweenAsync({targets:t,ease:Phaser.Math.Easing.Quadratic.In,duration:260,props:{y:n}}));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),t.playSlidingAnimation=function(){var e=(0,s.Z)(d().mark((function e(t,n){var r,a,i,s,o=this;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=De()(t).call(t,(function(e,t){var n=1===t?0:39,r=221-n;return o.playMovingRightAnimation(e,n,r)})),e.next=3,u().all(P()(r=[]).call(r,i,[this.playMultipleScaleXIncreasingAnimation(t)]));case 3:return s=De()(t).call(t,(function(e,t){var r=39*t,a=467-r;return o.playMovingLeftAnimation(e,r,a,n)})),e.next=6,u().all(P()(a=[]).call(a,s,[this.playMultipleScaleXDecreasingAnimation(t)]));case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),t.playMultipleScaleXIncreasingAnimation=function(){var e=(0,s.Z)(d().mark((function e(t){var n=this;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",u().all(De()(t).call(t,(function(e){return n.playScaleXIncreasingAnimation(e)}))));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.playScaleXIncreasingAnimation=function(){var e=(0,s.Z)(d().mark((function e(t){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.scaleX,e.abrupt("return",this.playTweenAsync({targets:t,duration:144,props:{scaleX:1.2*n}}));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.playMultipleScaleXDecreasingAnimation=function(){var e=(0,s.Z)(d().mark((function e(t){var n=this;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",u().all(De()(t).call(t,(function(e){return n.playScaleXDecreasingAnimation(e)}))));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.playScaleXDecreasingAnimation=function(){var e=(0,s.Z)(d().mark((function e(t){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.scaleX,e.abrupt("return",this.playTweenAsync({targets:t,duration:84,props:{scaleX:n/1.2}}));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.playMovingRightAnimation=function(){var e=(0,s.Z)(d().mark((function e(t,n,r){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.playTweenAsync({targets:t,delay:n,duration:r,ease:Phaser.Math.Easing.Cubic.Out,props:{x:t.x+30}}));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}(),t.playMovingLeftAnimation=function(){var e=(0,s.Z)(d().mark((function e(t,n,r,a){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.playTweenAsync({targets:t,ease:Phaser.Math.Easing.Cubic.Out,delay:n,duration:r,props:{x:a}}));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),t.playFadeOutAnimation=function(){var e=(0,s.Z)(d().mark((function e(t){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.removed){e.next=2;break}return e.abrupt("return");case 2:return n=De()(t).call(t,(function(e){return e.runAnimationDestroy(0)})),e.next=5,u().all(n);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.playTweenAsync=function(){var e=(0,s.Z)(d().mark((function e(t){var n=this;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.removed){e.next=2;break}return e.abrupt("return");case 2:return e.abrupt("return",new(u())((function(e){var r=n.parent.segment.scene.add.tween((0,i.Z)({},t,{onComplete:function(){e()}}));n.tweens.push(r)})));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),e}(),So=xo,wo=function(){function e(e){this.segment=void 0,this.normalSubAnimator=void 0,this.specialSubAnimator=void 0,this.segment=e,this.normalSubAnimator=new Eo(this),this.specialSubAnimator=new So(this)}var t=e.prototype;return t.playNormalAnimation=function(){var e=(0,s.Z)(d().mark((function e(){var t;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.getTileViews(),e.abrupt("return",this.normalSubAnimator.playAnimation(t));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.playSpecialAnimation=function(){var e=(0,s.Z)(d().mark((function e(){var t;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.getTileViews(),e.abrupt("return",this.specialSubAnimator.playAnimation(t));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.remove=function(){this.normalSubAnimator.remove(),this.specialSubAnimator.remove()},t.getTileViews=function(){var e;return De()(e=this.segment.tileViewRackPayloads).call(e,(function(e){return e.tileView}))},e}(),Ao=wo,Co=function(){function e(e){this.segment=void 0,this.segment=e}var t=e.prototype;return t.addSlideFallTween=function(e){var t=this,n=e.targets,r=e.props,a=e.onComplete,i=[30,-3,3,0];n.x<r.x&&(i=[-30,3,-3,0]);var o=this.segment.scene.tweens.createTimeline();return o.add({targets:n,duration:200,props:{x:r.x,y:r.y,scale:r.scale},ease:Phaser.Math.Easing.Quartic.Out}),o.on(Phaser.Tweens.Events.TIMELINE_START,(0,s.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.segment.scene.tweens.add({targets:n,duration:50,angle:{getEnd:function(){return i[0]}},ease:Phaser.Math.Easing.Quartic.Out}).waitForCompletion();case 2:return e.next=4,t.segment.scene.tweens.add({targets:n,duration:150,angle:{getEnd:function(){return i[1]}},ease:Phaser.Math.Easing.Quartic.Out}).waitForCompletion();case 4:case"end":return e.stop()}}),e)})))),o.on(Phaser.Tweens.Events.TIMELINE_COMPLETE,(function(){a(),t.segment.scene.tweens.add({targets:n,duration:30,props:{angle:i[2]}}),t.segment.scene.tweens.add({targets:n,delay:30,duration:30,props:{angle:i[3]}})})),o.play(),o},t.addNormalFallTween=function(e){return e.targets.tileModel.clusterId===_a?this.playReturnClusterCurveFallTween(e):this.playNormalClusterFallTween(e)},t.playNormalClusterFallTween=function(e){var t=this,n=e.targets,r=e.props,a=e.onComplete;e.targets.swapPropsWithChild();var i=140*Math.abs(1.5-e.targets.scale)/.5,o=Phaser.Math.Clamp(i,0,140),c=[30,-3,3,0];n.x<r.x&&(c=[-30,3,-3,0]);var u=this.segment.scene.tweens.createTimeline();return u.add({targets:n,duration:o,props:{scaleX:1.5,scaleY:1.5},ease:Phaser.Math.Easing.Cubic.Out,onComplete:function(){var e=(0,s.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.segment.scene.tweens.add({targets:n,duration:50,angle:{getEnd:function(){return c[0]}},ease:Phaser.Math.Easing.Quartic.Out}).waitForCompletion();case 2:return e.next=4,t.segment.scene.tweens.add({targets:n,duration:150,angle:{getEnd:function(){return c[1]}},ease:Phaser.Math.Easing.Quartic.Out}).waitForCompletion();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}),u.add({targets:n,duration:200,props:{x:r.x,y:r.y,scale:r.scale},ease:Phaser.Math.Easing.Quartic.Out}),u.on(Phaser.Tweens.Events.TIMELINE_COMPLETE,(function(){a(),n.resetHitAreaScale(),t.segment.scene.tweens.add({targets:n,duration:30,props:{angle:c[2]}}),t.segment.scene.tweens.add({targets:n,delay:30,duration:30,props:{angle:c[3]}})})),u.play(),u},t.playReturnClusterCurveFallTween=function(e){var t=e.targets,n=e.props,r=e.onComplete;return e.targets.swapPropsWithChild(),this.segment.scene.add.tween({targets:t,duration:250,props:{x:{from:t.x,to:n.x,ease:Phaser.Math.Easing.Quartic.In},y:{from:t.y,to:n.y,ease:Phaser.Math.Easing.Back.In},scale:n.scale,angle:0},onComplete:function(){r(),t.resetHitAreaScale()}})},e}(),To=Co,Lo=function(e){function t(t,n){var r;return(r=e.call(this)||this).gameManager=void 0,r.icon=void 0,r.tileViewRackPayloads=[],r.match3State="none",r.onCompleteAddTileView=void 0,r.match3Animator=new Ao((0,Ca.Z)(r)),r.fallAnimator=new To((0,Ca.Z)(r)),r.gameManager=t,r.icon=n,r}(0,o.Z)(t,e);var n=t.prototype;return n.isEmpty=function(){return 0===this.tileViewRackPayloads.length},n.isPlayingTweens=function(){return!!this.isMatching3()||this.tileViewRackPayloads.some((function(e){var t=e.moveData;return"fall"===(null==t?void 0:t.type)||"slide"===(null==t?void 0:t.type)}))},n.isMatching3=function(){return"playing"===this.match3State||"ready"===this.match3State},n.canAddTileView=function(e){var t=e.tileModel;return!!t&&(this.icon===t.icon&&"none"===this.match3State)},n.addTileView=function(e,t,n){var r=this.tileViewRackPayloads,a={tileView:e,slotIdx:t,isFallCompleted:!1};r.push(a),3===r.length&&(this.match3State="ready"),this.scene.audio.playSound(nn.Z.TILE_TAP),this.onCompleteAddTileView=n,this.updateNewFallData(!1,a)},n.getRightMostPayload=function(){var e=this.tileViewRackPayloads;if(0!==e.length)return e[e.length-1]},n.getLeftMostPayload=function(){return this.tileViewRackPayloads[0]},n.updateNewFallData=function(e,t){var n,r=this,a=t.tileView,i=t.slotIdx,s=this.gameManager.rack;null==(n=t.moveData)||n.tween.stop(),delete t.moveData;var o=s.getSlotPosition(i),c={targets:a,props:{x:o.x,y:o.y,scale:No.getCurTileScale()},onComplete:function(){delete t.moveData,t.isFallCompleted=!0,null==r.onCompleteAddTileView||r.onCompleteAddTileView(r)}},u=e?this.fallAnimator.addSlideFallTween(c):this.fallAnimator.addNormalFallTween(c);t.moveData={tween:u,targetSlotIdx:i,type:"fall"}},n.getCompletedFallCount=function(){var e=0;return this.tileViewRackPayloads.forEach((function(t){t.isFallCompleted&&e++})),e},n.canMatch3AfterFallCompleted=function(){return 3===this.getCompletedFallCount()},n.slideHorizontally=function(e){var t,n=this;0!==e&&this.tileViewRackPayloads.forEach((function(r,a){var i,s,o,c;if("slide"===(null==(i=r.moveData)?void 0:i.type)){var u=r.moveData,l=u.tween,d=u.targetSlotIdx;l.stop(),o=Math.max(d+e,0)}else o=Math.max(r.slotIdx+e,0);if(0===a?(c=o,t=o):c=t+a,"fall"===(null==(s=r.moveData)?void 0:s.type))return r.slotIdx=c,void n.updateNewFallData(!0,r);n.updateNewSlideData(r,c)}))},n.updateNewSlideData=function(e,t){var n,r=this,a=e.tileView;null==(n=e.moveData)||n.tween.stop(),delete e.moveData;var i=this.gameManager.rack.getSlotPosition(t),s=this.scene.tweens.add({targets:a,duration:300,ease:Phaser.Math.Easing.Quadratic.Out,props:{x:i.x,y:i.y},onComplete:function(){e.slotIdx=t,delete e.moveData,r.emit(cs.SLIDE_COMPLETED)}});e.moveData={tween:s,targetSlotIdx:t,type:"slide"}},n.clear=function(){var e=this;this.tileViewRackPayloads.forEach((function(t){var n,r=t.tileView,a=t.moveData;null==a||null==(n=a.tween)||n.stop(),r.setMatched3(),e.scene.gameManager.tilePool.hideTileView(r)})),this.tileViewRackPayloads=[]},n.playNormalMatch3Animation=function(){return this.match3Animator.playNormalAnimation()},n.playSpecialMatch3Animation=function(){var e=(0,s.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.match3Animator.playSpecialAnimation());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.waitForSlidingCompleted=function(){var e=(0,s.Z)(d().mark((function e(){var t,n,r=this;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=De()(t=this.tileViewRackPayloads).call(t,(function(e){var t=e.moveData;return"slide"!==(null==t?void 0:t.type)?u().resolve():new(u())((function(e){r.once(cs.SLIDE_COMPLETED,e)}))})),e.abrupt("return",u().all(n));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.removeTileViewsFromPayloads=function(e){var t;this.tileViewRackPayloads=Me()(t=this.tileViewRackPayloads).call(t,(function(t){var n=t.tileView;return!y()(e).call(e,n)}))},n.remove=function(){var e=this.scene.gameManager.tilePool;this.match3Animator.remove(),this.tileViewRackPayloads.forEach((function(t){var n=t.tileView,r=t.moveData;null==r||r.tween.stop(),e.hideTileView(n)})),this.tileViewRackPayloads=[],this.destroy()},(0,le.Z)(t,[{key:"scene",get:function(){return this.gameManager.scene}}]),t}(Phaser.Events.EventEmitter),Io=Lo,Po=function(){function e(e){this.gameManager=void 0,this.segments=[],this.isRealigning=!1,this.gameManager=e}var t=e.prototype;return t.init=function(){this.segments.forEach((function(e){e.remove()})),this.segments=[],this.isRealigning=!1},t.addTileView=function(e){var t=e.tileModel;if(t){e.removePointerEventListeners();for(var n=t.icon,r=0;r<this.segments.length;r++){var a,i=this.segments[r];if(i.canAddTileView(e))return this.addTileViewToSegment(e,i),void x()(a=this.segments).call(a,r+1).forEach((function(e){e.slideHorizontally(1)}))}var s=new Io(this.gameManager,n);this.segments.push(s),this.addTileViewToSegment(e,s)}},t.addTileViewToSegment=function(e,t){var n=this.getNewSlotIdx(t);t.addTileView(e,n,this.handleNewSegmentFallCompleted.bind(this)),this.gameManager.canLose()&&this.gameManager.enableBoardTileViewClick(!1)},t.getNewSlotIdx=function(e){var t=e.getRightMostPayload();if(t)return this.getCorrectSlotIdx(t)+1;var n=this.getLeftSegment(e);if(!n)return 0;var r=n.getRightMostPayload();return r?this.getCorrectSlotIdx(r)+1:0},t.getCorrectSlotIdx=function(e){var t=e.slotIdx,n=e.moveData;return n?n.targetSlotIdx:t},t.removeTileViews=function(e){var t;0!==e.length&&(this.segments.forEach((function(t){t.removeTileViewsFromPayloads(e)})),this.segments=Me()(t=this.segments).call(t,(function(e){return!e.isEmpty()})))},t.isPlayingTweens=function(){return!!this.isRealigning||this.segments.some((function(e){return e.isPlayingTweens()}))},t.isMatching3=function(){return this.segments.some((function(e){return e.isMatching3()}))},t.playRealignAnimationAsync=function(){var e=(0,s.Z)(d().mark((function e(){var t,n,r=this;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.isRealigning=!0,t=0,n=[],this.segments.forEach((function(e){e.tileViewRackPayloads.forEach((function(e){var a,i=r.gameManager.rack.getSlotPosition(t);null==(a=e.moveData)||null==(a=a.tween)||a.stop(),delete e.moveData,e.slotIdx=t;var s=r.moveTileViewToPosition(e.tileView,i);n.push(s),t++}))})),e.next=6,u().all(n);case 6:this.isRealigning=!1;case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.moveTileViewToPosition=function(){var e=(0,s.Z)(d().mark((function e(t,n){var r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.gameManager.scene.add.tween({targets:t,duration:200,ease:Phaser.Math.Easing.Quadratic.InOut,props:{x:n.x,y:n.y}}),e.abrupt("return",r.waitForCompletion());case 2:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),t.getLeftSegment=function(e){var t,n=Ht()(t=this.segments).call(t,e);if(-1!==n)return this.segments[n-1]},t.getRightSegments=function(e){var t,n,r=Ht()(t=this.segments).call(t,e);return-1===r?[]:x()(n=this.segments).call(n,r+1)},t.removeSegment=function(e){var t,n,r=Ht()(t=this.segments).call(t,e);-1!==r&&Ia()(n=this.segments).call(n,r,1)},t.setRackJustMatched3=function(e){this.gameManager.rack.justMatched3=e},t.handleNewSegmentFallCompleted=function(){var e=(0,s.Z)(d().mark((function e(t){var n,r,a,i,s,o,c,u;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.canMatch3AfterFallCompleted()){e.next=6;break}return this.setRackJustMatched3(!1),this.gameManager.updateFooterItems(),this.gameManager.tryEndGame(),this.gameManager.tryWarningRackIsAlmostFull(),e.abrupt("return");case 6:if(this.setRackJustMatched3(!0),this.gameManager.increaseMatched3TileViewCount(3),a=0===this.gameManager.getRemainingCountToWin(),t.match3State="playing",!a){e.next=17;break}return e.next=13,this.prepareSpecialMatch3Animation(t);case 13:return e.next=15,t.playSpecialMatch3Animation();case 15:e.next=19;break;case 17:return e.next=19,t.playNormalMatch3Animation();case 19:i=De()(n=t.tileViewRackPayloads).call(n,(function(e){return e.tileView})),t.clear(),t.match3State="done",this.gameManager.removeTileViewsFromMoveStack(i),this.gameManager.updateFooterItems(),this.gameManager.tryEndGame(),s=this.getRightSegments(t),o=this.getLeftSegment(t),this.removeSegment(t),this.slideSegmentsToTheLeft(o,s),t.emit(cs.MATCH_3_COMPLETED),i.forEach((function(e){e.emit(cs.MATCH_3_COMPLETED)})),c=this.gameManager.scene.storage.getState(),u=oa(c),y()(r=[aa,na]).call(r,u)&&this.gameManager.scene.header.updateScoreWhenMatch3InModeSocial();case 34:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.prepareSpecialMatch3Animation=function(){var e=(0,s.Z)(d().mark((function e(t){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==(n=this.getLeftSegment(t))||!n.isMatching3()){e.next=4;break}return e.next=4,new(u())((function(e){n.once(cs.MATCH_3_COMPLETED,e)}));case 4:return e.next=6,(0,ai.Z)(this.gameManager.scene,0);case 6:return e.next=8,t.waitForSlidingCompleted();case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.slideSegmentsToTheLeft=function(e,t){if(0!==t.length){var n=t[0],r=-(this.getEndSlotIdx(n,"leftEnd")-this.getEndSlotIdx(e,"rightEnd")-1);t.forEach((function(e){e.slideHorizontally(r)}))}},t.getEndSlotIdx=function(e,t){if(!e)return-1;var n="leftEnd"===t?e.getLeftMostPayload():e.getRightMostPayload();return n?this.getCorrectSlotIdx(n):-1},(0,le.Z)(e,[{key:"tileViews",get:function(){var e=[];return this.segments.forEach((function(t){t.tileViewRackPayloads.forEach((function(t){var n=t.tileView;e.push(n)}))})),e}},{key:"tileViewCount",get:function(){var e=0;return this.segments.forEach((function(t){var n=t.tileViewRackPayloads;e+=n.length})),e}}]),e}(),_o=Po,Bo=Math.abs(1.05-1)/300,Oo=function(){function e(e){var t=this;this.rack=void 0,this.timeEvent=void 0,this.scaleTween=void 0,this.timeEventCallback=function(){var e;null==(e=t.scaleTween)||e.remove(),t.scaleTween=t.rack.scene.add.tween({targets:t.rack,duration:300,ease:Phaser.Math.Easing.Cubic.Out,props:{scale:{from:1,to:1.05}},yoyo:!0,repeat:1})},this.rack=e}var t=e.prototype;return t.playAlmostFullAnimator=function(){var e,t;null==(e=this.timeEvent)||e.remove(),null==(t=this.scaleTween)||t.remove(),this.timeEvent=this.rack.scene.time.addEvent({delay:3200,loop:!0,callback:this.timeEventCallback})},t.playScaleToNormalAnimation=function(){var e=(0,s.Z)(d().mark((function e(){var t,n,r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==(t=this.timeEvent)||t.remove(),null==(n=this.scaleTween)||n.remove(),1!==this.rack.scale){e.next=4;break}return e.abrupt("return");case 4:return r=Phaser.Math.Clamp(Math.abs(this.rack.scale-1)/Bo,0,100),this.scaleTween=this.rack.scene.add.tween({targets:this.rack,duration:r,ease:Phaser.Math.Easing.Cubic.Out,props:{scale:1}}),e.abrupt("return",this.scaleTween.waitForCompletion());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.destroy=function(){var e,t;null==(e=this.timeEvent)||e.remove(),null==(t=this.scaleTween)||t.remove(),this.rack.setScale(1)},e}(),Ro=Oo,Mo=function(e){function t(t){var n;return(n=e.call(this,t)||this).scene=void 0,n.normalSlotGroup=void 0,n.extraSlotGroup=void 0,n.segmentManager=void 0,n.justMatched3=!1,n.slotGroupType=void 0,n.switchToExtraSlotGroupTween=void 0,n.almostFullAnimator=new Ro((0,Ca.Z)(n)),n.scene=t,n.setSize(375,52),n.createNormalSlotGroup(),n.createExtraRackSlotGroup(),n.createSegmentManager(),n.setSlotGroupType("normal"),n}(0,o.Z)(t,e);var n=t.prototype;return n.prepareFadeIn=function(){this.normalSlotGroup.setAlpha(0),this.extraSlotGroup.setAlpha(0),this.tileViews.forEach((function(e){e.revive(),e.setScale(0)})),this.stopAlmostFullAnimation()},n.fadeIn=function(){var e=(0,s.Z)(d().mark((function e(){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[Ya([this.normalSlotGroup,this.extraSlotGroup],500,300)],this.isEmpty()||n.push(ei(this.tileViews,150,1200,t.getCurTileScale())),e.abrupt("return",u().all(n));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.prepareFadeOut=function(){this.tileViews.forEach((function(e){e.kill()})),this.stopAlmostFullAnimation()},n.fadeOut=function(){var e=(0,s.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ja([this.normalSlotGroup,this.extraSlotGroup],400,0));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.getCurTileScale=function(){return this.slotSize/ki.TILE_SIZE},n.isPlayingLogicalTweens=function(){var e;return!!this.segmentManager.isPlayingTweens()||!(null==(e=this.switchToExtraSlotGroupTween)||!e.isPlaying())},n.isMatching3=function(){return this.segmentManager.isMatching3()},n.createNormalSlotGroup=function(){var e=new _s(this.scene);e.kill(),this.add(e),this.normalSlotGroup=e},n.createExtraRackSlotGroup=function(){var e=new vo(this.scene);e.kill(),this.add(e),this.extraSlotGroup=e},n.createSegmentManager=function(){this.segmentManager=new _o(this.scene.gameManager)},n.setSlotGroupType=function(){var e=(0,s.Z)(d().mark((function e(t){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.slotGroupType!==t){e.next=2;break}return e.abrupt("return");case 2:return n=this.slotGroupType,this.slotGroupType=t,e.abrupt("return",this.handleSlotGroupTypeChange(n,t));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),n.handleSlotGroupTypeChange=function(){var e=(0,s.Z)(d().mark((function e(n,r){var a,i,s,o=this;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null==(a=this.switchToExtraSlotGroupTween)||a.remove(),i=!1,e.t0=r,e.next="normal"===e.t0?5:"extra"===e.t0?11:17;break;case 5:return this.normalSlotGroup.revive(),this.extraSlotGroup.kill(),this.normalSlotGroup.setY(2),this.extraSlotGroup.setY(5),t.slotSize=_s.SLOT_SIZE,e.abrupt("break",17);case 11:return this.extraSlotGroup.revive(),this.normalSlotGroup.kill(),this.normalSlotGroup.setY(2),t.slotSize=vo.SLOT_SIZE,i=!0,e.abrupt("break",17);case 17:if(s=t.getCurTileScale(),this.tileViews.forEach((function(e,t){o.updateTileViewSlotIdx(e,t),e.setTileViewScale(s)})),!i){e.next=21;break}return e.abrupt("return",this.playSwitchSlotGroupTween());case 21:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),n.playSwitchSlotGroupTween=function(){var e,t,n=this;null==(e=this.switchToExtraSlotGroupTween)||e.remove();var r=P()(t=[this.slotGroup]).call(t,this.tileViews);return new(u())((function(e){n.switchToExtraSlotGroupTween=n.scene.add.tween({targets:r,duration:100,props:{y:{from:-5,to:0}},onComplete:function(){n.switchToExtraSlotGroupTween=void 0,e()}})}))},n.init=function(){this.segmentManager.init(),this.justMatched3=!1,this.almostFullAnimator.destroy(),this.setSlotGroupType("normal"),this.extraSlotGroup.init()},n.isExtra=function(){return"extra"===this.slotGroupType},n.isFull=function(){return this.segmentManager.tileViewCount>=this.availableSlotCount},n.isEmpty=function(){return 0===this.segmentManager.tileViewCount},n.isAlmostFull=function(){return this.segmentManager.tileViewCount>=this.availableSlotCount-2},n.getSlotPosition=function(e){var n=this.slotImages[e];if(n)return{x:n.x,y:n.y};var r=this.slotImages.length-1,a=this.slotImages[r];return{x:a.x+t.slotSize*(e-r),y:a.y}},n.updateTileViewSlotIdx=function(e,t){var n=this.getSlotPosition(t);e.setPosition(n.x,n.y)},n.addTileView=function(e){e.tileModel&&(this.playScaleToNormalAnimation(),this.add(e),this.segmentManager.addTileView(e),this.scene.gameManager.canLose()&&this.scene.setGlobalSceneInputEnabled(!1))},n.detachTileViews=function(e){0!==e.length&&(this.remove(e),this.segmentManager.removeTileViews(e))},n.playRealignAnimationAsync=function(){var e=(0,s.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.segmentManager.playRealignAnimationAsync());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.addExtraSlotAsync=function(){var e=(0,s.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.setSlotGroupType("extra"));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.getMagicTileViews=function(){var e={};return this.tileViews.forEach((function(t){var n=t.tileModel;if(n&&n.isCollected()){var r=n.icon;e[r]||(e[r]=[]),e[r].push(t)}})),e},n.playAlmostFullAnimation=function(){this.almostFullAnimator.playAlmostFullAnimator()},n.playScaleToNormalAnimation=function(){var e=(0,s.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.almostFullAnimator.playScaleToNormalAnimation());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.stopAlmostFullAnimation=function(){this.almostFullAnimator.destroy()},n.playTweenScaleUp=function(){var e=(0,s.Z)(d().mark((function e(){var t,n,r,a,i,s;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Da(this.scene,{targets:this,props:{scale:1.1},duration:150,ease:Phaser.Math.Easing.Quadratic.In});case 2:return e.next=4,Da(this.scene,{targets:this,props:{scale:.95},duration:150,ease:Phaser.Math.Easing.Quadratic.Out});case 4:return t=this.extraSlotGroup,n=t.displayWidth,r=t.displayHeight,a=this.getWorldPosition(),i=a.x,s=a.y,this.scene.gameplayParticleHandler.unlockExtraSlotVFX.show(i,s,n,r),e.abrupt("return",Da(this.scene,{targets:this,props:{scale:1},duration:150,ease:Phaser.Math.Easing.Quadratic.In}));case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),(0,le.Z)(t,[{key:"tileViews",get:function(){return this.segmentManager.tileViews}},{key:"slotGroup",get:function(){return"extra"===this.slotGroupType?this.extraSlotGroup:this.normalSlotGroup}},{key:"slotImages",get:function(){return this.slotGroup.slotImages}},{key:"availableSlotCount",get:function(){return this.slotGroup.availableSlotCount}}]),t}(Phaser.GameObjects.Container);Mo.slotSize=_s.SLOT_SIZE;var No=Mo,Do=function(){function e(e){this.scene=void 0,this.returnAsyncState="ready",this.scene=e}var t=e.prototype;return t.init=function(){var e;this.returnAsyncState="ready",null==(e=this.scene.footer.returnItem)||e.softDisableItem()},t.canReturn=function(){if("playing"===this.returnAsyncState)return!1;var e=this.scene.gameManager.rack;return!e.isEmpty()&&!e.tileViews.some((function(e){return e.isMatched3()}))},t.updateReturnItem=function(){var e=this.scene.footer.returnItem;this.canReturn()?null==e||e.enableItem():null==e||e.softDisableItem()},t.getRandomTileViewsFromRack=function(){var e=this.scene.gameManager.rack.tileViews;return Ei.pickRandomElements(e,3)},t.returnAsync=function(){var e=(0,s.Z)(d().mark((function e(){var t,n,r,a,i,s,o,c,u;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this.scene.gameManager).isRackPlayingLogicalTweens()){e.next=3;break}return e.abrupt("return");case 3:return this.scene.setGlobalSceneInputEnabled(!1),n=t.mover,r=t.board,a=t.undoManager,i=t.addExtraSlotManager,s=t.wieldMagicWandManager,o=this.getRandomTileViewsFromRack(),c=r.isReturnClusterAvailable(),a.removeTileViewsFromMoveStack(o),c||r.createReturnCluster(),u=this.getTileModelsToReturnCluster(o),this.returnAsyncState="playing",e.next=13,n.moveTileViewsRackToBoard(o,u);case 13:this.returnAsyncState="ready",this.updateReturnItem(),a.updateUndoItem(),i.updateExtraSlotItem(),s.updateMagicWandItem(),r.updateReturnClusterAlignment(),this.scene.setGlobalSceneInputEnabled(!0),o.forEach((function(e){return e.addPointerEventListeners()}));case 21:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.getTileModelsToReturnCluster=function(e){var t=[],n=this.scene.gameManager.board.getReturnCluster(),r=n.getId();return e.forEach((function(e,a){var i=e.tileModel;if(i){var s=i.id,o=i.icon,c=2+a,u=n.getNewLayerZ({x:c,y:9}),l=new bi(s,c,9,u,o,r,"uncovered");t.push(l)}})),t},e}(),Fo=Do,Go=n(196),Zo=function(){function e(e){this.scene=void 0,this.rescued=!1,this.scene=e}var t=e.prototype;return t.init=function(){},t.rescueAsync=function(){var e=(0,s.Z)(d().mark((function e(){var t,n,r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.scene.gameManager,this.scene.setGlobalSceneInputEnabled(!1),t.enableBoardTileViewClick(!1),this.setRescued(!0),n=0;case 5:if(!(n<5)){e.next=14;break}if(t.canUndo()){e.next=8;break}return e.abrupt("break",14);case 8:return r=4===n,e.next=11,t.undoAsync(r);case 11:n++,e.next=5;break;case 14:return e.next=16,t.handleClickShuffleItem();case 16:this.scene.setGlobalSceneInputEnabled(!0),t.enableBoardTileViewClick(!0);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.canShowRescueButton=function(){return!this.rescued},t.setRescued=function(e){this.rescued=e},t.getRescued=function(){return this.rescued},e}(),Uo=Zo,Ko={MOVE_TILE_TO_RACK:"move-tile-to-rack"},Ho=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).name="InvalidContextId",r.message=t||"This contextId is not valid",r.payload=n,r}return(0,o.Z)(t,e),t}((0,Z.Z)(Error)),Wo=Ho,Vo="global",Yo="friend",zo=GameCore.Configs,jo=zo.ApiHost,Xo=zo.OtherHost,qo=zo.LeadersBoard,Qo=qo.Prefix,Jo=qo.LeaderboardId,$o=qo.Name,ec=Qo+"/"+Jo+"/leaders",tc=Qo+"/"+Jo+"/players",nc=function(e){var t="";return Jo?(e===Vo?t=ec:e===Yo&&(t=tc),t):t},rc=function(){var e=(0,s.Z)(d().mark((function e(t){var n,r,a,s,o,c;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=De()(t).call(t,(function(e){return e.playerId})),a=GameCore.Utils.Object.keyBy(t,"playerId"),s=GameCore.Utils.String.params({playerIds:r}),e.next=5,(0,qe.U)("players?"+s,{},jo);case 5:return o=e.sent,c=De()(n=o.data).call(n,(function(e){var t=a[e.playerId];return(0,i.Z)({},e,{score:t.score,rank:t.rank,getScore:function(){return t.score},getFormattedScore:function(){return""},getTimestamp:function(){return(new Date).valueOf()},getRank:function(){return t.rank},getExtraData:function(){return t.extraData},getPlayer:function(){return{getName:function(){return e.name},getPhoto:function(){return e.photo},getID:function(){return e.playerId}}}})})),e.abrupt("return",c);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ac=(function(){var e=(0,s.Z)(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===t&&(t={}),null==Jo){e.next=3;break}return e.abrupt("return",ac(t));case 3:return e.abrupt("return",ic(t));case 4:case"end":return e.stop()}}),e)})))}(),function(){var e=(0,s.Z)(d().mark((function e(t){var n,r,a,i,s;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===t&&(t={}),n=[],r=nc(Vo)){e.next=5;break}return e.abrupt("return",n);case 5:return a=GameCore.Utils.String.params(t),e.next=8,(0,qe.U)(r+"?"+a,{},Xo);case 8:if(i=e.sent,!((s=(null==i?void 0:i.data)||[]).length<1)){e.next=12;break}return e.abrupt("return",n);case 12:return n=s,e.abrupt("return",rc(n));case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),ic=function(){var e=(0,s.Z)(d().mark((function e(t){var n,r,a,i,s;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===t&&(t={}),r=(n=t).limit,a=n.offset,e.next=4,window.GameSDK.getLeaderboardAsync($o);case 4:return i=e.sent,e.next=7,i.getEntriesAsync(r,a);case 7:return s=e.sent,e.abrupt("return",s);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),sc=function(){var e=(0,s.Z)(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===t&&(t={}),null==Jo){e.next=3;break}return e.abrupt("return",oc(t));case 3:return e.abrupt("return",cc(t));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),oc=function(){var e=(0,s.Z)(d().mark((function e(t){var n,r,a,i,s;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===t&&(t={}),n=[],r=nc(Yo)){e.next=5;break}return e.abrupt("return",n);case 5:return a=GameCore.Utils.String.params(t),e.next=8,(0,qe.U)(r+"?"+a,{},Xo);case 8:if(i=e.sent,!((s=(null==i?void 0:i.data)||[]).length<1)){e.next=12;break}return e.abrupt("return",n);case 12:return n=s,e.abrupt("return",rc(n));case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),cc=function(){var e=(0,s.Z)(d().mark((function e(t){var n,r,a,i,s;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===t&&(t={}),r=(n=t).limit,a=n.offset,e.next=4,window.GameSDK.getLeaderboardAsync($o);case 4:return i=e.sent,e.next=7,i.getConnectedPlayerEntriesAsync(r,a);case 7:return s=e.sent,e.abrupt("return",s);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),uc=(function(){var e=(0,s.Z)(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==Jo){e.next=2;break}return e.abrupt("return",uc(t));case 2:return e.abrupt("return",lc());case 3:case"end":return e.stop()}}),e)})))}(),function(){var e=(0,s.Z)(d().mark((function e(t){var n,r,a,i,s;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=null,t){e.next=3;break}return e.abrupt("return",n);case 3:if(r=nc(Yo)){e.next=6;break}return e.abrupt("return",n);case 6:return a=GameCore.Utils.String.params({playerIds:t}),e.next=9,(0,qe.U)(r+"?"+a,{},Xo);case 9:if(i=e.sent,!((s=(null==i?void 0:i.data)||[]).length<1)){e.next=13;break}return e.abrupt("return",n);case 13:return e.next=15,rc(s);case 15:return n=e.sent[0],e.abrupt("return",n);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),lc=function(){var e=(0,s.Z)(d().mark((function e(){var t,n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.GameSDK.getLeaderboardAsync($o);case 2:return t=e.sent,e.next=5,t.getPlayerEntryAsync();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),dc=function(){var e=(0,s.Z)(d().mark((function e(t,n){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.GameSDK.submitGameResultsAsync(n).catch((function(e){console.log(e)})),null==Jo){e.next=5;break}if(""!==window.game.auth.getToken()){e.next=4;break}return e.abrupt("return",u().reject("Not logged in"));case 4:return e.abrupt("return",hc(t,n));case 5:return e.abrupt("return",pc(n));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),hc=function(){var e=(0,s.Z)(d().mark((function e(t,n){var r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,qe.v)("leaderboards/"+Jo+"/players/"+t,{score:n},{},Xo);case 2:return r=e.sent,e.abrupt("return",(null==r?void 0:r.data)||{});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),pc=function(){var e=(0,s.Z)(d().mark((function e(t){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.GameSDK.getLeaderboardAsync($o);case 2:return n=e.sent,e.next=5,n.setScoreAsync(t);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),fc=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).name="NewScoreIsBad",r.message=t||"The new score is bad",r.payload=n,r}return(0,o.Z)(t,e),t}((0,Z.Z)(Error)),mc=fc,gc=function(e){return e[Zn]},vc=(0,fe.P1)([function(e){return gc(e).gameplay.mode}],(function(e){return e})),yc=((0,fe.P1)([function(e){return gc(e).gameplay.status}],(function(e){return e})),(0,fe.P1)([function(e){return gc(e).gameplay.rescued}],(function(e){return e})),(0,fe.P1)([function(e){return gc(e).gameplay.startAt}],(function(e){return e})),(0,fe.P1)([function(e){return gc(e).gameplay.finishAt}],(function(e){return e})),n(594)),kc=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).name="CurrentTournamentScoreIsNotBest",r.message=t||"The new score is not best",r.payload=n,r}return(0,o.Z)(t,e),t}((0,Z.Z)(Error)),bc=kc,Ec=GameCore.Configs.Tournament.UseLeaderboard,xc=function(e){return{type:gr,payload:{tournamentId:e}}},Sc=function(e){return function(){var t=(0,s.Z)(d().mark((function t(n){var a,i,s,o,c,u,l,h,p;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=window.game.facebook,i=e.playerId,s=e.playerName,o=e.score,c=e.autoStartGame,u=s+"'s Tournament",l=GameCore.Utils.String.generateObjectId(),t.next=7,a.tournament.createAsync({initialScore:o,config:{title:u,tournamentTitle:u},data:{playerId:i,playerName:s,leaderboardId:l}});case 7:return h=t.sent,p=h.getID(),c&&(n(xc(p)),n(ol())),t.next=12,(0,yc.Z5)({_id:l,createdBy:i,name:p,description:u,expireTime:6048e5});case 12:if(t.sent._id!==l){t.next=16;break}return t.next=16,(0,yc.aV)(l,i,o);case 16:t.next=21;break;case 18:t.prev=18,t.t0=t.catch(0),(0,r.tO)(t.t0);case 21:case"end":return t.stop()}}),t,null,[[0,18]])})));return function(e){return t.apply(this,arguments)}}()},wc=function(e){return(0,s.Z)(d().mark((function t(){var n,r,a,i,s;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=window.game.facebook,r=e.playerId,a=e.playerName,i=e.leaderboardId,s=e.score,i&&(0,yc.aV)(i,r,s),t.next=5,n.tournament.shareAsync({score:s,data:{type:"tournament",playerId:r,playerName:a}});case 5:(0,yc.aV)(i,r,s);case 6:case"end":return t.stop()}}),t)})))},Ac=function(){var e=(0,s.Z)(d().mark((function e(){var t,n,r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=window.game.facebook,e.next=4,t.getTournamentAsync();case 4:return n=e.sent,r=JSON.parse(n.getPayload()||"{}"),e.abrupt("return",r.leaderboardId);case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),Cc=function(){var e=(0,s.Z)(d().mark((function e(){var t;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=window.game.facebook,e.next=4,t.getTournamentAsync();case 4:return e.abrupt("return",e.sent);case 7:return e.prev=7,e.t0=e.catch(0),console.warn("getCurrentTournament ~ error",e.t0),e.abrupt("return",null);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),Tc=function(e){return function(){var t=(0,s.Z)(d().mark((function t(n,r){var a,i,s,o,c,u,l,h,p,f,m,g,v,k;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=null,i=window.game,s=i.player,o=i.facebook,c=i.analytics,t.prev=2,l=r(),h=vc(l),y()(u=[ta,aa]).call(u,h)){t.next=7;break}return t.abrupt("return");case 7:return n({type:vr,payload:{}}),p=s.getPlayer(),f=p.playerId,m=p.name,t.next=11,Cc();case 11:if(!t.sent){t.next=23;break}if(a=sn._.TOURNAMENT_SHARE,!Ec){t.next=21;break}return t.next=17,Ac();case 17:return g=t.sent,v={playerId:f,playerName:m,score:e,leaderboardId:g},t.next=21,n(wc(v));case 21:t.next=28;break;case 23:if(a=sn._.TOURNAMENT_CREATE,!Ec){t.next=28;break}return k={playerId:f,playerName:m,score:e,autoStartGame:!1},t.next=28,n(Sc(k));case 28:if(c.event(a,{success:!0}),!1!==Ec){t.next=32;break}return t.next=32,o.requestTournamentAsync(e);case 32:n(Lc(e)),t.next=40;break;case 35:if(t.prev=35,t.t0=t.catch(2),!(t.t0 instanceof bc)){t.next=39;break}return t.abrupt("return");case 39:a&&c.event(a,{success:!1});case 40:case"end":return t.stop()}}),t,null,[[2,35]])})));return function(e,n){return t.apply(this,arguments)}}()},Lc=function(e){return{type:yr,payload:{score:e}}},Ic=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).name="InvalidOpponentId",r.message=t||"This opponentId is not valid",r.payload=n,r}return(0,o.Z)(t,e),t}((0,Z.Z)(Error)),Pc=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).name="WideFrameRenderFail",r.message=t||"Wide frame render fail",r.payload=n,r}return(0,o.Z)(t,e),t}((0,Z.Z)(Error)),_c={PASS_LEVELS:{ID:"pass-levels",EVENTS:{PASS_LEVEL:"pass-level"}},COLLECT_DIAMONDS:{ID:"collect-diamonds",EVENTS:{COLLECT_DIAMONDS:"collect-diamonds"}},INVITE_FRIENDS:{ID:"invite-friends",EVENTS:{INVITED_FRIEND:"INVITED_FRIEND"}},REACH_SCORE:{ID:"reach-score",EVENTS:{ADD_SCORE:"add-score"}},EVENTS:{TASKS_RESET:"tasks-reset",NOTICE_UPDATE:"notice-update"}},Bc=function(e,t){return t.playerId},Oc=((0,fe.P1)([function(e){return gc(e).match.isRequesting}],(function(e){return e})),(0,fe.P1)([function(e){return gc(e).match.single}],(function(e){return e}))),Rc=(0,fe.P1)([function(e){return gc(e).match.single._id}],(function(e){return e})),Mc=(0,fe.P1)([function(e){return gc(e).match.single.score}],(function(e){return e||0})),Nc=((0,fe.P1)([function(e){return gc(e).match.single.level}],(function(e){return e||0})),(0,fe.P1)([function(e){var t;return null==(t=gc(e).match.single.data)?void 0:t.diamond}],(function(e){return e||0})),(0,fe.P1)([function(e){var t;return null==(t=gc(e).match.single.data)?void 0:t.fen}],(function(e){return e||null})),(0,fe.P1)([function(e){return gc(e).match.single.status}],(function(e){return e})),(0,fe.P1)([function(e){return gc(e).match.single.playerId}],(function(e){return e})),(0,fe.P1)([function(e){return gc(e).match.challenge}],(function(e){return e}))),Dc=(0,fe.P1)([function(e){return gc(e).match.challenge._id}],(function(e){return e})),Fc=(0,fe.P1)([function(e){return gc(e).match.challenge.status}],(function(e){return e})),Gc=(0,fe.P1)([function(e){return gc(e).match.challenge.opponentInfo}],(function(e){return e})),Zc=((0,fe.P1)([function(e){return gc(e).match.challenge.whitePlayerId}],(function(e){return e})),(0,fe.P1)([function(e){return gc(e).match.challenge.blackPlayerId}],(function(e){return e})),(0,fe.P1)([function(e){return gc(e).match.challenge.extraData}],(function(e){return e}))),Uc=((0,fe.P1)([Nc,Bc],(function(e,t){var n=e.whitePlayerId,r=e.blackPlayerId;return n!==t&&r===t?n:r!==t&&n===t?r:""})),(0,fe.P1)([Nc,Bc],(function(e,t){var n=e.whitePlayerId,r=e.blackPlayerId;return n===t?n:r===t?r:ea.playerId}))),Kc=(0,fe.P1)([Nc,Bc],(function(e,t){var n=e.whitePlayerId,r=e.blackPlayerId,a=e.whitePlayerFinish,i=e.blackPlayerFinish;return t&&n===t?a:!(!t||r!==t)&&i})),Hc=(0,fe.P1)([Nc,function(e,t){return t.opponentId}],(function(e,t){var n=e.whitePlayerId,r=e.blackPlayerId,a=e.whitePlayerFinish,i=e.blackPlayerFinish;return t&&n===t?a:!(!t||r!==t)&&i})),Wc=(0,fe.P1)([function(e){return gc(e).match.group.opponentInfo}],(function(e){return e})),Vc=((0,fe.P1)([function(e){return gc(e).match.online.players}],(function(e){return e})),(0,fe.P1)([function(e){return gc(e).stats.data}],(function(e){return e}))),Yc=(0,fe.P1)([function(e){return gc(e).stats.current}],(function(e){return e})),zc=((0,fe.P1)([function(e){return gc(e).stats.isRequesting}],(function(e){return e})),(0,fe.P1)([function(e){return e.messages.data}],(function(e){return e}))),jc=(0,fe.P1)([zc,function(e,t){return t.opponentId}],(function(e,t){return!!GameCore.Utils.Valid.isString(t)&&(!!GameCore.Utils.Object.hasOwn(e,t)&&e[t].sent)})),Xc=n(411),qc=new(n.n(Xc)()),Qc=n(350),Jc=n.n(Qc),$c=function(e){if("string"!==typeof e||!e)throw new Pc(null,{imageShare:e})},eu=function(){var e=(0,s.Z)(d().mark((function e(){var t,n,r,a,i,s,o,c,u,l;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=window.game,n=t.player,r=t.globalScene,a=n.getPlayer(),i=a.playerId,s=a.photo,o=a.data,c=(o||{}).score,u=nu({playerId:i,playerPhoto:s,playerScore:c})){e.next=7;break}return console.warn("getRenderOptionsBestScore"),e.abrupt("return");case 7:return l={name:"share-best-score",width:952,height:492,renderOptions:u},e.next=10,r.frameCapture.capture(l);case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),tu=function(){var e=(0,s.Z)(d().mark((function e(t){var n,r,a,i,s,o,c,u,l,h,p;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=window.game,r=n.player,a=n.globalScene,i=Vc(t),s=r.getPlayer(),o=s.playerId,c=s.photo,u=i[o]||{},l=u.score,h=nu({playerId:o,playerPhoto:c,playerScore:l})){e.next=8;break}return console.warn("getRenderOptionsCurrentScore"),e.abrupt("return");case 8:return p={name:"share-current-score",width:952,height:492,renderOptions:h},e.next=11,a.frameCapture.capture(p);case 11:return e.abrupt("return",e.sent);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),nu=function(e){var t=e.playerId,n=void 0===t?"10":t,r=e.playerPhoto,a=void 0===r?"":r,i=e.playerScore,s=void 0===i?0:i;return"string"!==typeof n||"string"!==typeof a||"number"!==typeof s?null:{avatar:{name:""+n,type:"image",x:103,y:124,image:a,width:240,height:240,fallbackWithImage:$r.Z.AVATAR.KEY},wideFrame:{name:"wide-frame-message-win",type:"image",x:0,y:0,image:"./assets/wideframes/wide-frame-message-win.png",width:952,height:492},playerScore:{type:"text",x:223,y:425,font:"600 60px",fillStyle:["#f9e74d","#efcc08"],text:""+s,textAlign:"center",layer3D:{secondFillStyle:"#c47701",shadowFillStyle:"#050504"}}}},ru=(function(){var e=(0,s.Z)(d().mark((function e(){var t,n,r,a,i,s,o,c,u,l,h,p,f,m,g,v,y,k,b,E;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=window.game,n=t.player,r=t.profile,a=t.globalScene,i=n.getPlayer(),s=i.playerId,o=i.name,c=i.photo,(u=n.getConnectedPlayerIds(99,0)).push(s),l=[],e.next=7,sc({playerIds:GameCore.Utils.Array.unique(u),limit:u.length});case 7:h=e.sent,p=GameCore.Utils.Object.keyBy(h,"playerId"),f={playerId:s,name:o,photo:c,score:0},GameCore.Utils.Object.hasOwn(p,s)&&(f=p[s]),l.push(f),e.t0=Jc()(d()).call(d(),p);case 14:if((e.t1=e.t0()).done){e.next=27;break}if(m=e.t1.value,!GameCore.Utils.Object.hasOwn(p,m)){e.next=25;break}if(g=p[m],3!==l.length){e.next=20;break}return e.abrupt("break",27);case 20:if(g.playerId!==s){e.next=22;break}return e.abrupt("continue",14);case 22:if(!(Number(g.score)>Number(f.score))){e.next=24;break}return e.abrupt("continue",14);case 24:l.push(g);case 25:e.next=14;break;case 27:return v=GameCore.Utils.Array.unique(u),e.next=30,r.requestProfiles(v);case 30:if(y=r.getProfiles(),l.forEach((function(e,t){var n=e.playerId;if(GameCore.Utils.Object.hasOwn(y,n)){var r=y[n],a=r.name,i=r.photo;l[t].name=a,l[t].photo=i}})),l.length<3)for(k=0;k<=3-l.length;)l.push({playerId:"bot"+k,name:"???",score:0,photo:"./assets/images/others/avatar.png"}),k++;if(b=ru({playerId:s,playerName:o,playerPhoto:c,listLeaders:l})){e.next=37;break}return console.warn("getRenderOptionsLeaderboard"),e.abrupt("return");case 37:return E={name:"share-leaderboard",width:1500,height:2e3,renderOptions:b},e.next=40,a.frameCapture.capture(E);case 40:return e.abrupt("return",e.sent);case 41:case"end":return e.stop()}}),e)})))}(),function(e){var t=e.playerId,n=void 0===t?"10":t,r=e.playerPhoto,a=void 0===r?"":r,i=e.listLeaders,s=void 0===i?[]:i;if(!Array.isArray(s))return null;if("string"!==typeof n)return null;if("string"!==typeof a)return null;var o={avatar:{name:""+n,type:"image",x:510,y:278,image:a,width:510,height:510,fallbackWithImage:$r.Z.AVATAR.KEY}};return s.forEach((function(e,t){var n=e.playerId,r=e.photo;o["photo_"+n]={name:""+n,type:"image",x:436,y:1294+180*t,image:r,width:96,height:96,fallbackWithImage:$r.Z.AVATAR.KEY}})),o.wideFrame={name:"wide-frame-share",type:"image",x:0,y:0,image:"./assets/wideframes/wide-frame-share.png",width:1500,height:2e3},s.forEach((function(e,t){var n=e.playerId,r=e.name,a=e.score;o["name_"+n]={type:"text",x:600,y:1360+180*t,font:"600 48px",text:r,fillStyle:"#b18151"},o["score_"+n]={type:"text",x:1e3,y:1360+180*t,font:"600 48px",text:a,fillStyle:"#b18151"}})),o}),au=function(){var e=(0,s.Z)(d().mark((function e(t){var n,r,a,i,s,o,c,u,l,h,p,f,m,g,v,y,k,b;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=window.game,r=n.player,a=n.globalScene,i=Vc(t),s=r.getPlayer(),o=s.photo,c=s.playerId,u=Gc(t),l=u.playerId,h=u.photo,p=Kc(t,{playerId:c}),f=Hc(t,{opponentId:l}),m=i[c]||{},g=m.score,v=i[l]||{},y=v.score,k=su({playerId:c,playerPhoto:o,playerScore:g,opponentId:l,opponentPhoto:h,opponentScore:y,isPlayerFinished:p,isOpponentFinished:f})){e.next=12;break}return console.warn("getRenderOptionsLeaderboard"),e.abrupt("return");case 12:return b={name:"share-game-result",width:952,height:492,renderOptions:k},e.next=15,a.frameCapture.capture(b);case 15:return e.abrupt("return",e.sent);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),iu=function(){var e=(0,s.Z)(d().mark((function e(t){var n,r,a,i,s,o,c,u,l,h,p,f,m,g,v;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=window.game,r=n.player,a=n.globalScene,i=Vc(t),s=r.getPlayer(),o=s.photo,c=s.playerId,u=Wc(t),l=u.playerId,h=u.photo,p=u.score,f=i[c]||{},m=f.score,g=su({playerId:c,playerPhoto:o,playerScore:m,opponentId:l,opponentPhoto:h,opponentScore:p})){e.next=9;break}return console.warn("getRenderOptionsGroupResult"),e.abrupt("return");case 9:return v={name:"share-group-match-result",width:952,height:492,renderOptions:g},e.next=12,a.frameCapture.capture(v);case 12:return e.abrupt("return",e.sent);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),su=function(e){var t=e.playerId,n=void 0===t?"10":t,r=e.playerPhoto,a=void 0===r?"":r,i=e.playerScore,s=void 0===i?0:i,o=e.opponentId,c=void 0===o?"20":o,u=e.opponentPhoto,l=void 0===u?"":u,d=e.opponentScore,h=void 0===d?0:d,p=e.isPlayerFinished,f=e.isOpponentFinished;if("string"!==typeof n)return null;if("string"!==typeof a)return null;if("number"!==typeof s)return null;if("string"!==typeof c)return null;if("string"!==typeof l)return null;if("number"!==typeof h)return null;if("boolean"!==typeof p)return null;if("boolean"!==typeof f)return null;var m=s===h,g=s>h,v=p||f,y=p&&f,k={leftPhoto:{name:""+n,type:"image",x:56,y:140,image:a,width:220,height:220,fallbackWithImage:$r.Z.AVATAR.KEY},rightPhoto:{name:""+c,type:"image",x:690,y:140,image:l,width:220,height:220,fallbackWithImage:$r.Z.AVATAR.KEY},wideFrame:{name:"wide-frame-game-result",type:"image",x:0,y:0,image:"./assets/wideframes/wide-frame-game-result.png",width:952,height:492}};return v&&(k.leftScoreShadow={type:"text",x:162,y:444,font:"600 70px",fillStyle:"#c4683f",text:p?""+s:"???",textAlign:"center"},k.leftScore={type:"text",x:162,y:440,font:"600 70px",fillStyle:"#f2a62e",text:p?""+s:"???",textAlign:"center"},k.rightScoreShadow={type:"text",x:796,y:444,font:"600 70px",fillStyle:"#c4683f",text:f?""+h:"???",textAlign:"center"},k.rightScore={type:"text",x:796,y:440,font:"600 70px",fillStyle:"#f2a62e",text:f?""+h:"???",textAlign:"center"}),!m&&y&&(g?k.leftCrown={name:"crown-icon",type:"image",x:112,y:72,image:"./assets/images/others/crown-icon.png",width:106,height:78}:k.rightCrown={name:"crown-icon",type:"image",x:750,y:72,image:"./assets/images/others/crown-icon.png",width:106,height:78}),k},ou=function(e){var t=e.contextId;if(""===t||"string"!==typeof t)throw new Wo(null,{contextId:t})},cu=function(e){var t=e.opponentId,n=e.contextId;if(""===t||"string"!==typeof t)throw new Ic(null,{opponentId:t});if(""===n||"string"!==typeof n)throw new Wo(null,{contextId:n})},uu=function(e){if(null===e.imageShare)throw new Pc},lu=function(e,t){return void 0===t&&(t=!0),function(n,r){var a,i=r(),s=zc(i);if(t){var o;if(null!=(o=s[e])&&o.sent)return;n(du(e))}null!=(a=s[e])&&a.sent&&n(hu(e))}},du=function(e){return{type:gn.qj,payload:{opponentId:e}}},hu=function(e){return{type:gn.rh,payload:{opponentId:e}}},pu=function(){var e=(0,s.Z)(d().mark((function e(t,n){var a,i;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,a=window.game.facebook,cu({opponentId:t,contextId:n}),(i=FBInstant.context.getID())!==n||""===n){e.next=6;break}return e.abrupt("return",i);case 6:if("10"!==t||""===n){e.next=8;break}return e.abrupt("return",n);case 8:if(!n){e.next=12;break}return e.next=11,a.switchAsync(n);case 11:return e.abrupt("return",FBInstant.context.getID());case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),(0,r.tO)(e.t0);case 17:return e.abrupt("return","");case 18:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t,n){return e.apply(this,arguments)}}(),fu=function(e,t){return function(){var n=(0,s.Z)(d().mark((function n(a,i){var s,o,c,u,l,h,p,f,m,g,v,y,k;return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=window.game,o=s.player,c=s.analytics,u=s.facebook,n.prev=1,l=t.matchId,h=t.contextId,p=t.level,n.next=5,pu(e,h);case 5:return f=n.sent,ou({contextId:f}),m=i(),n.next=10,au(m);case 10:return g=n.sent,uu({imageShare:g}),v=o.getPlayer(),y=v.name,k=v.playerId,n.next=15,u.sendMessage({action:"CUSTOM",cta:{default:"Play",localizations:{en_US:"Play",vi_VN:"Ch\u01a1i ngay"}},text:{default:y+" challenges you",localizations:{en_US:y+" challenges you",vi_VN:y+" th\u1eed th\xe1ch b\u1ea1n trong tr\u1eadn \u0111\u1ea5u n\xe0y. Ch\u01a1i ngay!"}},image:g||"",template:"challenge",data:{type:Qr,matchId:l,playerId:k,level:p,opponentId:e,status:ur}});case 15:a(lu(e)),c.event(sn._.MESSAGE,{message_content_type:"Invite",success:!0}),qc.emit(_c.INVITE_FRIENDS.EVENTS.INVITED_FRIEND,{type:"friend",value:1,opponentId:e}),n.next=24;break;case 20:n.prev=20,n.t0=n.catch(1),c.event(sn._.MESSAGE,{message_content_type:"Invite",success:!1}),(0,r.tO)(n.t0);case 24:case"end":return n.stop()}}),n,null,[[1,20]])})));return function(e,t){return n.apply(this,arguments)}}()},mu=function(e,t){return function(){var n=(0,s.Z)(d().mark((function n(a,i){var s,o,c,u,l,h,p,f,m,g,v,y,k;return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=window.game,o=s.player,c=s.analytics,u=s.facebook,n.prev=1,l=t.matchId,h=t.contextId,p=t.level,n.next=5,pu(e,h);case 5:return f=n.sent,ou({contextId:f}),m=i(),n.next=10,au(m);case 10:return g=n.sent,uu({imageShare:g}),v=o.getPlayer(),y=v.name,k=v.playerId,n.next=15,u.sendMessage({action:"CUSTOM",cta:{default:"See result",localizations:{en_US:"See result",vi_VN:"Xem k\u1ebft qu\u1ea3"}},text:{default:y+" just finished. Check them now.",localizations:{en_US:y+" just finished. Check them now.",vi_VN:y+" v\u1eeba ho\xe0n th\xe0nh m\xe0n ch\u01a1i. Nh\u1ea5n \u0111\u1ec3 xem k\u1ebft qu\u1ea3 tr\u1eadn \u0111\u1ea5u."}},image:g||"",template:"finished",data:{type:Qr,matchId:l,playerId:k,opponentId:e,level:p,status:lr}});case 15:a(lu(e)),c.event(sn._.MESSAGE,{message_content_type:"FinishMatch",success:!0}),n.next=23;break;case 19:n.prev=19,n.t0=n.catch(1),c.event(sn._.MESSAGE,{message_content_type:"FinishMatch",success:!1}),(0,r.tO)(n.t0);case 23:case"end":return n.stop()}}),n,null,[[1,19]])})));return function(e,t){return n.apply(this,arguments)}}()},gu=function(e,t){return function(){var n=(0,s.Z)(d().mark((function n(a,i){var s,o,c,u,l,h,p,f,m,g,v,y,k,b,E,x;return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=window.game,o=s.player,c=s.analytics,u=s.facebook,n.prev=1,l=t.matchId,h=t.contextId,n.next=5,pu(e,h);case 5:return p=n.sent,ou({contextId:p}),f=i(),n.next=10,au(f);case 10:return m=n.sent,uu({imageShare:m}),g=o.getPlayer(),v=g.name,y=g.playerId,k=Vc(f),b=k[y]||{},E=b.score,x=void 0===E?0:E,n.next=17,u.sendMessage({action:"CUSTOM",cta:{default:"See result",localizations:{en_US:"See result",vi_VN:"Xem k\u1ebft qu\u1ea3"}},text:{default:v+" beat your high score. Their score: "+x,localizations:{en_US:v+" beat your high score. Their score: "+x,vi_VN:v+" \u0111\xe3 v\u01b0\u1ee3t qua \u0111i\u1ec3m s\u1ed1 c\u1ee7a b\u1ea1n, v\u1edbi "+x+" \u0111i\u1ec3m!"}},image:m||"",template:"pass_score",data:{type:Qr,matchId:l,playerId:y,opponentId:e,status:lr}});case 17:a(lu(e)),c.event(sn._.MESSAGE,{message_content_type:"BestScore",success:!0}),n.next=25;break;case 21:n.prev=21,n.t0=n.catch(1),c.event(sn._.MESSAGE,{message_content_type:"BestScore",success:!1}),(0,r.tO)(n.t0);case 25:case"end":return n.stop()}}),n,null,[[1,21]])})));return function(e,t){return n.apply(this,arguments)}}()},vu=function(e,t){return function(){var n=(0,s.Z)(d().mark((function n(a,i){var s,o,c,u,l,h,p,f,m,g,v,y,k,b;return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=window.game,o=s.player,c=s.analytics,u=s.facebook,n.prev=1,l=t.matchId,h=t.contextId,p=t.score,f=t.level,n.next=5,pu(e,h);case 5:return m=n.sent,ou({contextId:m}),g=i(),n.next=10,au(g);case 10:return v=n.sent,uu({imageShare:v}),y=o.getPlayer(),k=y.name,b=y.playerId,n.next=15,u.sendMessage({action:"CUSTOM",cta:{default:"Play",localizations:{en_US:"Play",vi_VN:"Ch\u01a1i ngay"}},text:{default:k+" got "+p+" scores. So easy! Can you?",localizations:{en_US:k+" got "+p+" scores. So easy! Can you?",vi_VN:k+" \u0111\xe3 \u0111\u1ea1t "+p+" \u0111i\u1ec3m! Nh\u1ea5n Ch\u01a1i \u0111\u1ec3 so t\xe0i!"}},image:v||"",template:"play_turn",data:{type:Qr,matchId:l,playerId:b,opponentId:e,level:f,status:ur}});case 15:a(lu(e)),c.event(sn._.MESSAGE,{message_content_type:"FinishTurn",success:!0}),n.next=25;break;case 19:if(n.prev=19,n.t0=n.catch(1),c.event(sn._.MESSAGE,{message_content_type:"FinishTurn",success:!1}),!(n.t0 instanceof Wo)){n.next=24;break}return n.abrupt("return");case 24:(0,r.tO)(n.t0);case 25:case"end":return n.stop()}}),n,null,[[1,19]])})));return function(e,t){return n.apply(this,arguments)}}()},yu=function(){var e=(0,s.Z)(d().mark((function e(t,n){var a,i,s,o,c,u,l,h,p,f;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=window.game,i=a.player,s=a.facebook,o=i.getPlayer(),c=o.playerId,u=o.name,l=o.photo,h=Yc(n),p=h.score,f={type:Jr,playerId:c,playerName:u,playerPhoto:l,playerScore:p},e.next=7,s.sendMessage({action:"CUSTOM",cta:{default:"Play",localizations:{en_US:"Play",vi_VN:"Ch\u01a1i"}},text:{default:u+" beats your high score. Their score: "+p+".",localizations:{en_US:u+" beats your high score. Their score: "+p+".",vi_VN:u+" v\u1eeba v\u01b0\u1ee3t \u0111i\u1ec3m s\u1ed1 cao nh\u1ea5t c\u1ee7a b\u1ea1n! Ch\u01a1i l\u1ea7n n\u1eefa ch\u1ee9?"}},image:t||"",template:"play_turn",data:f});case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),(0,r.tO)(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n){return e.apply(this,arguments)}}(),ku=function(){var e=(0,s.Z)(d().mark((function e(t,n){var a,i,s,o,c,u,l,h,p,f;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=window.game,i=a.player,s=a.facebook,e.prev=1,o=i.getPlayer(),c=o.playerId,u=o.name,l=o.photo,h=Yc(n),p=h.score,f={type:Jr,playerId:c,playerName:u,playerPhoto:l,playerScore:p},e.next=7,s.sendMessage({action:"CUSTOM",cta:{default:"Play",localizations:{en_US:"Play",vi_VN:"Ch\u01a1i ngay"}},text:{default:u+" got "+p+" scores. So easy! Can you?",localizations:{en_US:u+" got "+p+" scores. So easy! Can you?",vi_VN:u+" \u0111\xe3 \u0111\u1ea1t "+p+" \u0111i\u1ec3m! Qu\xe1 d\u1ec5 lu\xf4n. Ch\u01a1i l\u1ea1i n\xe0o!"}},image:t||"",template:"play_turn",data:f});case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),(0,r.tO)(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,n){return e.apply(this,arguments)}}(),bu=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).name="InvalidMatchId",r.message=t||"Invalid match id",r.payload=n,r}return(0,o.Z)(t,e),t}((0,Z.Z)(Error)),Eu=n(95),xu=n.n(Eu),Su=function(e){try{var t=localStorage.getItem(e);return null===t?null:GameCore.Utils.Json.decode(t)}catch(n){return null}},wu=function(e,t){try{var n=Su(e),r={};GameCore.Utils.Valid.isObject(n)&&(r=n);var a=GameCore.Utils.Json.clone(t);if(!GameCore.Utils.Valid.isObject(a))return!1;var i=GameCore.Utils.Object.clear(a),s=(0,On.TS)(r,i),o=GameCore.Utils.Json.encode(s);return localStorage.setItem(e,o),!0}catch(c){return!1}},Au=GameCore.Configs.ApiHost,Cu=(function(){var e=(0,s.Z)(d().mark((function e(t){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"single-matches",e.next=3,(0,qe.v)("single-matches",t,{},Au);case 3:return n=e.sent,e.abrupt("return",(null==n?void 0:n.data)||{});case 5:case"end":return e.stop()}}),e)})))}(),function(){var e=(0,s.Z)(d().mark((function e(){var t;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"single-matches/active",e.next=3,(0,qe.U)("single-matches/active",{},Au);case 3:return t=e.sent,e.abrupt("return",(null==t?void 0:t.data)||{});case 5:case"end":return e.stop()}}),e)})))}(),function(){var e=(0,s.Z)(d().mark((function e(t,n){var r,a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="single-matches/"+t+"/move",e.next=3,(0,qe.v)(r,n,{},Au);case 3:return a=e.sent,e.abrupt("return",(null==a?void 0:a.data)||{});case 5:case"end":return e.stop()}}),e)})))}(),function(){var e=(0,s.Z)(d().mark((function e(t){var n,r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="single-matches/"+t+"/finish",e.next=3,(0,qe.v)(n,{},{},Au);case 3:return r=e.sent,e.abrupt("return",(null==r?void 0:r.data)||{});case 5:case"end":return e.stop()}}),e)})))}(),function(){var e=(0,s.Z)(d().mark((function e(t){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"matches",e.next=3,(0,qe.v)("matches",{opponentPlayerId:t},{},Au);case 3:return n=e.sent,e.abrupt("return",(null==n?void 0:n.data)||{});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Tu=function(){var e=(0,s.Z)(d().mark((function e(t){var n,r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="matches/"+t+"/join",e.next=3,(0,qe.v)(n,{},{},Au);case 3:return r=e.sent,e.abrupt("return",(null==r?void 0:r.data)||{});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Lu=function(){var e=(0,s.Z)(d().mark((function e(t){var n,r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="matches/"+t,e.next=3,(0,qe.U)(n,{},Au);case 3:return r=e.sent,e.abrupt("return",(null==r?void 0:r.data)||{});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Iu=function(){var e=(0,s.Z)(d().mark((function e(t,n,r,a){var i,s;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i="matches/"+t+"/finish",e.next=3,(0,qe.v)(i,{matchId:t,score:n,level:r,extraData:a},{},Au);case 3:return s=e.sent,e.abrupt("return",(null==s?void 0:s.data)||{});case 5:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),Pu=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).name="InvalidMatchStatus",r.message=t||"The match status is not valid",r.payload=n,r}return(0,o.Z)(t,e),t}((0,Z.Z)(Error)),_u=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).name="InvalidOpponentId",r.message=t||"Invalid opponent id",r.payload=n,r}return(0,o.Z)(t,e),t}((0,Z.Z)(Error)),Bu=_u,Ou=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).name="InvalidBlackPlayerId",r.message=t||"Invalid black player id",r.payload=n,r}return(0,o.Z)(t,e),t}((0,Z.Z)(Error)),Ru=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).name="InvalidRequestedMatchId",r.message=t||"The matchId in match data not matched with requested matchId",r.payload=n,r}return(0,o.Z)(t,e),t}((0,Z.Z)(Error)),Mu=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).name="InvalidWhitePlayerId",r.message=t||"Invalid white player id",r.payload=n,r}return(0,o.Z)(t,e),t}((0,Z.Z)(Error)),Nu=function(e){var t=e.matchId,n=e.currentMatchId;if(""===t||"string"!==typeof t)throw new bu(null,{matchId:t});if(""===n||"string"!==typeof n)throw new bu(null,{currentMatchId:n});if(t!==n)throw new Ru(null,{matchId:t,currentMatchId:n})},Du=function(e){var t=e.playerId,n=e.match,r=n._id,a=n.playerId,i=n.status;if(""===r||"string"!==typeof r)throw new bu(null,{matchId:r});if("finished"===i||"string"!==typeof i)throw new Pu("This match is finished",{status:i});if(a!==t)throw new Xr(null,{playerId:a,currentPlayerId:t})},Fu=function(e){var t=e.opponentId;if(""===t||"string"!==typeof t)throw new Bu(null,{opponentId:t})},Gu=function(e){var t=e.matchId;if(""===t||"string"!==typeof t)throw new bu(null,{matchId:t})},Zu=function(e){var t=e.match,n=t._id,r=t.whitePlayerId,a=t.blackPlayerId;if(""===n||"string"!==typeof n)throw new bu(null,{matchId:n});if(""===r||"string"!==typeof r)throw new Mu(null,{whitePlayerId:r});if(""===a||"string"!==typeof a)throw new Ou(null,{blackPlayerId:a})},Uu=GameCore.Configs.Match,Ku=function(e){try{return GameCore.Utils.Hash.stringToHash(Ut()(e))}catch(t){return""}},Hu=function(e){try{return JSON.parse(GameCore.Utils.Hash.hashToString(e))}catch(t){return""}},Wu=function(){return function(){var e=(0,s.Z)(d().mark((function e(t){var n,a,s,o;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,n=window.game,a=n.player,n.globalScene.screen.open(tn.o4.NOTIFY_SCREEN,{message:"Loading...",loading:!0}),t({type:jn,payload:{}}),s=a.getPlayerId(),o=(0,i.Z)({},Uu.LocalSingleMatchDefault,{status:"active",playerId:s,startedAt:Date.now()}),Du({playerId:s,match:o}),t(Yu(o)),wu(Uu.SingleMatchStore,o),e.next=19;break;case 11:if(e.prev=11,e.t0=e.catch(0),t(Yu(null)),!(e.t0 instanceof bu)){e.next=16;break}return e.abrupt("return");case 16:if(!(e.t0 instanceof Pu)){e.next=18;break}return e.abrupt("return");case 18:(0,r.tO)(e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()},Vu=function(e){return function(){var t=(0,s.Z)(d().mark((function t(n,a){var s,o,c,u,l,h,p,f;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.prev=0,s=window.game.player,Gu({matchId:e}),o=a(),c=Rc(o),u=s.getPlayerId(),Nu({matchId:e,currentMatchId:c}),n({type:"MATCH_SINGLE_FINISH_REQUEST",payload:{matchId:e}}),l=Oc(o),Du({playerId:u,match:l}),h=(0,i.Z)({},Uu.LocalSingleMatchDefault,l,{_id:e,status:"finished",playerId:u,finishAt:Date.now()}),n(Yu(h)),p=h.data,(f=(0,i.Z)({},h)).data=Ku(p),wu(Uu.SingleMatchStore,f),t.next=26;break;case 18:if(t.prev=18,t.t0=t.catch(0),n(Yu(null)),!(t.t0 instanceof bu)){t.next=23;break}return t.abrupt("return");case 23:if(!(t.t0 instanceof Pu)){t.next=25;break}return t.abrupt("return");case 25:(0,r.tO)(t.t0);case 26:case"end":return t.stop()}}),t,null,[[0,18]])})));return function(e,n){return t.apply(this,arguments)}}()},Yu=function(e){return{type:qn,payload:{match:e}}},zu=function(){return{type:Qn,payload:{}}},ju=function(e){return function(){var t=(0,s.Z)(d().mark((function t(n){var a,i,s,o;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=window.game,i=a.profile,a.globalScene.screen.open(tn.o4.NOTIFY_SCREEN,{message:"Loading...",loading:!0}),s=e.playerId,Fu({opponentId:s}),n({type:$n,payload:{opponentInfo:e}}),t.next=8,Cu(s);case 8:return o=t.sent,Zu({match:o}),t.next=12,i.requestProfiles([s]);case 12:n(Ju(o)),t.next=23;break;case 15:if(t.prev=15,t.t0=t.catch(0),n(Ju(null)),!(t.t0 instanceof bu)){t.next=20;break}return t.abrupt("return");case 20:if(!(t.t0 instanceof Bu)){t.next=22;break}return t.abrupt("return");case 22:(0,r.tO)(t.t0);case 23:case"end":return t.stop()}}),t,null,[[0,15]])})));return function(e){return t.apply(this,arguments)}}()},Xu=function(e){return function(){var t=(0,s.Z)(d().mark((function t(n){var a,i,s,o,c,u,l,h,p;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=window.game,i=a.player,s=a.profile,a.globalScene.screen.open(tn.o4.NOTIFY_SCREEN,{message:"Loading...",loading:!0}),Gu({matchId:e}),n({type:Jn,payload:{matchId:e}}),t.next=7,Tu(e);case 7:if(o=t.sent,Zu({match:o}),c=o.status,u=o.whitePlayerId,l=o.blackPlayerId,c!==ur){t.next=16;break}return h=i.getPlayerId(),p=h===u?l:u,t.next=16,s.requestProfiles([p]);case 16:n(Ju(o)),t.next=25;break;case 19:if(t.prev=19,t.t0=t.catch(0),n(Ju(null)),!(t.t0 instanceof bu)){t.next=24;break}return t.abrupt("return");case 24:(0,r.tO)(t.t0);case 25:case"end":return t.stop()}}),t,null,[[0,19]])})));return function(e){return t.apply(this,arguments)}}()},qu=function(e,t){return function(){var n=(0,s.Z)(d().mark((function n(a){var i,s,o,c,u,l,h,p,f;return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,i=window.game,s=i.player,i.globalScene.screen.open(tn.o4.NOTIFY_SCREEN,{message:"Loading...",loading:!0}),Gu({matchId:e}),a({type:tr,payload:{matchId:e,opponentInfo:t}}),n.next=7,Lu(e);case 7:o=n.sent,Zu({match:o}),c=o.whitePlayerId,u=o.whitePlayerScore,l=o.blackPlayerScore,h=s.getPlayerId(),p=s.getPlayerData(),f=p.score,a(Ju(o,{score:h===c?u:l,bestScore:f})),n.next=23;break;case 17:if(n.prev=17,n.t0=n.catch(0),a(Ju(null)),!(n.t0 instanceof bu)){n.next=22;break}return n.abrupt("return");case 22:(0,r.tO)(n.t0);case 23:case"end":return n.stop()}}),n,null,[[0,17]])})));return function(e){return n.apply(this,arguments)}}()},Qu=function(e,t,n){return function(){var a=(0,s.Z)(d().mark((function a(i){var s,o;return d().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,window.game.globalScene.screen.open(tn.o4.NOTIFY_SCREEN,{message:"Loading...",loading:!0}),Gu({matchId:e}),i({type:er,payload:{matchId:e,score:t,extraData:n}}),s=n.level,a.next=8,Iu(e,t,s,n);case 8:return o=a.sent,Zu({match:o}),a.next=12,i(Ju(o));case 12:a.next=20;break;case 14:if(a.prev=14,a.t0=a.catch(0),i(Ju(null)),!(a.t0 instanceof bu)){a.next=19;break}return a.abrupt("return");case 19:(0,r.tO)(a.t0);case 20:case"end":return a.stop()}}),a,null,[[0,14]])})));return function(e){return a.apply(this,arguments)}}()},Ju=function(e,t,n){return void 0===n&&(n=null),{type:nr,payload:{match:e,opponentInfo:t,current:n}}},$u=function(e){return{type:ar,payload:{opponentInfo:e}}},el=function(e,t){return{type:or,payload:{matchId:e,players:t}}},tl=function(e){return{type:Vn,payload:{playerId:e}}},nl=function(e,t){return{type:Yn,payload:{playerId:e,stats:t}}},rl=function(e){return{type:zn,payload:{stats:e}}},al=function(e){var t=e.contextId;if(""===t||"string"!==typeof t)throw new Wo(null,{contextId:t})},il=null,sl=function(e){clearTimeout(il),il=setTimeout((function(){window.game.globalScene.screen.close(tn.o4.NOTIFY_SCREEN)}),e)},ol=function(e){return function(){var t=(0,s.Z)(d().mark((function t(n){var a,i,s,o,c,u,l,h,p,f,m,g;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,n(zu()),a=e.getPayload(),i=e.getID(),s=e.getEndTime(),o=Math.floor(GameCore.Configs.Level.maxLevel/2),c=GameCore.Configs.Level.maxLevel,u=o+(u=s%(c-o)),window.levelCustom=u,!a){t.next=34;break}return l=JSON.parse(a),h=l.leaderboardId,n(xc(i.toString())),p=0,t.prev=16,f=window.FBInstant.player.getID(),t.next=20,(0,yc.xB)(f,h);case 20:if(t.t0=t.sent,t.t0){t.next=23;break}t.t0={};case 23:m=t.t0,g=m.score,p=parseInt(void 0===g?0:g),t.next=31;break;case 28:t.prev=28,t.t1=t.catch(16),console.warn(t.t1);case 31:return t.prev=31,window.game.tournament.setCurrentPlayerScore(p),t.finish(31);case 34:n(fl(aa)),t.next=40;break;case 37:t.prev=37,t.t2=t.catch(0),(0,r.tO)(t.t2);case 40:case"end":return t.stop()}}),t,null,[[0,37],[16,28,31,34]])})));return function(e){return t.apply(this,arguments)}}()},cl=function(){return function(e){try{e(zu()),e(fl(ta))}catch(t){(0,r.tO)(t)}}},ul=function(e){return void 0===e&&(e="10"),function(t){try{t(ll("reset",e))}catch(n){(0,r.tO)(n)}}},ll=function(e,t){return void 0===t&&(t="10"),function(){var n=(0,s.Z)(d().mark((function n(a){var i,s,o,c,u,l,h,p,f,m,g,v,y,k,b,E,x;return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,i=window.game,s=i.player,o=i.facebook,i.globalScene.screen.open(tn.o4.NOTIFY_SCREEN,{message:"Loading...",loading:!0}),c=e,u=o.contextType,t||(l=GameCore.Configs.PlayerIdMock,h=GameCore.Configs.PlayerIdMock2,t=s.getPlayerId()===l?h:l),e){n.next=28;break}return n.next=9,o.chooseAsync();case 9:if(!1!==(c=n.sent)){n.next=14;break}return n.next=13,gl();case 13:return n.abrupt("return","");case 14:return n.prev=14,n.next=17,o.getTournamentAsync();case 17:return p=n.sent,n.next=20,a(ol(p));case 20:return n.abrupt("return","tournament");case 23:n.prev=23,n.t0=n.catch(14),console.log("chooseAsyncJoinTournament",n.t0);case 26:n.next=39;break;case 28:if(!t||t===ea.playerId){n.next=37;break}return n.next=31,o.createAsync(t);case 31:if(!1!==(c=n.sent)){n.next=36;break}return n.next=35,gl();case 35:return n.abrupt("return","");case 36:c||"reset"===e||(c=e);case 37:u=o.contextType,a(ca(c,u));case 39:return al({contextId:c}),f=s.getPlayerId(),m=s.getConnectedPlayers(),n.next=44,o.getContextPlayers(f);case 44:return g=n.sent,t!==(v=ea).playerId&&m[t]?v=m[t]:1===g.length&&(v=g[0]),a(tl()),k=(y=v).playerId,b=y.name,E=y.photo,x={playerId:k,name:b,photo:E},n.next=52,a(fl(na,x));case 52:return a(ca(c,u)),n.abrupt("return","challenge");case 56:if(n.prev=56,n.t1=n.catch(0),!(n.t1 instanceof Wo)){n.next=60;break}return n.abrupt("return","");case 60:if("USER_INPUT"!==(null==n.t1?void 0:n.t1.code)){n.next=62;break}return n.abrupt("return","");case 62:if("INVALID_OPERATION"!==(null==n.t1?void 0:n.t1.code)){n.next=64;break}return n.abrupt("return","");case 64:(0,r.tO)(n.t1);case 65:return n.prev=65,sl(1e3),n.finish(65);case 68:case"end":return n.stop()}}),n,null,[[0,56,65,68],[14,23]])})));return function(e){return n.apply(this,arguments)}}()},dl=function(e,t){return function(){var n=(0,s.Z)(d().mark((function n(a,i){var s,o,c,u,l,h,p,f,m,g,v,y,k,b,E;return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,s=window.game,o=s.player,c=s.profile,u=s.facebook,(l=s.globalScene).screen.open(tn.o4.NOTIFY_SCREEN,{message:"Loading...",loading:!0}),h=i(),p=o.getPlayerId(h),!((f=o.getConnectedPlayers(h)).length>0)||f[t]){n.next=9;break}return l.events.emit(fa.K.SWITCH,fa.C.GAME_SCENE),n.abrupt("return");case 9:return m=ea,n.next=12,u.getContextPlayers(p);case 12:if(g=n.sent,t===p||t===m.playerId||!f[t]){n.next=17;break}m=f[t],n.next=25;break;case 17:if(1!==g.length){n.next=21;break}m=g[0],n.next=25;break;case 21:return n.next=23,c.requestProfiles([t]);case 23:(v=c.getProfiles())[t]&&(m=v[t]);case 25:return n.next=27,a(qu(e,m));case 27:if(h=i(),Uc(h,{playerId:p})!==ea.playerId){n.next=32;break}return n.next=32,a(Xu(e));case 32:if(h=i(),Uc(h,{playerId:p})===p||!f[t]){n.next=37;break}return a(ul(t)),n.abrupt("return");case 37:if(Dc(h)===e){n.next=41;break}return l.events.emit(fa.K.SWITCH,fa.C.GAME_SCENE),n.abrupt("return");case 41:if(y=Fc(h),k=Kc(h,{playerId:p}),a(vl({mode:na,status:y})),b=u.getContextID(),E=u.contextType,a(ca(b,E)),!k){n.next=52;break}return n.next=50,o.requestConnectedPlayers();case 50:return l.events.emit(fa.K.SWITCH,fa.C.GAME_SCENE),n.abrupt("return");case 52:l.events.emit(fa.K.SWITCH,fa.C.GAME_SCENE),n.next=58;break;case 55:n.prev=55,n.t0=n.catch(0),(0,r.tO)(n.t0);case 58:return n.prev=58,sl(1e3),n.finish(58);case 61:case"end":return n.stop()}}),n,null,[[0,55,58,61]])})));return function(e,t){return n.apply(this,arguments)}}()},hl=function(){return function(){var e=(0,s.Z)(d().mark((function e(t,n){var a,i,o,c,u,l,h,p,f,m,g,v,y,k,b,E,x,S,w,A,C;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=window.game,i=a.facebook,a.globalScene.screen.open(tn.o4.NOTIFY_SCREEN,{message:"Loading...",loading:!0}),o=n(),c=vc(o),u=Yc(o),l=u.score,h=void 0===l?0:l,p=u.level,f=void 0===p?0:p,t(pl(h)),e.next=9,t(ml(c,{score:h,level:f}));case 9:o=n(),m=i.getContextID(),c===ra&&m&&t(function(){var e=(0,s.Z)(d().mark((function e(t,n){var a,i,s,o,c,u,l,h,p;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=window.game.analytics,e.prev=1,i=FBInstant.context.getID(),ou({contextId:i}),s=n(),o=Wc(s),c=o.playerId,u=o.score,l=Yc(s),h=l.score,!c||c===ea.playerId){e.next=25;break}if(!(h>u)){e.next=18;break}return e.next=13,iu(s);case 13:return p=e.sent,e.next=16,yu(p,s);case 16:e.next=23;break;case 18:return e.next=20,tu(s);case 20:return p=e.sent,e.next=23,ku(p,s);case 23:e.next=30;break;case 25:return e.next=27,tu(s);case 27:return p=e.sent,e.next=30,ku(p,s);case 30:uu({imageShare:p}),a.event(sn._.MESSAGE,{message_content_type:"InviteGroup",success:!0}),e.next=38;break;case 34:e.prev=34,e.t0=e.catch(1),a.event(sn._.MESSAGE,{message_content_type:"InviteGroup",success:!0}),(0,r.tO)(e.t0);case 38:case"end":return e.stop()}}),e,null,[[1,34]])})));return function(t,n){return e.apply(this,arguments)}}()),m&&c===na&&(g=Gc(o),v=g.playerId,y=Nc(o),v&&v!==ea.playerId||(k=window.game.player.getPlayerId(),y.whitePlayerId===k&&(v=y.blackPlayerId),y.blackPlayerId===k&&(v=y.whitePlayerId)),b=Vc(o),E=b[v]||{},x=E.score,S=void 0===x?0:x,w=y._id,A=y.whitePlayerFinish,C=y.blackPlayerFinish,t(A&&C?h>S?gu(v,{matchId:w,contextId:m,level:f}):mu(v,{matchId:w,contextId:m,level:f}):vu(v,{matchId:w,contextId:m,score:h,level:f}))),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),(0,r.tO)(e.t0);case 18:return e.prev=18,sl(300),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[0,15,18,21]])})));return function(t,n){return e.apply(this,arguments)}}()},pl=function(e){return function(t){try{var n=window.game.player,a=n.getPlayerId();dc(a,e).catch((function(e){(0,r.tO)(new Error(e))}));var i=n.getPlayerData(),s=(i.score,i.level),o={score:e,level:s};t(nl(a,o)),t(rl(o))}catch(c){if(c instanceof mc)return;(0,r.tO)(c)}}},fl=function(e,t){return void 0===t&&(t=null),function(){var n=(0,s.Z)(d().mark((function n(a,i){var o,c,u,l,h,p,f,m,g,v,k,b,E,x,S;return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,c=window.game,u=c.player,c.analytics,l=c.facebook,h=c.globalScene,p=l.getContextID(),f=0,m=i(),a({type:Un,payload:{}}),!y()(o=[ta,aa]).call(o,e)){n.next=15;break}return n.next=9,a((function(e){try{var t=window.game.player;e({type:Xn,payload:{}});var n=t.getPlayerId(),a=Su(Uu.SingleMatchStore)||{},i=a.data;a.data=Hu(i),Du({playerId:n,match:a}),e(Yu(a))}catch(s){if(e(Yu(null)),s instanceof bu)return;if(s instanceof Xr)return;if(s instanceof Pu)return;(0,r.tO)(s)}}));case 9:if(m=i(),Rc(m)){n.next=14;break}return n.next=14,a(Wu());case 14:f=Mc(m);case 15:if(e===ra&&a($u(t)),e!==na){n.next=25;break}return n.next=19,a(ju(t));case 19:m=i(),g=Dc(m),v=Gc(m),k=v.playerId,p||(p=window.FBInstant.context.getID()),b=jc(m,{opponentId:k}),p&&k&&!b&&(E=h.level.getLevel(),a(fu(k,{contextId:p,matchId:g,level:E})));case 25:"online"===e&&a(function(){var e=(0,s.Z)(d().mark((function e(t){var n,r,a,i,s,o,c,u;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=window.game.player,i=a.getPlayer(),s=i.playerId,o=i.name,c=i.photo,t({type:sr,payload:{playerId:s}}),u={},De()(n=xu()(r=new Array(20)).call(r,null)).call(n,(function(e,t){var n="0"+(t+1);u[n]={playerId:n,name:"MPlayer "+n,photo:"./assets/images/others/avatar.png"}})),u[s]={playerId:s,name:o,photo:c},t(el("mock",u));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),x=u.getPlayerData(m),S=x.score,a(rl({score:f,bestScore:void 0===S?0:S})),a({type:Kn,payload:{mode:e,contextId:p}}),a(la(e)),h.events.emit(fa.K.SWITCH,fa.C.GAME_SCENE),n.next=40;break;case 33:if(n.prev=33,n.t0=n.catch(0),!(n.t0 instanceof bu)){n.next=39;break}return window.game.globalScene.screen.open(tn.o4.NOTIFY_SCREEN,{message:"Sorry!, you can now\ncreate this match!",duration:2500,loading:!1}),n.abrupt("return");case 39:(0,r.tO)(n.t0);case 40:return n.prev=40,sl(0),n.finish(40);case 43:case"end":return n.stop()}}),n,null,[[0,33,40,43]])})));return function(e,t){return n.apply(this,arguments)}}()},ml=function(e,t){return function(){var n=(0,s.Z)(d().mark((function n(r,a){var i,s,o,c,u,l,h,p,f,m,g;return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(s=window.game,o=s.player,s.globalScene,c=t.score,u=void 0===c?0:c,l=t.level,h=void 0===l?0:l,p=a(),!y()(i=[ta,aa]).call(i,e)){n.next=7;break}return f=Rc(p),n.next=7,r(Vu(f));case 7:if(e===ra&&(r({type:ir,payload:{}}),m=o.getPlayerId(),r(nl(m,t))),e!==na){n.next=12;break}return g=Dc(p),n.next=12,r(Qu(g,u,{level:h}));case 12:r({type:Hn,payload:{mode:e}});case 13:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},gl=function(){var e=(0,s.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("SOLO"!=window.FBInstant.context.getType()){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,new(u())((function(e){try{if("SOLO"==window.FBInstant.context.getType())return e();var t=setInterval((function(){"SOLO"==window.FBInstant.context.getType()&&(clearInterval(t),e())}),200),n=function(){var n=(0,s.Z)(d().mark((function n(){return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,window.FBInstant.context.switchAsync("SOLO",!0);case 3:window.game.analytics.event(sn._.SWITCH_SOLO_CONTEXT,{success:!0}),n.next=11;break;case 6:n.prev=6,n.t0=n.catch(0),window.game.analytics.event(sn._.SWITCH_SOLO_CONTEXT,{success:!1}),clearInterval(t),e();case 11:case"end":return n.stop()}}),n,null,[[0,6]])})));return function(){return n.apply(this,arguments)}}();n()}catch(r){console.log("same context"),e()}})).then((function(){}));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),vl=function(e){return function(t){var n=e.mode,a=e.status;t({type:Wn,payload:{mode:n,status:a}}),(0,r.sw)("game-mode",n)}},yl=function(){function e(e){this.scene=void 0,this._topContainer=void 0,this.tilePool=void 0,this.board=void 0,this.levelDataManager=void 0,this.rack=void 0,this.mover=void 0,this.undoManager=void 0,this.returnManager=void 0,this.addExtraSlotManager=void 0,this.wieldMagicWandManager=void 0,this.winLoseManager=void 0,this.rescueManager=void 0,this.waitRackToLoseEvent=void 0,this.scene=e}var t=e.prototype;return t.create=function(){this.createBoardGame(),this.createRack(),this.createTopContainer(),this.board.kill(),this.rack.kill(),this.levelDataManager=new ns,this.tilePool=new Cs(this.scene),this.mover=new fs(this.scene),this.undoManager=new gs(this.scene),this.returnManager=new Fo(this.scene),this.addExtraSlotManager=new ys(this.scene),this.wieldMagicWandManager=new bs(this.scene),this.winLoseManager=new ws(this.scene),this.rescueManager=new Uo(this.scene)},t.init=function(){var e;this.levelDataManager.init(),this.rack.init(),this.initBoard(),this.undoManager.init(),this.returnManager.init(),this.addExtraSlotManager.init(),this.wieldMagicWandManager.init(),this.winLoseManager.init(),this.rescueManager.init(),this.scene.footer.shuffleItem.updateStatusItemByAmount(),null==(e=this.waitRackToLoseEvent)||e.remove()},t.createTopContainer=function(){var e=this.scene.add.container();e.setDepth(Go.Z.TOP_CONTAINER),this._topContainer=e},t.createBoardGame=function(){this.board=new Yi(this.scene),this.scene.add.existing(this.board),this.board.setDepth(Go.Z.BOARD)},t.createRack=function(){this.rack=new No(this.scene),this.rack.setDepth(Go.Z.RACK),this.scene.add.existing(this.rack),this.alignRack()},t.alignRack=function(){var e=this.scene.ads.getBannerHeight();Phaser.Display.Align.In.BottomCenter(this.rack,this.scene.gameZone,0,-Oa()-e)},t.getCurBottomHeight=function(){return Oa()+62+this.scene.ads.getBannerHeight()},t.getCurrentExpectedBoardHeight=function(){return this.scene.gameZone.height-this.getCurBottomHeight()-53},t.getAvailableTileSize=function(e){var t=e.boardMaxCoordX,n=e.boardMaxCoordY,r=e.totalPaddingX,a=e.totalPaddingY,i=e.expectedBoardW,s=e.expectedBoardH,o=60;return o=Math.min((i-r)/(t+1),o),o=Math.min((s-a)/(n+1),o)},t.setRealTileViewSizeBaseOnLevel=function(){this.scene.resizeFooter(1),this.alignRack();var e=this.levelDataManager.getCoordsBounds(),t=e.top,n=e.bottom,r=e.left,a=e.right,i=n-t,s=a-r,o=0*i/2,c=-2*i/2,u=this.scene.gameZone.width,l=this.getCurrentExpectedBoardHeight(),d=u-6,h=this.getAvailableTileSize({boardMaxCoordX:s,boardMaxCoordY:i,totalPaddingX:o,totalPaddingY:c,expectedBoardW:d,expectedBoardH:l});console.log("%c Use Tile Size Zoom: ","background-color: #33A5FF;",h,6),ki.setTileSize(h);var p=function(){return{width:ki.TILE_SIZE*(s+1)+o,height:ki.TILE_SIZE*(i+1)+c}};if(p().width<d&&h<60){this.scene.resizeFooter(.7),this.alignRack(),l=this.getCurrentExpectedBoardHeight();var f=this.getAvailableTileSize({boardMaxCoordX:s,boardMaxCoordY:i,totalPaddingX:o,totalPaddingY:c,expectedBoardW:d,expectedBoardH:l});ki.setTileSize(f),console.log("%c Use Extend Tile Size Zoom: ","background-color: #33A5FF;",f)}return p()},t.initBoard=function(){var e=this.levelDataManager.getBoardData();this.zoomBoardTileSizeBaseOnLevel(),this.board.init(e)},t.zoomBoardTileSizeBaseOnLevel=function(){var e=this.setRealTileViewSizeBaseOnLevel(),t=e.width,n=e.height;this.board.setSize(t,n),Phaser.Display.Align.In.Center(this.board,this.scene.gameZone);var r=this.scene.gameZone,a=r.width,i=(53+(r.height-this.getCurBottomHeight()))/2;this.board.setPosition(a/2,i);var s=this.board.x;this._topContainer.setSize(t,n),this._topContainer.setPosition(s,i),this.scene.tutorialHandler.setHandContainerPosition(s,i)},t.moveTileViewToRack=function(e){this.mover.moveTileViewBoardToRack(e),this.tryToBlockInputIfGameGonnaEnd(),this.board.emit(Ko.MOVE_TILE_TO_RACK),this.scene.logStepProgress(),this.scene.header.runMatch3Timer()},t.tryToBlockInputIfGameGonnaEnd=function(){var e=this.winLoseManager;(this.board.isBoardEmpty()||e.willLose())&&(this.scene.setGlobalSceneInputEnabled(!1),this.scene.setBlockEnableTopZone(!0))},t.updateFooterItems=function(){this.wieldMagicWandManager.isPlaying()||(this.undoManager.updateUndoItem(),this.returnManager.updateReturnItem(),this.addExtraSlotManager.updateExtraSlotItem(),this.wieldMagicWandManager.updateMagicWandItem(),this.checkStatusShuffleItem())},t.tryEndGame=function(){var e=(0,s.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.canWin()){e.next=3;break}return this.win(),e.abrupt("return",!0);case 3:if(!this.canLose()){e.next=6;break}return this.lose(),e.abrupt("return",!0);case 6:return e.abrupt("return",!1);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.checkStatusShuffleItem=function(){var e=this.scene.footer.shuffleItem;this.board.hasMoreThan1Tile()?e.updateStatusItemByAmount():e.softDisableItem()},t.handleWinDailyChallenge=function(){var e=(0,s.Z)(d().mark((function e(){var t,n,r,a,i,s,o,c,l;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Date.now(),n=this.scene.player.getCustomData("dailyChallenge"),r=n.daysCompleted,a=n.isTodayCompleted,i=new Date(t).setUTCHours(0,0,0,0),s=this.scene.screen.get(tn.o4.DAILY_CHALLENGE_SCREEN),a||this.scene.player.setCustomData("dailyChallenge",{daysCompleted:r+1,timeCompleted:i,isTodayCompleted:!0}),this.scene.audio.playSound(nn.Z.WIN,{volume:.5}),this.scene.setGlobalSceneInputEnabled(!1),e.next=9,this.scene.quickSetSingleMode();case 9:return o=e.sent,s.prepareFadeInFromGameplay(),e.next=13,u().all([this.loadNextLevelAsync(),this.scene.fadeOut(!1),this.scene.navigation.fadeOut(),this.scene.navigation.fadeOutHybrid(),this.scene.tutorialHandler.fadeOut()]);case 13:return e.next=15,this.waitUntilResultResourcesLoaded();case 15:return e.next=17,u().all([this.scene.navigation.fadeIn("DailyChallengeScreen",!1),this.scene.screen.openAsync(tn.o4.DAILY_CHALLENGE_SCREEN)]);case 17:if(o(),r+1!==5||a){e.next=30;break}return e.next=21,s.runAnimationOpenGift();case 21:return c=this.scene.player.getCustomData("coins"),l=c+500,this.scene.player.setCustomData("coins",l),e.next=26,this.scene.navigation.fadeInHybrid();case 26:return e.next=28,this.scene.navigation.runCoinAnimToCurData();case 28:return e.next=30,this.scene.navigation.fadeOutHybrid();case 30:this.scene.setBlockEnableTopZone(!1),this.scene.setGlobalSceneInputEnabled(!0);case 32:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.handleWinChallengeMode=function(){var e=(0,s.Z)(d().mark((function e(t){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,ai.Z)(this.scene,1500);case 2:return n=this.scene.header.getScoreChallenge(),e.next=5,this.scene.storage.dispatch(rl({score:n,level:t}));case 5:return e.next=7,this.scene.storage.dispatch(hl());case 7:return e.next=9,this.waitForRackFinishPlayingTweens();case 9:return e.next=11,(0,ai.Z)(this.scene,1e3);case 11:return this.scene.audio.playSound(nn.Z.WIN,{volume:.5}),this.scene.setGlobalSceneInputEnabled(!1),e.next=15,u().all([this.scene.fadeOut(!1),this.scene.navigation.fadeOut(),this.scene.navigation.fadeOutHybrid(),this.scene.tutorialHandler.fadeOut()]);case 15:return e.next=17,this.waitUntilResultResourcesLoaded();case 17:return e.next=19,u().all([this.scene.screen.openAsync(tn.o4.RESULT_CHALLENGE_SCREEN),this.scene.navigation.fadeIn("ResultChallenge")]);case 19:this.scene.setBlockEnableTopZone(!1),this.scene.setGlobalSceneInputEnabled(!0);case 21:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.handleWinSingleMode=function(){var e=(0,s.Z)(d().mark((function e(){var t,n,r,a,i;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.scene.player.getCustomData("level"),n=this.scene.level.getMaxLevel(),(r=t===n+1)||this.updateWisdom(),e.next=6,this.waitForRackFinishPlayingTweens();case 6:return a=this.scene.level.getLevel(),this.scene.level.nextLevel(),i=this.scene.level.getLevel(),a==i&&(i+=1),e.next=12,this.scene.updatePlayerLevel(i);case 12:return e.next=14,(0,ai.Z)(this.scene,1e3);case 14:return this.scene.audio.playSound(nn.Z.WIN,{volume:.5}),this.scene.setGlobalSceneInputEnabled(!1),e.next=18,u().all([this.loadNextLevelAsync(),this.scene.fadeOut(!1),this.scene.navigation.fadeOut(),this.scene.tutorialHandler.fadeOut()]);case 18:return this.scene.addShortcut(),e.next=21,this.scene.screen.openAsync(tn.o4.WELL_DONE_SCREEN,{level:i});case 21:return this.scene.screen.close(tn.o4.WELL_DONE_SCREEN),e.next=24,this.waitUntilResultResourcesLoaded();case 24:return e.next=26,this.scene.screen.openAsync(tn.o4.RESULT_SCREEN,{hasPreviouslyFinishAllLevel:r,level:i});case 26:this.scene.setBlockEnableTopZone(!1),this.scene.setGlobalSceneInputEnabled(!0);case 28:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.handleWinTournamentMode=function(){var e=(0,s.Z)(d().mark((function e(t){var n,r,a,i,o,c=this;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,ai.Z)(this.scene,1500);case 2:return n=this.scene.header.getScoreChallenge(),r=function(){var e=(0,s.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.scene.storage.dispatch(rl({score:n,level:t}));case 2:return e.next=4,c.scene.storage.dispatch(hl());case 4:return e.abrupt("return",c.scene.tournament.getLeaderPayloadsAsync(n));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),a=function(){var e=(0,s.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.waitForRackFinishPlayingTweens();case 2:return e.next=4,(0,ai.Z)(c.scene,1e3);case 4:return c.scene.audio.playSound(nn.Z.WIN,{volume:.5}),c.scene.setGlobalSceneInputEnabled(!1),e.next=8,u().all([c.scene.fadeOut(!1),c.scene.navigation.fadeOut(),c.scene.navigation.fadeOutHybrid(),c.scene.tutorialHandler.fadeOut()]);case 8:return e.next=10,c.scene.screen.openAsync(tn.o4.WELL_DONE_SCREEN,{level:t,runRibbonTurquoiseAnimation:!1});case 10:return c.scene.screen.close(tn.o4.WELL_DONE_SCREEN),e.next=13,c.waitUntilResultResourcesLoaded();case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.next=7,u().all([r(),a()]);case 7:return i=e.sent,o=i[0],e.next=11,this.scene.storage.dispatch(Tc(n));case 11:return e.next=13,this.scene.screen.openAsync(tn.o4.WORLD_TOURNAMENT_SCREEN,{leaderPayloads:o});case 13:this.scene.setBlockEnableTopZone(!1),this.scene.setGlobalSceneInputEnabled(!0);case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.win=function(){var e=(0,s.Z)(d().mark((function e(){var t,n,r,a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.winLoseManager.isPlaying()){e.next=3;break}return e.abrupt("return");case 3:if(t=this.scene.storage.getState(),n=oa(t),r=this.scene.level.getLevel(),this.winLoseManager.switchToWin(),this.rescueManager.setRescued(!1),a=this.scene.gameManager.levelDataManager.getLevelTileCount(),window.game.analytics.event(sn._.WINNING),zs(r,!0,a),n!=ta&&Ws(r),n!==aa){e.next=16;break}return e.abrupt("return",this.handleWinTournamentMode(r));case 16:if(na!=n){e.next=20;break}return e.abrupt("return",this.handleWinChallengeMode(r));case 20:if(n!=ia){e.next=23;break}return this.handleWinDailyChallenge(),e.abrupt("return");case 23:return e.abrupt("return",this.handleWinSingleMode());case 24:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.waitUntilResultResourcesLoaded=function(){var e=(0,s.Z)(d().mark((function e(){var t,n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.scene.scene.get(fa.C.LOAD_SCENE),n=this.scene.game.globalScene,!t.importantLazyResourcesLoaded){e.next=4;break}return e.abrupt("return");case 4:return n.screen.open(tn.o4.NOTIFY_SCREEN,{message:"Loading...",loading:!0}),e.next=7,t.waitUntilImportantLazyResourcesLoaded();case 7:n.screen.close(tn.o4.NOTIFY_SCREEN);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.updateWisdom=function(){var e=GameCore.Configs.Level.wisdomPerLevel,t=this.scene.player.getBestScore()+e;this.scene.player.setBestScore(t),GameSDK.submitGameResultsAsync(t)},t.loadNextLevelAsync=function(){var e=(0,s.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.scene.level.getLevelData()){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,this.scene.level.preloadLevelDataAsync();case 6:if(void 0!==e.sent){e.next=9;break}throw new Error("Can not load new level!");case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),console.warn("Error loading next level",e.t0);case 14:case"end":return e.stop()}}),e,this,[[3,11]])})));return function(){return e.apply(this,arguments)}}(),t.lose=function(){var e=(0,s.Z)(d().mark((function e(){var t;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=this.winLoseManager).isPlaying()){e.next=3;break}return e.abrupt("return");case 3:return this.scene.handlePausePWF(),window.game.analytics.event(sn._.LOSING),t.switchToLose(),e.next=8,this.waitForRackFinishPlayingTweens();case 8:return this.scene.tutorialHandler.fadeOut(),e.next=11,u().all([this.scene.screen.openAsync(tn.o4.NO_MORE_MOVES_SCREEN),this.scene.navigation.fadeIn("NoMoreMoves")]);case 11:this.scene.setBlockEnableTopZone(!1),this.scene.setGlobalSceneInputEnabled(!0);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.waitForRackFinishPlayingTweens=function(){var e=(0,s.Z)(d().mark((function e(){var t,n=this;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==(t=this.waitRackToLoseEvent)||t.remove(),this.isRackPlayingLogicalTweens()){e.next=3;break}return e.abrupt("return");case 3:return e.abrupt("return",new(u())((function(e){n.waitRackToLoseEvent=n.scene.time.addEvent({delay:100,callback:function(){var t;n.isRackPlayingLogicalTweens()||(null==(t=n.waitRackToLoseEvent)||t.remove(),e())},loop:!0})})));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.buildLevel=function(e){this.levelDataManager.setLevelConfig(e),this.init()},t.canUndo=function(){return this.undoManager.canUndo()},t.undoAsync=function(){var e=(0,s.Z)(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===t&&(t=!0),e.abrupt("return",this.undoManager.undoAsync(t));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.removeTileViewsFromMoveStack=function(e){this.undoManager.removeTileViewsFromMoveStack(e)},t.pushMoveBoardToRackData=function(e){this.undoManager.pushMoveBoardToRackData(e)},t.canReturn=function(){return this.returnManager.canReturn()},t.returnAsync=function(){var e=(0,s.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.returnManager.returnAsync());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.canAddExtraSlot=function(){return this.addExtraSlotManager.canAddExtraSlot()},t.addExtraSlotAsync=function(){var e=(0,s.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.addExtraSlotManager.addExtraSlotAsync());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.canWieldMagicWand=function(){return this.wieldMagicWandManager.canWieldMagicWand()},t.wieldMagicWandAsync=function(){var e=(0,s.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.wieldMagicWandManager.wieldMagicWandAsync());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.rescueAsync=function(){return function(e){var t,n=window.game.storage.getState(),r=oa(n);window.game.analytics.event(sn._.LEVEL_RESCUE,{level:e,score:window.game.player.getBestScore(),level_name:"level_"+Gs()(t=GameCore.Utils.Number).call(t,e,6),is_default_generation:!window.game.level.isLevelDynamic(e),game_mode:GameCore.Utils.String.toUpperCamelCase(r)})}(this.scene.level.getLevel()),function(e){var t,n=window.game.storage.getState(),r=oa(n);window.game.analytics.event(sn._.MATCH_RESCUE,{game_mode:GameCore.Utils.String.toUpperCamelCase(r),level:e,level_name:"level_"+Gs()(t=GameCore.Utils.Number).call(t,e,6)})}(this.scene.level.getLevel()),this.winLoseManager.switchToPlaying(),this.rescueManager.rescueAsync()},t.setRescued=function(e){this.rescueManager.setRescued(e)},t.getRescued=function(){return this.rescueManager.getRescued()},t.canShowRescueButton=function(){return this.rescueManager.canShowRescueButton()},t.canWin=function(){return this.winLoseManager.canWin()},t.canLose=function(){return this.winLoseManager.canLose()},t.increaseMatched3TileViewCount=function(e){return this.winLoseManager.increaseMatched3TileViewCount(e)},t.isRackPlayingLogicalTweens=function(){return this.rack.isPlayingLogicalTweens()},t.enableBoardTileViewClick=function(e){this.board.enableTileViewClick(e)},t.canClickBoardTileView=function(){var e=this.board,t=this.winLoseManager;return e.canClickTileView()&&t.isPlaying()},t.isPlaying=function(){return this.winLoseManager.isPlaying()},t.isLosing=function(){return this.winLoseManager.isLosing()},t.handleClickShuffleItem=function(){var e=(0,s.Z)(d().mark((function e(){var t,n,r,a,i,s,o,c,l,h,p,f=this;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isPlaying()){e.next=2;break}return e.abrupt("return");case 2:if(!this.isRackPlayingLogicalTweens()){e.next=4;break}return e.abrupt("return");case 4:return this.board.setDepth(Go.Z.RACK+1),this.scene.setGlobalSceneInputEnabled(!1),r=this.getShuffleConfig(),a=r.config,i=r.maxRow,s=r.maxCol,o=r.minRow,c=r.minCol,l=r.bonusSpace,h=r.maxScale,wr()(t=P()(n=[]).call(n,a)).call(t,(function(e,t){return e.depth-t.depth})).forEach((function(e){var t=e.applyFor;f.scene.gameManager.board.bringToTop(t)})),p=[],a.forEach((function(e){var t=e.applyFor,n=e.toX,r=e.toY,a=e.endIcon,u=e.row,d=e.col,f=t.playAnimationShuffleAsync({toX:n,toY:r,endIcon:a,row:u,col:d,maxRow:i,maxCol:s,minRow:o,minCol:c,bonusSpace:l,maxScale:h});p.push(f)})),this.scene.audio.playSound(nn.Z.SHUFFLE_START),e.next=14,u().all(p);case 14:return a.forEach((function(e){var t=e.applyFor,n=e.endIcon;t.tileModel.setIcon(n),t.refresh({positionRefresh:!0,iconRefresh:!0,overlayRefresh:!1}),f.scene.gameManager.board.bringToTop(t)})),this.scene.audio.playSound(nn.Z.TILE_DROP),e.next=18,(0,ai.Z)(this.scene,350);case 18:this.scene.setGlobalSceneInputEnabled(!0),this.board.setDepth(Go.Z.BOARD);case 20:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.getShuffleConfig=function(){var e,t=this.board.getAllTiles(),n=P()(e=[]).call(e,t);GameCore.Utils.Array.shuffle(n);var r=[],a=-1,i=-1,s=100,o=100,c=0;t.forEach((function(e,u){var l,d=n[u].tileModel;if(!d)return r.push({toX:0,toY:0,depth:0,endIcon:"",applyFor:e,row:-1,col:-1}),void console.error("tileModel is undefined");c||(c=e.displayWidth);var h=n[u],p=h.x,f=h.y,m=d.x,g=d.y,v=d.z,y=Ht()(n).call(n,e),k=(null==(l=t[y].tileModel)?void 0:l.icon)||"";g>a&&(a=g),m>i&&(i=m),g<s&&(s=g),m<o&&(o=m),r.push({toX:p,toY:f,depth:v,endIcon:k,applyFor:e,row:g,col:m})}));for(var u=i-o+1,l=1.2,d=this.scene.gameZone.width-u*(c+2)*l-10;d<0;)l=parseFloat((l-.01).toFixed(2)),d=this.scene.gameZone.width-u*(c+2)*l-10;return{config:r,maxRow:a,maxCol:i,minRow:s,minCol:o,bonusSpace:2,maxScale:l}},t.getRemainingCountToWin=function(){return this.winLoseManager.getRemainingCountToWin()},t.prepareFadeIn=function(){[this.rack,this.board].forEach((function(e){e.revive(),e.prepareFadeIn()})),this._topContainer.revive()},t.fadeIn=function(){var e=(0,s.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u().all([this.rack.fadeIn(),this.board.fadeIn()]);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.fadeOut=function(){var e=(0,s.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.board.kill(),this.rack.prepareFadeOut(),this._topContainer.kill(),e.next=5,this.rack.fadeOut();case 5:this.rack.kill();case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.tryWarningRackIsAlmostFull=function(){var e=this.rack;this.isPlaying()&&e.isAlmostFull()&&(e.isMatching3()||e.playAlmostFullAnimation())},t.stopRackAlmostFullAnimation=function(){this.rack.stopAlmostFullAnimation()},(0,le.Z)(e,[{key:"topContainer",get:function(){return{addTileViews:this._topContainer.add.bind(this._topContainer),detachTileView:this._topContainer.remove.bind(this._topContainer),getLocalPosition:this._topContainer.getLocalPosition.bind(this._topContainer)}}}]),e}(),kl=yl,bl=Na.Z.DEFAULT,El=bl.KEY,xl=bl.FRAME,Sl=function(e){function t(t){var n;return(n=e.call(this,t)||this).icon=void 0,n.text=void 0,n.createIcon(),n.createText(),n.alignIconAndText(),n}(0,o.Z)(t,e);var n=t.prototype;return n.createIcon=function(){var e=this.scene.make.image({key:El,frame:xl.SHOP_SCREEN_COIN});e.setWorldSize(14,15),this.add(e),this.icon=e},n.createText=function(){var e=this.scene.make.text({style:{fontFamily:Ee.Z.FONT_FAMILY,fontSize:"13px"},text:"150"});e.setHighQuality(),e.setOrigin(.5,.5),this.add(e);var t=e.context.createLinearGradient(0,0,0,e.height);t.addColorStop(0,"#ffffff"),t.addColorStop(1,"#cce5f9"),e.setFill(t),e.setShadow(0,6,"#0000003F",0,!1,!0),this.text=e},n.setText=function(e){this.text.setText("x "+e),this.alignIconAndText()},n.alignIconAndText=function(){var e=this.icon.width,t=this.text.displayWidth,n=e+t;Phaser.Display.Align.In.Center(this.text,this,-n/2+t/2-.5,-1),Phaser.Display.Align.In.Center(this.icon,this,n/2-e/2+.5)},t}(Phaser.GameObjects.Container),wl=Sl,Al={USING_COINS:"using-coins",UPDATE_STATUS_ITEM:"update-status-item",UPDATE_ITEM_AMOUNT:"update-item-amount"},Cl=Na.Z.GAMEPLAY,Tl=Cl.KEY,Ll=Cl.FRAME,Il=function(e){function t(t,n){var r;return(r=e.call(this,t,Tl,Ll.BTN_CIRCLE,67.5,68.5)||this).icon=void 0,r.itemScale=void 0,r.coinPrice=void 0,r.offsetX=void 0,r.offsetY=void 0,r.price=150,r.amount=void 0,r.amountItem=void 0,r.amountText=void 0,r.amountBg=void 0,r.adText=void 0,r.createIcon(n),r.createAmountText(),r.createCoinPrice(),r.createAdText(),r.updateAmount(),r.listenEvent(),r}(0,o.Z)(t,e);var n=t.prototype;return n.listenEvent=function(){qc.on(Al.UPDATE_STATUS_ITEM,this.updateStatusItemByAmount.bind(this)),qc.on(Al.UPDATE_ITEM_AMOUNT,this.updateAmount.bind(this))},n.createIcon=function(e){var t=e.key,n=e.frame,r=e.worldSize,a=e.x,i=e.y,s=this.scene.make.image({key:t,frame:n});if(r){var o=r.width,c=r.height;s.setWorldSize(o,c)}else s.setSizeBasedOnDpr();this.add(s),this.offsetX=a||0,this.offsetY=i||0,s.setPosition(a,i),this.itemScale=s.scale,this.icon=s},n.createAmountText=function(){this.amountItem=this.scene.add.container(),this.amountText=this.scene.make.bitmapText({font:Ee.Z.NUMBERS.KEY,size:this.scene.fontSize(37),origin:{x:.5,y:.5}}),this.amountText.setCenterAlign(),this.amountBg=this.scene.make.image({key:Tl,frame:Ll.BUTTON_BLUE_CIRCLE_SMALL}),this.amountBg.setWorldSize(22,22),this.amountBg.setTintFill(10616832),Phaser.Display.Align.In.Center(this.amountText,this.amountBg,0,0),this.amountItem.add([this.amountBg,this.amountText]),Phaser.Display.Align.In.BottomRight(this.amountItem,this,-14,-14),this.add(this.amountItem)},n.createCoinPrice=function(){this.coinPrice=new wl(this.scene),this.coinPrice.setVisible(!1),this.add(this.coinPrice),Phaser.Display.Align.In.Center(this.coinPrice,this,0,13)},n.createAdText=function(){var e=this.scene.lang.Text.AD,t=this.scene.make.text({style:{fontFamily:Ee.Z.FONT_FAMILY,fontSize:"13px"},text:e});t.setHighQuality(),t.setOrigin(.5,.5);var n=t.context.createLinearGradient(0,0,0,t.height);n.addColorStop(0,"#ffffff"),n.addColorStop(1,"#cce5f9"),t.setFill(n),t.setShadow(0,6,"#0000003F",0,!1,!0),this.adText=t,this.add(this.adText),Phaser.Display.Align.In.Center(this.adText,this,0,13)},n.enableItem=function(){this.scene.tutorialHandler.isGameInTutorialLevels()||this.setDisabled(!1)},n.disableItem=function(){this.setDisabled(!0),this.setAlpha(1)},n.softDisableItem=function(){this.setDisabled(!0)},n.updateAmount=function(){},n.decreaseAmount=function(){this.setAmount(this.amount-1)},n.setAmount=function(e){this.amount=e;var t=e.toString();this.amountText.setText(t),this.updateStatusItemByAmount()},n.updateStatusItemByAmount=function(){(this.enableItem(),0==this.amount)?this.scene.player.getCustomData("coins")<this.price?(this.hideCoinPrice(),this.showAdText()):(this.hideAdText(),this.showCoinPrice()):(this.hideCoinPrice(),this.hideAdText())},n.showCoinPrice=function(){this.icon.setScale(.7*this.itemScale),this.coinPrice.setVisible(!0),this.amountItem.setVisible(!1),this.icon.setY(-11)},n.hideCoinPrice=function(){this.icon.setScale(this.itemScale),this.coinPrice.setVisible(!1),this.amountItem.setVisible(!0),this.alignItem()},n.showAdText=function(){this.icon.setScale(.7*this.itemScale),this.coinPrice.setVisible(!1),this.amountItem.setVisible(!1),this.adText.setVisible(!0),this.icon.setY(-11)},n.hideAdText=function(){this.icon.setScale(this.itemScale),this.coinPrice.setVisible(!1),this.amountItem.setVisible(!0),this.adText.setVisible(!1),this.alignItem()},n.alignItem=function(){this.icon.setPosition(this.offsetX,this.offsetY)},n.processCallback=function(){var e=(0,s.Z)(d().mark((function e(t){var n,r,a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null==(n=this.upAnimation)||n.stop(),null==(r=this.downAnimation)||r.stop(),null==(a=this.scene)||a.tweens.killTweensOf(this),-1!==this.scaleUp&&this.setScale(this.scaleUp),t();case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),n.useItem=function(){var e=(0,s.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.adText.visible){e.next=8;break}return e.next=3,to(this.name);case 3:if(!e.sent){e.next=7;break}return this.updateStatusItemByAmount(),e.abrupt("return",!0);case 7:return e.abrupt("return",!1);case 8:if(!this.coinPrice.visible){e.next=12;break}return qc.emit(Al.USING_COINS,this.price),this.updateStatusItemByAmount(),e.abrupt("return",!0);case 12:return this.decreaseAmount(),e.abrupt("return",!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t}(io.Z),Pl=Il,_l=function(e){function t(t,n){var r,a=n.key,i=n.frame,s=n.x,o=n.y;return(r=e.call(this,t,{key:a,frame:i,x:s,y:o})||this).setName(so.ITEM_SHUFFLE),r}(0,o.Z)(t,e);var n=t.prototype;return n.updateAmount=function(){var e=this.scene.player.getCustomData("items");this.amount=e.shuffle,this.setAmount(this.amount)},n.decreaseAmount=function(){e.prototype.decreaseAmount.call(this),this.scene.player.setMultiCustomData({items:{shuffle:this.amount}})},t}(Pl),Bl=_l,Ol=function(e){function t(t,n){var r,a=n.key,i=n.frame,s=n.x,o=n.y;return(r=e.call(this,t,{key:a,frame:i,x:s,y:o})||this).notification=void 0,r.setName(so.ITEM_MAGIC_WAND),r}(0,o.Z)(t,e);var n=t.prototype;return n.updateAmount=function(){var e=this.scene.player.getCustomData("items");this.amount=e.magicWand,this.setAmount(this.amount)},n.decreaseAmount=function(){e.prototype.decreaseAmount.call(this),this.scene.player.setMultiCustomData({items:{magicWand:this.amount}})},t}(Pl),Rl=Ol,Ml=function(e){function t(t,n){var r,a=n.key,i=n.frame,s=n.x,o=n.y;return(r=e.call(this,t,{key:a,frame:i,x:s,y:o})||this).setName(so.ITEM_UNDO),r}(0,o.Z)(t,e);var n=t.prototype;return n.updateAmount=function(){var e=this.scene.player.getCustomData("items");this.amount=e.undo,this.setAmount(this.amount)},n.decreaseAmount=function(){e.prototype.decreaseAmount.call(this),this.scene.player.setMultiCustomData({items:{undo:this.amount}})},n.updateStatusItemByAmount=function(t){(void 0===t&&(t=!1),1==this.alpha||t)?e.prototype.updateStatusItemByAmount.call(this):0==this.amount?this.scene.player.getCustomData("coins")<this.price?(this.hideCoinPrice(),this.showAdText()):(this.hideAdText(),this.showCoinPrice()):(this.hideCoinPrice(),this.hideAdText())},t}(Pl),Nl=Ml;function Dl(e,t){var n="undefined"!==typeof C()&&L()(e)||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){var n;if(!e)return;if("string"===typeof e)return Fl(e,t);var r=x()(n=Object.prototype.toString.call(e)).call(n,8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return w()(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Fl(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Fl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Gl=Na.Z.GAMEPLAY,Zl=Gl.KEY,Ul=Gl.FRAME,Kl=function(e){function t(t){var n;return(n=e.call(this,t)||this).scene=void 0,n.undoItem=void 0,n.magicWandItem=void 0,n.shuffleItem=void 0,n.extraSlotItem=void 0,n.returnItem=void 0,n.scaleContainers=[],n.handleUndoClick=(0,s.Z)(d().mark((function e(){var t;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.isGamePlaying()){e.next=2;break}return e.abrupt("return");case 2:if(!(t=n.scene.gameManager).isRackPlayingLogicalTweens()){e.next=5;break}return e.abrupt("return");case 5:if(!t.canUndo()){e.next=18;break}return e.next=8,n.undoItem.useItem();case 8:if(e.sent){e.next=11;break}return e.abrupt("return");case 11:return n.fadeOutItems(100,0),e.next=14,t.undoAsync();case 14:return e.next=16,n.fadeInItems(100,0);case 16:t.updateFooterItems(),qs("undo");case 18:case"end":return e.stop()}}),e)}))),n.handleClickShuffleItem=(0,s.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.isGamePlaying()){e.next=2;break}return e.abrupt("return");case 2:if(!n.scene.gameManager.isRackPlayingLogicalTweens()){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,n.shuffleItem.useItem();case 7:if(e.sent){e.next=10;break}return e.abrupt("return");case 10:return n.fadeOutItems(100,0),e.next=13,n.scene.gameManager.handleClickShuffleItem();case 13:return e.next=15,n.fadeInItems(100,0);case 15:n.scene.gameManager.updateFooterItems(),qs("shuffle");case 17:case"end":return e.stop()}}),e)}))),n.handleMagicWandClick=(0,s.Z)(d().mark((function e(){var t;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.isGamePlaying()){e.next=2;break}return e.abrupt("return");case 2:if(!(t=n.scene.gameManager).isRackPlayingLogicalTweens()){e.next=5;break}return e.abrupt("return");case 5:if(!t.canWieldMagicWand()){e.next=19;break}return e.next=8,n.magicWandItem.useItem();case 8:if(e.sent){e.next=11;break}return e.abrupt("return");case 11:return n.fadeOutItems(100,0),e.next=14,t.wieldMagicWandAsync();case 14:return e.next=16,n.fadeInItems(100,0);case 16:t.updateFooterItems(),qs("magicWand"),n.scene.logStepProgress();case 19:case"end":return e.stop()}}),e)}))),n.scene=t,n.setSize(375,Oa()),n.setDepth(Go.Z.FOOTER),n.createMagicWandItem(),n.createUndoItem(),n.createShuffleItem(),t.add.existing((0,Ca.Z)(n)),n}(0,o.Z)(t,e);var n=t.prototype;return n.prepareFadeIn=function(){[this.shuffleItem,this.undoItem,this.magicWandItem].forEach((function(e){e.setAlpha(.3),e.setScale(0)}))},n.fadeIn=function(){var e=(0,s.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u().all([qa([this.shuffleItem],250,500),qa([this.undoItem],250,530),qa([this.magicWandItem],250,560)]);case 2:return e.next=4,this.fadeInItems(300,400);case 4:return e.abrupt("return",u().resolve());case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.updateResponsiveScale=function(e){for(var t,n=Dl(this.scaleContainers);!(t=n()).done;){t.value.setScale(e)}this.setSize(375,Oa())},n.fadeInItems=function(){var e=(0,s.Z)(d().mark((function e(t,n){var r,a,i,s,o,c,l,h,p;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=[],a=this.scene.gameManager,i=a.undoManager,s=a.wieldMagicWandManager,o=a.board,c=this.scene.tutorialHandler.isGameInTutorialLevels(),l=i.canUndo()&&!c?1:.5,h=s.canWieldMagicWand()&&!c?1:.5,p=o.hasMoreThan1Tile()&&!c?1:.5,r.push(Ya([this.undoItem],t,n,l,!1)),r.push(Ya([this.magicWandItem],t,n,h,!1)),r.push(Ya([this.shuffleItem],t,n,p,!1)),e.abrupt("return",u().all(r));case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),n.fadeOutItems=function(){var e=(0,s.Z)(d().mark((function e(t,n){var r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=[]).push(Ya([this.undoItem],t,n,.5,!1)),r.push(Ya([this.magicWandItem],t,n,.5,!1)),r.push(Ya([this.shuffleItem],t,n,.5,!1)),e.abrupt("return",u().all(r));case 5:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),n.fadeOut=function(){var e=(0,s.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ja([this.shuffleItem,this.undoItem,this.magicWandItem],230,0,.3);case 2:return e.next=4,u().all([Ja([this.shuffleItem],220,0),Ja([this.undoItem],240,0),Ja([this.magicWandItem],220,50)]);case 4:return e.abrupt("return",u().resolve());case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.createUndoItem=function(){var e=new Nl(this.scene,{key:Zl,frame:Ul.ICON_UNDO,x:0,y:-1});e.onClick=this.handleUndoClick;var t=this.scene.make.container({});t.setScale(Ba.FOOTER_SCALE),t.add(e),this.add(t),t.setX(-100),this.undoItem=e,this.scaleContainers.push(t)},n.createShuffleItem=function(){this.shuffleItem=new Bl(this.scene,{key:Zl,frame:Ul.ICON_SHUFFLE,x:0,y:-2}),this.shuffleItem.onClick=this.handleClickShuffleItem;var e=this.scene.make.container({});e.setScale(Ba.FOOTER_SCALE),e.add(this.shuffleItem),this.add(e),e.setX(100),this.scaleContainers.push(e)},n.createMagicWandItem=function(){var e=new Rl(this.scene,{key:Zl,frame:Ul.ICON_HELP,x:2.5,y:-1});e.onClick=this.handleMagicWandClick;var t=this.scene.make.container({});t.setScale(Ba.FOOTER_SCALE),t.add(e),this.add(t),this.magicWandItem=e,this.scaleContainers.push(t)},n.isGamePlaying=function(){return this.scene.gameManager.isPlaying()},t}(Phaser.GameObjects.Container),Hl=Kl,Wl=Na.Z.DEFAULT.KEY,Vl=function(e){function t(t,n){var r;return(r=e.call(this,t,Wl,n.backgroundOn)||this).options=void 0,r.icon=void 0,r.getFrameByStatus=function(){var e=r.options,t=e.enable,n=e.frameOn,a=e.frameOff;return t?n:a},r.getBackgroundByStatus=function(){var e=r.options,t=e.enable,n=e.backgroundOn,a=e.backgroundOff;return t?n:a},r.createButton=function(e){var t=r.getBackgroundByStatus();r.button=r.scene.add.image(0,0,e,t),r.add(r.button)},r.options=n,r.createIcon(),r.soundKey=void 0,r}(0,o.Z)(t,e);var n=t.prototype;return n.processCallback=function(e){var t=this.options.enable;this.scene.audio.playSound(nn.Z.SWITCH,{volume:.5}),this.updateStatus(!t),e(!t)},n.updateStatus=function(e){this.options.enable=e;var t=this.getFrameByStatus();this.icon.setFrame(t);var n=this.getBackgroundByStatus();this.button.setFrame(n)},n.createIcon=function(){var e=this.getFrameByStatus();this.icon=this.scene.make.image({key:Wl,frame:e}),this.add(this.icon),Phaser.Display.Align.In.Center(this.icon,this.button)},n.logButtonEvent=function(){var e=this.getParentName(),t=this.name,n=!this.options.enable;this.scene.analytics.event(sn._.BUTTON_CLICK,{button_name:t,screen_name:e,enable:n})},t}(io.Z),Yl=Vl,zl=Na.Z.DEFAULT.FRAME,jl=function(e){function t(t){var n;return(n=e.call(this,t,{enable:!0,frameOn:zl.SETTINGS_SCREEN_S_ON,frameOff:zl.SETTINGS_SCREEN_S_OFF,backgroundOn:zl.SETTINGS_SCREEN_SWITCH_FRAME,backgroundOff:zl.SETTINGS_SCREEN_SWITCH_FRAME})||this).slideAnimation=void 0,n.setSize(60,27.5),n.icon.setSizeBasedOnDpr(),n.bringToTop(n.icon),n}(0,o.Z)(t,e);var n=t.prototype;return n.updateStatus=function(t){e.prototype.updateStatus.call(this,t),this.alignSwitch()},n.setStatus=function(e){var t;this.updateStatus(e),null==(t=this.slideAnimation)||t.remove(),this.icon.setX(e?16:-16)},n.updateSize=function(){this.button.setWorldSize(60,27.5),e.prototype.updateSize.call(this)},n.alignSwitch=function(){var e=this.options.enable;this.runSlideAnimation(e?16:-16)},n.runSlideAnimation=function(){var e=(0,s.Z)(d().mark((function e(t){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null==(n=this.slideAnimation)||n.remove(),this.slideAnimation=this.scene.tweens.add({targets:this.icon,x:t,duration:300,ease:Phaser.Math.Easing.Cubic.InOut}),e.next=4,this.slideAnimation.waitForCompletion();case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t}(Yl),Xl=jl;function ql(e,t){var n="undefined"!==typeof C()&&L()(e)||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){var n;if(!e)return;if("string"===typeof e)return Ql(e,t);var r=x()(n=Object.prototype.toString.call(e)).call(n,8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return w()(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ql(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ql(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Jl=Na.Z.GAMEPLAY,$l=Jl.KEY,ed=Jl.FRAME,td=function(e){function t(t){var n;return(n=e.call(this,t)||this).scene=void 0,n.buttonAutoPlay=void 0,n.buttonNextStep=void 0,n.buttonUseItems=void 0,n.textAutoPlay=void 0,n.textNextStep=void 0,n.enableAutoPlay=!1,n.enableUseItems=!1,n.nextStepTimer=void 0,n.skipTimeUseItem=0,n.handleClickAutoPlay=function(){console.log("auto play"),n.enableAutoPlay?(n.enableAutoPlay=!1,n.textAutoPlay.clearTint(),n.nextStepTimer.remove()):(n.enableAutoPlay=!0,n.textAutoPlay.setTint(16711680),n.autoPlay())},n.nextStep=function(){var e=n.scene.gameManager.board.clusters,t=n.scene.gameManager.rack.tileViews,r=[];for(var a in e){var i="1/2";e[a]instanceof Li&&(i="3/40");var s=n.convertBoardMapToTileMap(e[a].boardMap,i);r.push(s)}for(var o=[],c=0;c<t.length;c++){var u=t[c].tileModel;if(!u.isMatched3()){var l=u.icon;o.push(l)}}var d=n.getTilesCollectable(r);if(0!=d.length){for(var h=d[Math.floor(Math.random()*d.length)],p=[],f=function(){var e=d[m];2==Me()(o).call(o,(function(t){return t==e.icon})).length&&p.push(e)},m=0;m<d.length;m++)f();if(0==p.length)for(var g=0;g<d.length;g++){var v=d[g],k=Ei.deepCopy(r),b=k[v.inUsedTileMapIndex||0];n.detachTileView(v,b);for(var E=n.getTilesCollectable(k),x=function(){var e=E[S];2==Me()(o).call(o,(function(t){return t==e.icon})).length&&p.push(v)},S=0;S<E.length;S++)x()}if(0==p.length){for(var w=[],A=0;A<d.length;A++){var C=d[A];y()(o).call(o,C.icon)&&w.push(C)}w.length>0&&(h=w[Math.floor(Math.random()*w.length)])}else h=p[Math.floor(Math.random()*p.length)];o.push(h.icon);var T=h.position,L=T.x,I=T.y,P=T.z,_=h.key;_&&(e[_]||(_="return-cluster-id"));var B=e[_||"return-cluster-id"].boardMap[P][I][L];B&&B.handleOnClick(),o=n.checkRack(o)}},n.handleClickNextStep=function(){console.log("next step"),n.enableAutoPlay||(Math.random()<.2&&n.enableUseItems?n.useRandomItem():n.nextStep())},n.handleClickUseItems=function(){n.enableUseItems?n.enableUseItems=!1:n.enableUseItems=!0},n.scene=t,n.setSize(64,30),n.createButtonAutoPlay(),n.createButtonNextStep(),n.createButtonUseIcon(),n}(0,o.Z)(t,e);var n=t.prototype;return n.createButtonAutoPlay=function(){this.buttonAutoPlay=new io.Z(this.scene,$l,ed.NO_MORE_SCREEN_BTN_BLUE,64,30);var e=this.scene.make.text({style:{fontFamily:Ee.Z.FONT_FAMILY,fontSize:"15px"},text:"Auto Play"});e.setHighQuality(),e.setOrigin(.5,.5),this.textAutoPlay=e,this.buttonAutoPlay.add(this.textAutoPlay),this.buttonAutoPlay.onClick=this.handleClickAutoPlay,this.add(this.buttonAutoPlay),Phaser.Display.Align.In.Center(this.buttonAutoPlay,this,-65,0)},n.createButtonNextStep=function(){this.buttonNextStep=new io.Z(this.scene,$l,ed.NO_MORE_SCREEN_BTN_BLUE,64,30);var e=this.scene.make.text({style:{fontFamily:Ee.Z.FONT_FAMILY,fontSize:"15px"},text:"Next Step"});e.setHighQuality(),e.setOrigin(.5,.5),this.textNextStep=e,this.buttonNextStep.add(this.textNextStep),this.buttonNextStep.onClick=this.handleClickNextStep,this.add(this.buttonNextStep),Phaser.Display.Align.In.Center(this.buttonNextStep,this,0,0)},n.createButtonUseIcon=function(){var e=this.scene.add.container();this.buttonUseItems=new Xl(this.scene),this.buttonUseItems.updateStatus(this.enableAutoPlay);var t=this.scene.make.text({style:{fontFamily:Ee.Z.FONT_FAMILY,fontSize:"10px"},text:"Use Items"});t.setHighQuality(),t.setOrigin(.5,.5),t.setTint(2381475),this.buttonUseItems.add(t),this.buttonUseItems.onClick=this.handleClickUseItems,e.add([this.buttonUseItems,t]),this.buttonUseItems.setY(-3),t.setY(14),this.add(e),e.setScale(.8),Phaser.Display.Align.In.Center(e,this,60,0)},n.autoPlay=function(){var e=this,t={delay:100,loop:!0,callback:function(){var t=(0,s.Z)(d().mark((function t(){return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.scene.gameManager.canWin()&&!e.scene.gameManager.canLose()){t.next=4;break}return e.handleClickAutoPlay(),e.nextStepTimer.remove(),t.abrupt("return");case 4:if(!(e.skipTimeUseItem>0)){t.next=7;break}return e.skipTimeUseItem--,t.abrupt("return");case 7:Math.random()<.2&&e.enableUseItems?e.useRandomItem():(e.nextStep(),e.skipTimeUseItem=Phaser.Math.Between(4,5));case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()};this.nextStepTimer=this.scene.time.addEvent(t)},n.useRandomItem=function(){var e=this.scene.footer,t=[e.undoItem,e.shuffleItem,e.magicWandItem],n=t[Math.floor(Math.random()*t.length)];n&&n.callback&&(this.skipTimeUseItem=10,n.callback(),"ShuffleItem"==n.name&&(this.skipTimeUseItem=15))},n.convertBoardMapToTileMap=function(e,t){var n={};for(var r in e){var a=e[r];if(a){var i=Number(r);for(var s in n[i]||(n[i]={}),a){var o=a[s];if(o){var c=Number(s);for(var u in n[i][c]||(n[i][c]={}),o){var l=o[u];if(l){var d=Number(u);n[i][c][d]={position:{x:d,y:c,z:i},icon:l.tileModel.icon,inUsedTileMapIndex:0,type:t,key:""}}}}}}}return n},n.checkRack=function(e){for(var t=e[e.length-1],n=0,r=0;r<e.length-1;r++){e[r]===t&&n++}return 2==n&&(e=Me()(e).call(e,(function(e){return e!==t}))),e},n.detachTileView=function(e,t){if(!e)return!1;var n=e.position,r=n.x,a=n.y,i=n.z;return!!this.existPosition({x:r,y:a,z:i},t)&&(delete t[i][a][r],!0)},n.getTilesCollectable=function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];for(var a in r){var i=r[a];if(i)for(var s in i){var o=i[s];if(o)for(var c in o){var u=o[c];if(u){var l=u.position,d=u.type,h=void 0===d?"1/2":d,p=!this.existUpperTiles(l,r,h);u.inUsedTileMapIndex=n,u.key="cluster-"+n,p&&t.push(u)}}}}}return t},n.existUpperTiles=function(e,t,n){if(!this.existPosition(e,t))return!1;if("3/40"==n){var r,a=De()(r=te()(t)).call(r,Number),i=Math.max.apply(Math,a);return e.z<i}for(var s,o,c,u,l=wr()(s=Me()(o=De()(c=te()(t)).call(c,Number)).call(o,(function(t){return t>e.z}))).call(s,(function(e,t){return e-t})),d=xr()(Pa),h=ql(l);!(u=h()).done;)for(var p,f=u.value,m=ql(d);!(p=m()).done;){var g,v=p.value,y=e.x+v.x,k=e.y+v.y;if(null!=(g=t[f])&&null!=(g=g[k])&&g[y])return!0}return!1},n.existPosition=function(e,t){var n,r=e.x,a=e.y;return!(null==(n=t[e.z])||null==(n=n[a])||!n[r])},t}(Phaser.GameObjects.Container),nd=td,rd=Na.Z.GAMEPLAY,ad=rd.KEY,id=rd.FRAME,sd=function(e){function t(t){var n;return(n=e.call(this,t)||this).scene=void 0,n.backButton=void 0,n.winButton=void 0,n.loseButton=void 0,n.clearDataButton=void 0,n.numpadButton=void 0,n.handleBackButtonClick=function(){var e=Phaser.Math.Clamp(n.scene.level.getLevel()-1,1,GameCore.Configs.Level.maxLevel);n.setPlayerLevel(e),n.scene.level.preloadLevelDataAsync().then((function(){n.scene.startLevel()}))},n.handleWinButtonClick=function(){var e=Phaser.Math.Clamp(n.scene.level.getLevel()+1,1,GameCore.Configs.Level.maxLevel);n.setPlayerLevel(e),n.scene.level.preloadLevelDataAsync().then((function(){n.scene.startLevel()}))},n.handleLoseButtonClick=function(){n.scene.gameManager.lose()},n.handleClearDataButtonClick=(0,s.Z)(d().mark((function e(){var t;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new Xe({}).toObject(),e.abrupt("return",FBInstant.player.setDataAsync(t));case 2:case"end":return e.stop()}}),e)}))),n.handleNumpadButtonClick=function(){n.scene.screen.open("NUMPAD_SCREEN")},n.scene=t,n.setSize(100,25),n.createButtons(),n.alignComponents(),n}(0,o.Z)(t,e);var n=t.prototype;return n.createButtons=function(){this.backButton=this.createButton(this.handleBackButtonClick,"B"),this.winButton=this.createButton(this.handleWinButtonClick,"W"),this.loseButton=this.createButton(this.handleLoseButtonClick,"L"),this.clearDataButton=this.createButton(this.handleClearDataButtonClick,"C"),this.numpadButton=this.createButton(this.handleNumpadButtonClick,"N")},n.createButton=function(e,t){var n=new io.Z(this.scene,ad,id.BUTTON_BLUE_CIRCLE_SMALL,20,20);this.add(n);var r=this.scene.make.text({style:{fontFamily:Ee.Z.FONT_FAMILY,fontSize:"10px"},text:t});return r.setHighQuality(),r.setOrigin(.5,.5),n.add(r),r.setY(-1),n.onClick=e,n},n.setPlayerLevel=function(){var e=(0,s.Z)(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.scene.level.setLevel(t),e.abrupt("return",this.scene.player.setCustomData("level",t));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),n.alignComponents=function(){var e=this,t=[this.backButton,this.loseButton,this.winButton,this.clearDataButton,this.numpadButton];t.forEach((function(n,r){Phaser.Display.Align.In.BottomCenter(n,e,30*(r-t.length/2+.5))}))},t}(Phaser.GameObjects.Container),od=sd,cd="Enter level",ud=Na.Z.DEFAULT,ld=ud.KEY,dd=ud.FRAME,hd=function(e){function t(t,n,r,a){var i;return(i=e.call(this,t,n,r,a)||this).scene=void 0,i.preview=void 0,i.stack=[],i.scene=t,i.setDepth(tn.Ks.PRIORITY),i.background.setAlpha(.8),i.createCloseButton(),i.createPreview(),i.createClearButton(),i.createEnterButton(),i.createBackspaceButton(),i.createNumpad(),i}(0,o.Z)(t,e);var n=t.prototype;return n.createCloseButton=function(){var e=this,t=this.getNewButton("X",20,20,1);t.onClick=function(){e.scene.screen.close(e.name)},this.add(t),Phaser.Display.Align.In.TopRight(t,this,-10,-10)},n.createNumpad=function(){var e=this;w()({length:12}).forEach((function(t,n){var r=n+1;switch(n){case 9:case 11:return;case 10:r=0}var a=e.getNewButton(""+r,50,50,1);a.onClick=function(){console.log("Button "+r+" clicked"),0===e.stack.length&&0==r||(e.stack.push(r),e.updatePreview())},e.add(a);var i=Math.floor(n/3),s=n%3;a.setPosition(60*s-60,a.height/2+60*i+35)}))},n.createClearButton=function(){var e=this,t=this.getNewButton("\ud83e\uddf9",50,50,1);t.onClick=function(){console.log("Clear button clicked"),e.stack=[],e.updatePreview()},this.add(t),t.setX(-60)},n.createEnterButton=function(){var e=this,t=this.getNewButton("\u23ce",50,50,1),n=!1;t.onClick=(0,s.Z)(d().mark((function t(){var r;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log("Check button clicked"),!n){t.next=3;break}return t.abrupt("return");case 3:if(r=parseInt(e.preview.text),!(isNaN(r)||r>2e4)){t.next=7;break}return e.preview.setText("Invalid level"),t.abrupt("return");case 7:return console.log("success",r),n=!0,e.scene.level.setLevel(r),e.scene.updatePlayerLevel(r),t.next=13,e.scene.level.preloadLevelDataAsync();case 13:e.scene.startLevel(),n=!1;case 15:case"end":return t.stop()}}),t)}))),this.add(t)},n.createBackspaceButton=function(){var e=this,t=this.getNewButton("\u2b05\ufe0f",50,50,1);t.onClick=function(){console.log("Backspace button clicked"),e.stack.pop(),e.updatePreview()},this.add(t),t.setX(60)},n.createPreview=function(){var e=this.scene.make.bitmapText({size:this.scene.fontSize(100),font:Ee.Z.NUMBERS.KEY,origin:{x:.5,y:.5},text:cd});this.add(e),e.setY(-100),this.preview=e},n.updatePreview=function(){var e="";this.stack.forEach((function(t){e+=t.toString()})),""===e&&(e=cd),this.preview.setText(e)},n.getNewButton=function(e,t,n,r){void 0===t&&(t=50),void 0===n&&(n=50),void 0===r&&(r=1);var a=new io.Z(this.scene,ld,dd.BLANK,t,n);a.button.setAlpha(r);var i=this.scene.add.text(0,0,e,{fontSize:"15px",color:"#000000",align:"center",resolution:4});return i.setOrigin(.5,.5),a.add(i),a},t}(GameCore.Screen),pd=hd,fd=function(e){function t(t){var n;return(n=e.call(this,t)||this).scene=void 0,n.levelButtonContainer=void 0,n.scene=t,n.setSize(375,100),n.setDepth(Go.Z.DEBUG),n.createLevelButtonContainer(),n.createToolAutoPlay(),n.createNumpadScreen(),n.scene.add.existing((0,Ca.Z)(n)),n}(0,o.Z)(t,e);var n=t.prototype;return n.createLevelButtonContainer=function(){this.levelButtonContainer=new od(this.scene),this.add(this.levelButtonContainer),Phaser.Display.Align.In.TopCenter(this.levelButtonContainer,this,0,0)},n.createToolAutoPlay=function(){var e=new nd(this.scene);this.add(e),Phaser.Display.Align.To.BottomCenter(e,this.levelButtonContainer,20,0)},n.createNumpadScreen=function(){this.scene.screen.add("NUMPAD_SCREEN",pd)},t}(Phaser.GameObjects.Container),md=fd,gd=function(e){function t(){for(var t,n,r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=e.call.apply(e,P()(t=[this]).call(t,a))||this).config=void 0,n}(0,o.Z)(t,e);var n=t.prototype;return n.init=function(e){this.config=e,this.fluctuateInitPos(),this.modifyStartScale(),this.modifyRotation(),this.modifySpeed()},n.fluctuateInitPos=function(){var e=this.config,t=e.xCenter,n=e.yCenter,r=e.fluctuateInitPos;if(r){var a=r.min,i=r.max,s=Math.atan2(n-this.y,t-this.x),o=Phaser.Math.Between(a,i),c=t-o*Math.cos(s),u=n-o*Math.sin(s);this.x=c,this.y=u}},n.modifyStartScale=function(){var e=this.config.randomScale;if(e){var t=e.min,n=e.max,r=Phaser.Math.FloatBetween(t,n);this.data.scaleX&&(this.data.scaleX.min=r,this.scaleX=r),this.data.scaleY&&(this.data.scaleY.min=r,this.scaleY=r)}},n.modifyRotation=function(){if(this.config.randomRotation&&this.data.rotate){var e=Phaser.Math.Between(-45,45),t=e+e/Math.abs(e)*100;this.data.rotate.min=e,this.data.rotate.max=t,this.angle=e}},n.modifySpeed=function(){var e=this.config,t=e.xCenter,n=e.yCenter,r=e.randomSpeed;if(r){var a=r.min,i=r.max,s=Math.atan2(n-this.y,t-this.x),o=Phaser.Math.Between(a,i),c=-o*Math.cos(s),u=-o*Math.sin(s);this.velocityX=c,this.velocityY=u}},t}(Phaser.GameObjects.Particles.Particle),vd=gd,yd=Na.Z.EFFECTS.FRAME,kd=GameCore.Utils.Image.getImageScale(),bd=function(){function e(e){this.particleManager=void 0,this.currentEmitX=0,this.currentEmitY=0,this.whiteStar=void 0,this.greenSmoke=void 0,this.orangeStar=void 0,this.twinkleStar=void 0,this.particleManager=e,this.createWhiteStar(),this.createGreenSmoke(),this.createOrangeStar(),this.createTwinkleStar()}var t=e.prototype;return t.createWhiteStar=function(){var e=this;this.whiteStar=this.particleManager.createEmitter({frame:yd.FX_STAR_WHITE,lifespan:{min:300,max:500},quantity:30,scaleX:{start:1/0,end:0,ease:Phaser.Math.Easing.Expo.In},scaleY:{start:1/0,end:0,ease:Phaser.Math.Easing.Expo.In},rotate:{start:1/0,end:1/0},alpha:{start:2,end:.3,ease:Phaser.Math.Easing.Expo.In},accelerationX:20,accelerationY:20,blendMode:Phaser.BlendModes.ADD,particleClass:vd,emitCallback:function(t){t.init({xCenter:e.currentEmitX,yCenter:e.currentEmitY,fluctuateInitPos:{min:12,max:20},randomScale:{min:.6/kd,max:1/kd},randomRotation:!0,randomSpeed:{min:0,max:70}})},on:!1})},t.createGreenSmoke=function(){var e=this;this.greenSmoke=this.particleManager.createEmitter({frame:yd.FX_FIREWORKS_SOAR_CIRCLE,lifespan:{min:300,max:500},quantity:4,alpha:{start:.6,end:.3},scale:{start:1.4/kd,end:0},blendMode:Phaser.BlendModes.ADD,tint:5624136,particleClass:vd,emitCallback:function(t){t.init({xCenter:e.currentEmitX,yCenter:e.currentEmitY,randomSpeed:{min:20,max:25}})},on:!1})},t.createOrangeStar=function(){var e=this;this.orangeStar=this.particleManager.createEmitter({frame:yd.SOAR_CIRCLE_WHITE,lifespan:{min:300,max:500},quantity:8,scale:{start:1/kd,end:0},tint:[16776960,16753920],particleClass:vd,emitCallback:function(t){t.init({xCenter:e.currentEmitX,yCenter:e.currentEmitY,fluctuateInitPos:{min:5,max:10},randomSpeed:{min:25,max:40}})},on:!1})},t.createTwinkleStar=function(){this.twinkleStar=this.particleManager.createEmitter({on:!1,frame:yd.FX_STAR_WHITE,timeScale:1,lifespan:{min:750,max:1500},particleClass:ri,speedY:{min:-9,max:-13},accelerationY:{min:-5,max:-10},emitCallback:function(e){e.setScale({min:.25/kd,max:1/kd},Phaser.Math.Between(400,600))}})},t.show=function(e,t){this.currentEmitX=e,this.currentEmitY=t;var n=ki.TILE_SIZE*No.getCurTileScale(),r=new Phaser.Geom.Rectangle(e-n/2,t-n/2,n,n);this.whiteStar.setEmitZone({type:"edge",source:r,quantity:20});var a=new Phaser.Geom.Rectangle(e-n/4,t-n/4,n/2,n/4);this.greenSmoke.setEmitZone({type:"random",source:a,quantity:32});var i=new Phaser.Geom.Rectangle(e-n/3,t-n/3,n/1.5,n/1.5);this.orangeStar.setEmitZone({type:"edge",source:i,quantity:20}),this.twinkleStar.setEmitZone({type:"random",source:i,quantity:8}),this.whiteStar.explode(20,0,0),this.greenSmoke.explode(8,0,0),this.orangeStar.explode(20,0,0),this.twinkleStar.explode(5,0,0)},e}(),Ed=function(e){function t(t){var n;return(n=e.call(this,t)||this).cycleDuration=Phaser.Math.Between(300,400),n.customAlpha=void 0,n.accelerationY=5,n}(0,o.Z)(t,e);var n=t.prototype;return n.update=function(t,n,r){var a=e.prototype.update.call(this,t,n,r);return this.updateAlpha(),a},n.setAlpha=function(e,t){this.alpha=0,this.scaleY=0,this.customAlpha=Phaser.Math.FloatBetween(e.min,e.max),this.cycleDuration=null!=t?t:this.cycleDuration},n.setDirection=function(e){this.velocityX="left"===e?Phaser.Math.Between(-5,-10):Phaser.Math.Between(5,10)},n.updateAlpha=function(){var e=1-this.lifeCurrent%this.cycleDuration/this.cycleDuration;this.alpha=this.customAlpha*Math.sin(e*Math.PI)},t}(Phaser.GameObjects.Particles.Particle),xd=Ed,Sd=Na.Z.EFFECTS,wd=Sd.KEY,Ad=Sd.FRAME,Cd=GameCore.Utils.Image.getImageScale(),Td=function(e){function t(t){var n;return(n=e.call(this,t,wd,Ad.FX_STAR_WHITE)||this).soapBubble=void 0,n.brightParticle=void 0,n.brightDustFlying=void 0,n.setDepth(Go.Z.GAMEPLAY_PARTICLE),n.createSoapBubble(),n.createBrightParticle(),n.createBrightDustFlying(),n}(0,o.Z)(t,e);var n=t.prototype;return n.show=function(){var e=(0,s.Z)(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.sync(this),e.next=3,u().all([this.runSoapBubble(),this.runBrightParticle(),this.runBrightDustFlying()]);case 3:return e.next=5,this.waitFinish();case 5:t.unSync(this);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),n.runSoapBubble=function(){var e=(0,s.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.soapBubble.start(),e.next=3,(0,ai.Z)(this.scene,1e3);case 3:this.soapBubble.stop();case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.runBrightParticle=function(){var e=(0,s.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.brightParticle.start(),e.next=3,(0,ai.Z)(this.scene,200);case 3:this.brightParticle.stop();case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.runBrightDustFlying=function(){var e=(0,s.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.brightDustFlying.start(),e.next=3,(0,ai.Z)(this.scene,200);case 3:this.brightDustFlying.stop();case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.waitFinish=function(){var e=(0,s.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.soapBubble.getAliveParticleCount()>0||this.brightParticle.getAliveParticleCount()>0)){e.next=5;break}return e.next=3,(0,ai.Z)(this.scene,100);case 3:e.next=0;break;case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.createSoapBubble=function(){var e=ki.TILE_SIZE*No.getCurTileScale(),t=new Phaser.Geom.Rectangle(-e/3,-e/3,e/1.5,e/1.5);this.soapBubble=this.createEmitter({on:!1,frame:Ad.SOAP,frequency:500,tint:[16753920],lifespan:{min:1200,max:1500},particleClass:ri,speedY:{min:-30,max:-35},blendMode:Phaser.BlendModes.ADD,alpha:.5,emitZone:{type:"random",source:t,quantity:8},emitCallback:function(e){var n=t.x,r=t.width;e.x<n+r/2?e.setDirection("left"):e.setDirection("right"),e.setScale({min:.7/Cd,max:1/Cd},e.life)}})},n.createBrightParticle=function(){var e=ki.TILE_SIZE*No.getCurTileScale(),t=new Phaser.Geom.Rectangle(-e/4,e/4,e/2,e/8);this.brightParticle=this.createEmitter({on:!1,frame:Ad.BRIGHT_DUST,frequency:100,lifespan:{min:1200,max:1500},particleClass:ri,speedY:{min:-5,max:-10},blendMode:Phaser.BlendModes.SCREEN,emitZone:{type:"random",source:t,quantity:8},emitCallback:function(e){e.setScale({min:1.5/Cd,max:1.5/Cd},e.life)}})},n.createBrightDustFlying=function(){var e=ki.TILE_SIZE*No.getCurTileScale(),t=new Phaser.Geom.Rectangle(-e/4,-e/16,e/2,e/8);this.brightDustFlying=this.createEmitter({on:!1,tint:[2125055,4963574],frame:Ad.BRIGHT_DUST,frequency:100,lifespan:{min:1200,max:1500},scale:1.2/Cd,particleClass:xd,speedY:{min:-20,max:-50},blendMode:Phaser.BlendModes.ADD,emitZone:{type:"random",source:t,quantity:8},emitCallback:function(e){e.setAlpha({min:1,max:1},e.life)}})},t}(Phaser.GameObjects.Particles.ParticleEmitterManager),Ld=Td,Id=function(){function e(e){this.scene=void 0,this.pool=[],this.activeManagers=[],this.scene=e}var t=e.prototype;return t.show=function(){var e=(0,s.Z)(d().mark((function e(t){var n,r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.getFreeManager(),this.activeManagers.push(r),r.revive(),e.next=5,r.show(t);case 5:r.kill(),this.activeManagers=Me()(n=this.activeManagers).call(n,(function(e){return e.active}));case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.stopAll=function(){this.activeManagers.forEach((function(e){return e.setVisible(!1)}))},t.getFreeManager=function(){var e,t=B()(e=this.pool).call(e,(function(e){return!e.active}));if(t)return t.setScale(1),t.setPosition(0,0),t;var n=new Ld(this.scene);return this.scene.add.existing(n),this.pool.push(n),n},e}(),Pd=Id,_d=Na.Z.EFFECTS,Bd=_d.KEY,Od=_d.FRAME,Rd=GameCore.Utils.Image.getImageScale(),Md=function(e){function t(t){var n;return(n=e.call(this,t,Bd,Od.FX_STAR_WHITE)||this).brightDustCloudLanding=void 0,n.setDepth(Go.Z.BOARD+1),n.createBrightDustCloudLanding(),n}(0,o.Z)(t,e);var n=t.prototype;return n.show=function(){var e=(0,s.Z)(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.sync(this),this.runBrightDustCloudLanding(),e.next=4,this.waitFinish();case 4:t.unSync(this);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),n.runBrightDustCloudLanding=function(){var e=(0,s.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.brightDustCloudLanding.explode(36,0,0);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.waitFinish=function(){var e=(0,s.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.brightDustCloudLanding.getAliveParticleCount()>0)){e.next=5;break}return e.next=3,(0,ai.Z)(this.scene,100);case 3:e.next=0;break;case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.createBrightDustCloudLanding=function(){this.brightDustCloudLanding=this.createEmitter({on:!1,frame:Od.BRIGHT_DUST,quantity:72,lifespan:500,scale:1/Rd,angle:{min:0,max:360,steps:5},particleClass:xd,speed:80,blendMode:Phaser.BlendModes.OVERLAY,emitCallback:function(e){e.setAlpha({min:1,max:1},e.life)}})},t}(Phaser.GameObjects.Particles.ParticleEmitterManager),Nd=Md,Dd=function(){function e(e){this.scene=void 0,this.pool=[],this.activeManagers=[],this.scene=e}var t=e.prototype;return t.show=function(){var e=(0,s.Z)(d().mark((function e(t){var n,r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.getFreeManager(),this.activeManagers.push(r),r.revive(),e.next=5,r.show(t);case 5:r.kill(),this.activeManagers=Me()(n=this.activeManagers).call(n,(function(e){return e.active}));case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.stopAll=function(){this.activeManagers.forEach((function(e){return e.setVisible(!1)}))},t.getFreeManager=function(){var e,t=B()(e=this.pool).call(e,(function(e){return!e.active}));if(t)return t.setScale(1),t.setPosition(0,0),t;var n=new Nd(this.scene);return this.scene.add.existing(n),this.pool.push(n),n},e}(),Fd=Dd,Gd=n(346),Zd=n.n(Gd),Ud=Na.Z.EFFECTS,Kd=Ud.KEY,Hd=Ud.FRAME,Wd=GameCore.Utils.Image.getImageScale(),Vd=function(){function e(e){this.scene=void 0,this.particleManager=void 0,this.imageWhiteStar=void 0,this.path=void 0,this.emitter=void 0,this.scene=e.scene,this.particleManager=e,this.path=new Phaser.Curves.Path,this.createWhiteStarFollow(),this.createWhiteStar()}var t=e.prototype;return t.createWhiteStarFollow=function(){this.emitter=this.particleManager.createEmitter({frame:[Hd.BRIGHT],speed:10,lifespan:100,scale:{start:1,end:0},scaleX:1/Wd,scaleY:1/Wd,on:!1})},t.createWhiteStar=function(){this.imageWhiteStar=this.scene.make.image({key:Kd,frame:Hd.BRIGHT}),this.imageWhiteStar.setSizeBasedOnDpr(),this.imageWhiteStar.setVisible(!1),this.imageWhiteStar.setDepth(Go.Z.RACK+1)},t.createPath=function(e,t){if(!(this.path.curves.length>0)){for(var n=[],r=0,a=0,i=0;i<100;i++){a+=Math.PI/16;var s=e+(r+=.15)*Math.cos(a),o=t+r*Math.sin(a);n.push(new Phaser.Math.Vector2(s,o))}this.path.startPoint=new Phaser.Math.Vector2(n[n.length-1].x,n[n.length-1].y),this.path.splineTo(Zd()(n).call(n))}},t.playAnimationMoveToCenter=function(){var e=this;return this.imageWhiteStar.setVisible(!0),this.emitter.start(),this.emitter.startFollow(this.imageWhiteStar),Da(this.scene,{targets:this.path,t:{from:0,to:1},ease:Phaser.Math.Easing.Sine.InOut,duration:500,onUpdate:function(t){var n=t.getValue(0),r=e.path.getPoint(n);e.imageWhiteStar.setPosition(r.x,r.y)},onComplete:function(){e.imageWhiteStar.setVisible(!1),e.emitter.stop()}})},e}(),Yd=Vd,zd=function(e){function t(){for(var t,n,r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=e.call.apply(e,P()(t=[this]).call(t,a))||this).config=void 0,n.isChangeSpeed=!1,n}(0,o.Z)(t,e);var n=t.prototype;return n.init=function(e){this.config=e,this.modifyStartScale(),this.modifyRotation(),this.modifySpeed()},n.update=function(t,n,r){var a=e.prototype.update.call(this,t,n,r);return this.changeSpeed(),a},n.changeSpeed=function(){this.lifeCurrent%this.life/this.life<=.5&&!this.isChangeSpeed&&(this.velocityX/=2,this.velocityY/=2,this.isChangeSpeed=!0)},n.modifyStartScale=function(){var e=this.config.randomScale;if(e){var t=e.min,n=e.max,r=Phaser.Math.FloatBetween(t,n);this.data.scaleX&&(this.data.scaleX.min=r,this.scaleX=r),this.data.scaleY&&(this.data.scaleY.min=r,this.scaleY=r)}},n.modifyRotation=function(){if(this.config.randomRotation&&this.data.rotate){var e=Phaser.Math.Between(-45,45),t=e+e/Math.abs(e)*100;this.data.rotate.min=e,this.data.rotate.max=t,this.angle=e}},n.modifySpeed=function(){var e=this.config,t=e.xCenter,n=e.randomSpeed;if(n){this.isChangeSpeed=!1;var r=n.min,a=n.max,i=Phaser.Math.Between(r,a),s=0;s=this.x<t?-i:i,this.velocityX=s}},t}(Phaser.GameObjects.Particles.Particle),jd=zd,Xd=function(e){function t(){for(var t,n,r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=e.call.apply(e,P()(t=[this]).call(t,a))||this).config=void 0,n.isChangeSpeed=!1,n}(0,o.Z)(t,e);var n=t.prototype;return n.init=function(e){this.config=e,this.modifyStartScale(),this.modifyRotation(),this.modifySpeed()},n.update=function(t,n,r){var a=e.prototype.update.call(this,t,n,r);return this.changeSpeed(),a},n.changeSpeed=function(){this.lifeCurrent%this.life/this.life<=.5&&!this.isChangeSpeed&&(this.velocityX/=2,this.velocityY/=2,this.isChangeSpeed=!0)},n.modifyStartScale=function(){var e=this.config.randomScale;if(e){var t=e.min,n=e.max,r=Phaser.Math.FloatBetween(t,n);this.data.scaleX&&(this.data.scaleX.min=r,this.scaleX=r),this.data.scaleY&&(this.data.scaleY.min=r,this.scaleY=r)}},n.modifyRotation=function(){if(this.config.randomRotation&&this.data.rotate){var e=Phaser.Math.Between(-45,45),t=e+e/Math.abs(e)*100;this.data.rotate.min=e,this.data.rotate.max=t,this.angle=e}},n.modifySpeed=function(){var e=this.config,t=e.yCenter,n=e.randomSpeed;if(n){this.isChangeSpeed=!1;var r=n.min,a=n.max,i=Phaser.Math.Between(r,a),s=0;s=this.y<t?-i:i,this.velocityY=s}},t}(Phaser.GameObjects.Particles.Particle),qd=Xd,Qd=Na.Z.EFFECTS.FRAME,Jd=GameCore.Utils.Image.getImageScale(),$d=function(){function e(e){this.particleManager=void 0,this.currentEmitX=0,this.currentEmitY=0,this.lineTopWhiteStar=void 0,this.lineBottomWhiteStar=void 0,this.lineLeftWhiteStar=void 0,this.lineRightWhiteStar=void 0,this.particleManager=e,this.createLineTopWhiteStar(),this.createLineBottomWhiteStar(),this.createLineLeftWhiteStar(),this.createLineRightWhiteStar()}var t=e.prototype;return t.createLineTopWhiteStar=function(){var e=this;this.lineTopWhiteStar=this.particleManager.createEmitter({frame:Qd.FX_STAR_WHITE,lifespan:{min:400,max:700},scaleX:{start:1/0,end:0,ease:Phaser.Math.Easing.Quartic.In},scaleY:{start:1/0,end:0,ease:Phaser.Math.Easing.Quartic.In},rotate:{start:1/0,end:1/0},accelerationX:20,accelerationY:20,blendMode:Phaser.BlendModes.ADD,particleClass:qd,emitCallback:function(t){t.init({xCenter:e.currentEmitX,yCenter:e.currentEmitY,randomScale:{min:.6/Jd,max:1/Jd},randomRotation:!0,randomSpeed:{min:30,max:50}})},on:!1})},t.createLineBottomWhiteStar=function(){var e=this;this.lineBottomWhiteStar=this.particleManager.createEmitter({frame:Qd.FX_STAR_WHITE,lifespan:{min:400,max:700},scaleX:{start:1/0,end:0,ease:Phaser.Math.Easing.Quartic.In},scaleY:{start:1/0,end:0,ease:Phaser.Math.Easing.Quartic.In},rotate:{start:1/0,end:1/0},accelerationX:20,accelerationY:20,blendMode:Phaser.BlendModes.ADD,particleClass:qd,emitCallback:function(t){t.init({xCenter:e.currentEmitX,yCenter:e.currentEmitY,randomScale:{min:.6/Jd,max:1/Jd},randomRotation:!0,randomSpeed:{min:30,max:50}})},on:!1})},t.createLineLeftWhiteStar=function(){var e=this;this.lineLeftWhiteStar=this.particleManager.createEmitter({frame:Qd.FX_STAR_WHITE,lifespan:{min:400,max:700},scaleX:{start:1/0,end:0,ease:Phaser.Math.Easing.Quartic.In},scaleY:{start:1/0,end:0,ease:Phaser.Math.Easing.Quartic.In},rotate:{start:1/0,end:1/0},accelerationX:20,accelerationY:20,blendMode:Phaser.BlendModes.ADD,particleClass:jd,emitCallback:function(t){t.init({xCenter:e.currentEmitX,yCenter:e.currentEmitY,randomScale:{min:.6/Jd,max:1/Jd},randomRotation:!0,randomSpeed:{min:30,max:50}})},on:!1})},t.createLineRightWhiteStar=function(){var e=this;this.lineRightWhiteStar=this.particleManager.createEmitter({frame:Qd.FX_STAR_WHITE,lifespan:{min:400,max:700},scaleX:{start:1/0,end:0,ease:Phaser.Math.Easing.Quartic.In},scaleY:{start:1/0,end:0,ease:Phaser.Math.Easing.Quartic.In},rotate:{start:1/0,end:1/0},accelerationX:20,accelerationY:20,blendMode:Phaser.BlendModes.ADD,particleClass:jd,emitCallback:function(t){t.init({xCenter:e.currentEmitX,yCenter:e.currentEmitY,randomScale:{min:.6/Jd,max:1/Jd},randomRotation:!0,randomSpeed:{min:30,max:50}})},on:!1})},t.show=function(e,t,n,r){this.currentEmitX=e,this.currentEmitY=t;var a=this.particleManager.scene.gameZone.width,i=new Phaser.Geom.Rectangle(e-a/2,t-r/2,a,10);this.lineTopWhiteStar.setEmitZone({type:"random",source:i,quantity:150}),this.lineTopWhiteStar.explode(150,0,0);var s=new Phaser.Geom.Rectangle(e-a/2,t+r/2-20,a,10);this.lineBottomWhiteStar.setEmitZone({type:"random",source:s,quantity:150}),this.lineBottomWhiteStar.explode(150,0,0);var o=new Phaser.Geom.Rectangle(e-n/2+15,t-r/2,10,r);this.lineLeftWhiteStar.setEmitZone({type:"random",source:o,quantity:50}),this.lineLeftWhiteStar.explode(50,0,0);var c=new Phaser.Geom.Rectangle(e+n/2-25,t-r/2,10,r);this.lineRightWhiteStar.setEmitZone({type:"random",source:c,quantity:50}),this.lineRightWhiteStar.explode(50,0,0)},e}(),eh=Na.Z.EFFECTS,th=eh.KEY,nh=eh.FRAME,rh=function(){function e(e){this.scene=void 0,this.particleManager=void 0,this.particleManagerUnderRack=void 0,this.particleManagerOnRack=void 0,this.starMoveToCenter=void 0,this.unlockExtraSlotVFX=void 0,this.tileMatchVFX=void 0,this.tileClickVFX=void 0,this.tileReturnVFX=void 0,this.scene=e,this.createParticle(),this.tileMatchVFX=new bd(this.particleManager),this.tileClickVFX=new Pd(this.scene),this.tileReturnVFX=new Fd(this.scene),this.unlockExtraSlotVFX=new $d(this.particleManagerUnderRack),this.starMoveToCenter=new Yd(this.particleManagerOnRack)}var t=e.prototype;return t.showEmittingParticles=function(){this.particleManager.setVisible(!0)},t.hideEmittingParticles=function(){this.particleManager.setVisible(!1),this.tileClickVFX.stopAll()},t.createParticle=function(){this.particleManager=this.scene.add.particles(th,nh.FX_STAR_WHITE),this.particleManager.setDepth(Go.Z.GAMEPLAY_PARTICLE),this.particleManagerUnderRack=this.scene.add.particles(th,nh.FX_STAR_WHITE),this.particleManagerUnderRack.setDepth(Go.Z.RACK-1),this.particleManagerOnRack=this.scene.add.particles(th,nh.FX_STAR_WHITE),this.particleManagerOnRack.setDepth(Go.Z.RACK+1)},e}(),ah=rh,ih=n(96),sh=n.n(ih);function oh(e,t){var n="undefined"!==typeof C()&&L()(e)||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){var n;if(!e)return;if("string"===typeof e)return ch(e,t);var r=x()(n=Object.prototype.toString.call(e)).call(n,8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return w()(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ch(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ch(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var uh=function(e){function t(t,n){var r,a;(a=e.call(this,t)||this).config=void 0,a.isEnable=void 0,a.minValue=void 0,a.maxValue=void 0,a.isScrolling=void 0,a.boundTop=void 0,a.boundBottom=void 0,a.maskGraphics=void 0,a.objects=void 0,a._value=0,a.velocity=0,a.isScrollingSmooth=void 0,a.lastScrollY=void 0,a.isScrollingBack=void 0,a.scrollingBackTo=void 0,a.lastScrollYCount=0,a.scrollBackTween=void 0,a.onScrollEvents=[],a.updateObjectVisible=(0,Hr.D)((function(){for(var e=a.objects.getChildren(),t=0;t<e.length;t++){var n=e[t];n.y+n.height<-a.height||n.y-n.height>a.height?n.setVisible(!1):n.active&&n.setVisible(!0)}}),100,{maxWait:100}),a.update=function(e,t){a.isScrollingSmooth&&a.velocity&&a.scrollingSmooth(t)},a.checkReachBound=function(){return a.isReachTop()||a.isReachBottom()},a.onMouseScroll=(0,Hr.D)((function(e,t,n){if(a.isEnable){var r;if(a.isScrolling=!0,a.checkReachBound())return a.lastScrollY=De()(r=a.lastScrollY).call(r,(function(){return 0})),void(a.isScrolling=!1);a.stopScrollingBack(),a.startScrollSmooth(-n*a.scrollSmooth/15)}}),100,{isImmediate:!0,maxWait:100}),a.onTouchScroll=function(e){if(a.isEnable){a.velocity&&a.stopScrollSmooth(),a.stopScrollingBack(),a.isScrolling=!0;var t=a.scene.game.world.getZoomRatio(),n=e.position,r=e.prevPosition,i=(n.y-r.y)/t,s=a.height*a.maxScrollOver,o=1;if(a.lastScrollY[++a.lastScrollYCount%a.lastScrollY.length]=i,a.isReachTop()&&i>=0){var c=(s+(-a.minValue-a.value))/s;o=Math.min(o,c)}if(a.isReachBottom()&&i<=0){var u=(s-(-a.maxValue-a.value))/s;o=Math.min(o,u)}var l=i*o,d=a.maxScrollOver*a.height;a.value+l>-a.minValue+d?a.value=-a.minValue+d:a.value+l<-a.maxValue-d?a.value=-a.maxValue-d:a.value+=l,a.callOnScrollEvents(a.value,l)}},a.onTouchDown=function(){a.isEnable&&(a.velocity&&a.stopScrollSmooth(),a.stopScrollingBack())},a.onTouchEnd=function(){var e,t;if(a.input.enabled&&(a.isReachTop()&&(a.startScrollingBack(-a.minValue),a.stopScrollSmooth()),a.isReachBottom()&&(a.startScrollingBack(-a.maxValue),a.stopScrollSmooth()),a.isScrolling)){var n=sh()(e=a.lastScrollY).call(e,(function(e,t){return e+t}))/a.lastScrollY.length;a.startScrollSmooth(n*a.scrollSmooth),a.lastScrollY=De()(t=a.lastScrollY).call(t,(function(){return 0}))}},a.config=(0,i.Z)({marginTop:0,marginBottom:0,maxScrollOver:.15,acceleration:.05,scrollSmooth:45,scrollingBackRate:5},n);var s=n.width,o=n.height;return a.isEnable=!1,a.minValue=-a.config.marginTop,a.maxValue=a.minValue,a.lastScrollY=xu()(r=new Array(3)).call(r,0),a.setSize(s,o),a.createGroup(),a.createInput(),a.createEvents(),a.scene.add.existing((0,Ca.Z)(a)),a}(0,o.Z)(t,e);var n=t.prototype;return n.onScroll=function(e){this.onScrollEvents.push(e)},n.gotoTop=function(){this.value=this.config.marginTop},n.reset=function(){this.minValue=-this.config.marginTop,this.maxValue=this.minValue,this.isScrolling=!1,this.isScrollingBack=!1,this.isScrollingSmooth=!1,this.gotoTop(),this.setEnable(!1)},n.createDebug=function(){var e=this.drawDebugBox(16711680,.8);console.log(null==e?void 0:e.x,null==e?void 0:e.y,null==e?void 0:e.displayWidth,null==e?void 0:e.displayHeight)},n.setEnable=function(e){this.isEnable=e,e?this.setInteractive({draggable:!0,useHandCursor:!0}):this.disableInteractive()},n.addItem=function(e){this.addAt(e),this.objects.add(e);var t=e.y,n=e.height,r=t-n/2-this.marginTop+this.height/2,a=t+n/2+this.marginBottom-this.height/2;this.minValue=Math.min(this.minValue,r,0),this.maxValue=Math.max(this.maxValue,a,0),this.updateObjectVisible()},n.addItems=function(e){var t=this;this.addAt(e),this.objects.addMultiple(e);var n=De()(e).call(e,(function(e){return e.y-e.height/2-t.marginBottom+t.height/2})),r=De()(e).call(e,(function(e){return e.y+e.height/2+t.marginBottom-t.height/2}));this.minValue=Math.min(this.minValue,Math.max.apply(Math,n),0),this.maxValue=Math.max(this.maxValue,Math.max.apply(Math,r),0),this.updateObjectVisible()},n.clearItem=function(){this.objects.clear(!0,!0),this.reset()},n.getChildren=function(){var e;return Me()(e=this.objects.getChildren()).call(e,(function(e){return e.active}))},n.createBound=function(e,t,n,r){this.boundTop=this.scene.make.image({key:e,frame:t}),this.boundBottom=this.scene.make.image({key:e,frame:t}),this.boundTop.setTint(r),this.boundBottom.setTint(r),this.boundTop.setAlpha(1,1,0,0),this.boundBottom.setAlpha(0,0,1,1),this.boundTop.setDepth(Go.Z.PRIORITY),this.boundBottom.setDepth(Go.Z.PRIORITY);var a=this.width,i=n,s=this.getWorldPosition(),o=s.x,c=s.y;this.boundTop.setDisplaySize(a,i),this.boundBottom.setDisplaySize(a,i),this.boundTop.setY(-this.displayHeight/2+i/2+c-this.y-1),this.boundBottom.setY(this.displayHeight/2-i/2+c-this.y+1),this.boundTop.setX(o-this.x),this.boundBottom.setX(o-this.x),this.add([this.boundTop,this.boundBottom])},n.createMask=function(){var e;null==(e=this.maskGraphics)||e.destroy(),this.maskGraphics=this.scene.make.graphics({fillStyle:{color:255,alpha:1},visible:!0}),this.maskGraphics.setName("MaskGraphics");var t=this.width,n=this.height;this.maskGraphics.fillRoundedRect(0-t/2,0-n/2,t,n,0),this.setMask(this.maskGraphics.createGeometryMask()),this.scene.events.off(Phaser.Scenes.Events.UPDATE,this.updateMask,this),this.scene.events.on(Phaser.Scenes.Events.UPDATE,this.updateMask,this)},n.updateMask=function(){var e=this.getWorldPosition(),t=e.x,n=e.y;this.maskGraphics.setPosition(t,n)},n.createGroup=function(){this.objects=this.scene.make.group({})},n.updateObject=function(e){this.objects.incY(e),this.updateObjectVisible()},n.createInput=function(){this.setInteractive({draggable:!0,useHandCursor:!0}),this.on(Phaser.Input.Events.POINTER_WHEEL,this.onMouseScroll),this.on(Phaser.Input.Events.GAMEOBJECT_DRAG,this.onTouchScroll),this.on(Phaser.Input.Events.GAMEOBJECT_POINTER_DOWN,this.onTouchDown),this.scene.input.on(Phaser.Input.Events.POINTER_UP,this.onTouchEnd,this)},n.createEvents=function(){this.scene.events.on(Phaser.Scenes.Events.UPDATE,this.update)},n.callOnScrollEvents=function(e,t){for(var n,r=oh(this.onScrollEvents);!(n=r()).done;){(0,n.value)(this,e,t)}},n.startScrollingBack=function(e){var t,n=this;this.isScrollingBack=!0,this.scrollingBackTo=e,null!=(t=this.scrollBackTween)&&t.isPlaying()||(this.scrollBackTween=this.scene.tweens.addCounter({from:this.value,to:e,duration:333,ease:Phaser.Math.Easing.Cubic.Out,onUpdate:function(e){var t=e.getValue(),r=t-n.value;n.value=t,n.callOnScrollEvents(n.value,r)},onComplete:function(){var t=e-n.value;n.isScrollingBack=!1,n.value=e,n.callOnScrollEvents(n.value,t)}}))},n.stopScrollingBack=function(){var e;this.isScrollingBack=!1,null==(e=this.scrollBackTween)||e.remove(),this.scrollBackTween=void 0},n.scrollingSmooth=function(e){var t=this.velocity*e/1e3;this.value+=t;var n=Math.abs(this.velocity)/this.velocity;this.isReachTop()&&(this.startScrollingBack(-this.minValue),this.stopScrollSmooth()),this.isReachBottom()&&(this.startScrollingBack(-this.maxValue),this.stopScrollSmooth()),this.callOnScrollEvents(this.value,t),Math.abs(this.velocity)<1?this.stopScrollSmooth():this.velocity-=Math.abs(this.velocity)*this.acceleration*n},n.startScrollSmooth=function(e){this.isScrollingSmooth=!0,e&&(e*this.velocity>0?this.velocity+=e:this.velocity=e)},n.stopScrollSmooth=function(){this.isScrollingSmooth=!1,this.isScrolling=!1,this.velocity=0,this.callOnScrollEvents(this.value,0)},n.stopScrolling=function(){this.stopScrollSmooth(),this.stopScrollingBack()},n.isReachTop=function(){return this.value>-this.minValue},n.isReachBottom=function(){return-this.value>this.maxValue},(0,le.Z)(t,[{key:"marginTop",get:function(){return this.config.marginTop}},{key:"marginBottom",get:function(){return this.config.marginBottom}},{key:"acceleration",get:function(){return this.config.acceleration}},{key:"maxScrollOver",get:function(){return this.config.maxScrollOver}},{key:"scrollSmooth",get:function(){return this.config.scrollSmooth}},{key:"scrollingBackRate",get:function(){return this.config.scrollingBackRate}},{key:"value",get:function(){return this._value},set:function(e){var t=e-this._value;this._value=e,this.updateObject(t)}}]),t}(Phaser.GameObjects.Container),lh=uh,dh=(function(e){function t(t){var n;return(n=e.call(this,t,"UpdateAbleObject")||this).updateInfo=void 0,n}(0,o.Z)(t,e)}(Phaser.GameObjects.GameObject),function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).classType=void 0,r.listConfigs=void 0,r.padding=void 0,r.startObjectIndex=void 0,r.endObjectIndex=void 0,r.listObjects=void 0,r.classType=n.classType,r.listConfigs=n.listConfigs,r.padding=n.padding?n.padding:0,r.objects.classType=r.classType,r.updateConfig(r.listConfigs),r}(0,o.Z)(t,e);var n=t.prototype;return n.reset=function(){e.prototype.reset.call(this),this.killAndHideAll()},n.getChildren=function(){var e;return Me()(e=this.listObjects).call(e,(function(e){return void 0!=e&&e.active}))},n.updateConfig=function(e){var t;this.reset(),this.listConfigs=e,this.listObjects=xu()(t=new Array(e.length)).call(t,void 0),this.addObjectIndex(0,0);var n=this.getEndObjectIndex();this.addObjectIndex(1,n),this.startObjectIndex=this.getStartObjectIndex(),this.endObjectIndex=this.getEndObjectIndex(),this.updateMaxHeight(),this.value=this.marginTop},n.killAndHideAll=function(){var e,t=this;this.listObjects instanceof Array&&De()(e=this.listObjects).call(e,(function(e){void 0!==e&&t.objects.killAndHide(e)}))},n.setItemPosition=function(e,t){var n=e.height;e.setPosition(0,n/2+(n+this.padding)*t-this.height/2)},n.updateMaxHeight=function(){return this.maxValue=Math.max(this.listConfigs.length*(this.objHeight+this.padding)-this.padding+this.marginBottom-this.height,0)},n.updateObject=function(t){e.prototype.updateObject.call(this,t);for(var n=this.getStartObjectIndex(),r=this.getEndObjectIndex(),a=this.startObjectIndex;a<=this.endObjectIndex;a++)(a<n||a>r)&&this.killObjectIndex(a,a);for(var i=n;i<=r;i++)(i<this.startObjectIndex||i>this.endObjectIndex)&&this.addObjectIndex(i,i);this.startObjectIndex=n,this.endObjectIndex=r},n.killObjectIndex=function(e,t){for(var n=e;n<=t;n++){var r=this.listObjects[n];r&&(this.objects.killAndHide(r),this.listObjects[n]=void 0)}},n.addObjectIndex=function(e,t){for(var n=e;n<=t;n++){var r=this.padding,a=this.listConfigs;if(n>=a.length)return;var i=this.objects.getFirstDead(!0),s=i.height,o=s/2+(s+r)*n+this.value-this.height/2;i.updateInfo(a[n]),i.setPosition(0,o),i.setActive(!0),i.setVisible(!0),this.addAt(i),this.listObjects[n]=i}},n.getStartObjectIndex=function(){var e=this.objHeight,t=this.padding;return Math.max(Math.floor((0-this.value)/(e+t)),0)},n.getEndObjectIndex=function(){var e=this.objHeight,t=this.padding,n=this.listConfigs,r=e+t;return Math.min(Math.floor((this.height-this.value)/r),n.length)},(0,le.Z)(t,[{key:"objHeight",get:function(){var e=this.objects.getChildren();return 0==e.length?this.maxValue=0:e[0].height}}]),t}(lh)),hh=co()(.38,1.37,.64,1),ph=function(e){function t(t){var n;return(n=e.call(this,t)||this).scene=void 0,n.inside=void 0,n.showHideAnimation=void 0,n.scene=t,n.updateSize(),n.createInside(),n}(0,o.Z)(t,e);var n=t.prototype;return n.updateInfo=function(e){var t,n,r=this.scene.lang.Text.LEVEL,a=e.id,i=De()(this.scene).getScrollerBlockPayload(a),s=i.title,o=i.startLevel,c=i.endLevel,u=i.textures,l=i.backgroundCardPayloads,d=u.key,h=u.frame;this.inside.setTitleText(this.scene.lang.Text[s]),this.inside.setSubtitleText(r+" "+o+" - "+c),this.inside.setNewBackground(d,h);var p=x()(t=this.inside.backgroundCards).call(t,0,l.length);x()(n=this.inside.backgroundCards).call(n,l.length).forEach((function(e){e.kill()})),p.forEach((function(e,t){e.revive(),e.updatePayload(l[t])})),this.inside.alignCards(p),this.playShowUpAnimation()},n.updateSize=function(){this.setSize(t.WIDTH,t.HEIGHT)},n.createInside=function(){var e=this.scene.screen.get(tn.o4.MAP_SCREEN);this.inside=e.spawnMapBlockInside(),this.inside.setScale(0),this.add(this.inside)},n.playShowUpAnimation=function(){var e;null==(e=this.showHideAnimation)||e.remove(),this.inside.setScale(0),this.showHideAnimation=this.scene.tweens.add({targets:this.inside,duration:587,ease:hh,props:{scale:1}})},n.playHideAnimation=function(){var e=(0,s.Z)(d().mark((function e(){var t,n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null==(t=this.showHideAnimation)||t.remove(),this.showHideAnimation=this.scene.tweens.add({targets:this.inside,duration:100,ease:Phaser.Math.Easing.Cubic.In,props:{scale:0}}),e.abrupt("return",null==(n=this.showHideAnimation)?void 0:n.waitForCompletion());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t}(Phaser.GameObjects.Container);ph.WIDTH=357.5,ph.HEIGHT=197;var fh=ph,mh=function(e){function t(t,n,r){var a;return(a=e.call(this,t,{classType:fh,listConfigs:[],padding:10,width:n,height:r,marginTop:10,marginBottom:10+t.ads.getBannerHeight(),maxScrollOver:.3})||this).createMask(),a.setEnable(!0),a}(0,o.Z)(t,e);var n=t.prototype;return n.updateAllMapBlockInfo=function(e){this.updateConfig(e)},n.getChildren=function(){return e.prototype.getChildren.call(this)},n.moveToIdx=function(e){var t=-(fh.HEIGHT+this.padding)*e+this.height/2-fh.HEIGHT/2;this.value=Phaser.Math.Clamp(t,-this.maxValue,-this.minValue)},t}(dh),gh=mh,vh=Na.Z.DEFAULT,yh=vh.KEY,kh=vh.FRAME,bh=function(e){function t(t){var n;return(n=e.call(this,t)||this).background=void 0,n.updateSize(),n.createBackground(),n}(0,o.Z)(t,e);var n=t.prototype;return n.updatePayload=function(e){var t=this.background;if(e.locked)t.setTexture(yh,kh.CARDS.LOCKED_CARD);else{var n=e.texture,r=n.key,a=n.frame;t.setTexture(r,a)}var i=this.width,s=this.height;t.setWorldSize(i,s)},n.updateSize=function(){this.setSize(66,133)},n.createBackground=function(){var e=this.width,t=this.height,n=this.scene.make.image({key:yh,frame:kh.CARDS.LOCKED_CARD});n.setWorldSize(e,t),this.add(n),this.background=n},t}(Phaser.GameObjects.Container),Eh=bh,xh=Na.Z.DEFAULT,Sh=xh.KEY,wh=xh.FRAME,Ah=function(e){function t(t){var n;return(n=e.call(this,t)||this).background=void 0,n.title=void 0,n.subtitle=void 0,n.backgroundCards=[],n.updateSize(),n.createBackground(),n.createTitle(),n.createSubtitle(),n.createBackgroundCards(),n.alignComponents(),n}(0,o.Z)(t,e);var n=t.prototype;return n.setTitleText=function(e){this.title.setText(e);var t=23;for(this.title.setFontSize(t+"px");this.title.width>fh.WIDTH-10;)t--,this.title.setFontSize(t+"px")},n.setSubtitleText=function(e){this.subtitle.setText(e)},n.updateSize=function(){this.setSize(fh.WIDTH,fh.HEIGHT)},n.createBackground=function(){var e=this.scene.make.image({key:Sh,frame:wh.GRADIENT_FRAMES.GREEN});e.setWorldSize(fh.WIDTH,fh.HEIGHT),this.add(e),this.background=e},n.setNewBackground=function(e,t){this.background.setTexture(e,t),this.background.setWorldSize(fh.WIDTH,fh.HEIGHT)},n.createTitle=function(){var e=this.scene.make.text({text:"Title",style:{fontFamily:Ee.Z.FONT_FAMILY,fontSize:"23px"},origin:{x:.5,y:.5}});e.setHighQuality();var t=e.context.createLinearGradient(0,0,0,e.height);t.addColorStop(0,"#ffffff"),t.addColorStop(1,"#cce5f9"),e.setFill(t),e.setShadow(0,6,"#0000003F",0,!1,!0),this.add(e),this.title=e},n.createSubtitle=function(){var e=this.scene.make.text({text:"Subtitle",style:{fontFamily:Ee.Z.FONT_FAMILY,fontSize:"14px"},origin:{x:.5,y:.5}});e.setHighQuality();var t=e.context.createLinearGradient(0,0,0,e.height);t.addColorStop(0,"#ffffff"),t.addColorStop(1,"#cce5f9"),e.setFill(t),e.setShadow(0,6,"#0000003F",0,!1,!0),this.add(e),this.subtitle=e},n.createBackgroundCards=function(){var e=this,t=w()({length:5},(function(){return new Eh(e.scene)}));this.add(t),this.backgroundCards=t},n.alignComponents=function(){this.title.setY(-77),this.subtitle.setY(-58),this.alignCards(this.backgroundCards)},n.alignCards=function(e){e.forEach((function(e,t,n){var r=n.length;e.setPosition(69*(t-(r-1)/2),26)}))},t}(Phaser.GameObjects.Container),Ch=Ah,Th=function(){function e(e){this.scene=void 0,this.insides=[],this.scene=e,this.createReadyInsides()}var t=e.prototype;return t.createReadyInsides=function(){var e=this;this.insides=w()({length:5},(function(){var t=new Ch(e.scene);return t.kill(),t}))},t.spawn=function(){var e,t=B()(e=this.insides).call(e,(function(e){return!e.active}));if(t)return t.revive(),t;var n=new Ch(this.scene);return this.insides.push(n),n},e}(),Lh=Th,Ih=n(436),Ph=Na.Z.DEFAULT,_h=Ph.KEY,Bh=Ph.FRAME,Oh=function(e){function t(t,n,r,a){var i;return(i=e.call(this,t,n,r,a)||this).scene=void 0,i.blockInsidePool=void 0,i.blueBackground=void 0,i.scroller=void 0,i.title=void 0,i.blackBackgroundAnimation=void 0,i.blueBackgroundAnimation=void 0,i.titleAnimation=void 0,i.scene=t,i.initBackBackground(),i.createTitle(),i.createBlockInsidePool(),i.createBlueBackground(),i.createScroller(),i.setDepth(tn.Ks.POPUP),i}(0,o.Z)(t,e);var n=t.prototype;return n.open=function(){var t=(0,s.Z)(d().mark((function t(n){return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.prototype.open.call(this,n),this.scroller.stopScrolling(),t.next=4,u().all([this.playBlackBackgroundEntranceAnimation(),this.playBlueBackgroundEntranceAnimation()]);case 4:this.playTitleEntranceAnimation(),this.updateScroller();case 6:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),n.close=function(){var t=(0,s.Z)(d().mark((function t(){var n,r,a,i,s,o,c,l;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.scroller.stopScrolling(),this.scroller.setEnable(!1),s=De()(n=this.scroller.getChildren()).call(n,(function(e){return e.playHideAnimation()})),t.next=5,u().all(P()(r=[]).call(r,s,[this.playTitleExitAnimation(),this.scene.navigation.fadeOut()]));case 5:return t.next=7,u().all([this.playBlackBackgroundExitAnimation(),this.playBlueBackgroundExitAnimation()]);case 7:o=this.scene.screen.get(tn.o4.DASHBOARD_SCREEN),c=o.isOpening,l=null!=(a=null==(i=this.scene.screen.get(tn.o4.RESULT_SCREEN))?void 0:i.visible)&&a,c?(o.fadeIn(),this.fadeInDashboardNavigation()):l?this.fadeInDashboardNavigation():this.scene.navigation.fadeIn("Gameplay",!1),e.prototype.close.call(this);case 12:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),n.fadeInDashboardNavigation=function(){return this.scene.navigation.fadeIn("Dashboard",!1)},n.initBackBackground=function(){this.background.setAlpha(0)},n.createBlockInsidePool=function(){var e=new Lh(this.scene);this.blockInsidePool=e},n.createBlueBackground=function(){var e=this.scene.make.image({key:_h,frame:Bh.BLANK});e.setTintFill(3048429),e.setAlpha(0),e.setWorldSize(this.width,this.height-57),this.add(e),Phaser.Display.Align.In.BottomCenter(e,this),this.blueBackground=e},n.createScroller=function(){var e=new gh(this.scene,this.width,this.height-57);this.add(e),Phaser.Display.Align.In.BottomCenter(e,this),this.scroller=e},n.createTitle=function(){var e=this.scene.lang.Text.THEMES,t=this.scene.make.text({text:e,style:{fontFamily:Ee.Z.FONT_FAMILY,fontSize:"30px"},origin:{x:.5,y:.5}});t.setHighQuality();var n=t.context.createLinearGradient(0,0,0,t.height);n.addColorStop(0,"#ffffff"),n.addColorStop(1,"#cce5f9"),t.setFill(n),t.setShadow(0,6,"#0000003F",0,!1,!0),this.add(t),t.setY(-this.height/2+28.5),t.setScale(0),this.title=t},n.playBlackBackgroundEntranceAnimation=function(){var e=(0,s.Z)(d().mark((function e(){var t,n,r=this;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null==(t=this.blackBackgroundAnimation)||t.remove(),this.blackBackgroundAnimation=this.scene.tweens.add({targets:this.background,duration:100,props:{alpha:{from:0,to:.6}},onUpdate:function(){r.updateAppDbOverlayOpacity()}}),e.abrupt("return",null==(n=this.blackBackgroundAnimation)?void 0:n.waitForCompletion());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.playBlueBackgroundEntranceAnimation=function(){var e=(0,s.Z)(d().mark((function e(){var t,n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null==(t=this.blueBackgroundAnimation)||t.remove(),this.blueBackgroundAnimation=this.scene.tweens.add({targets:this.blueBackground,duration:100,props:{alpha:{from:0,to:1}}}),e.abrupt("return",null==(n=this.blueBackgroundAnimation)?void 0:n.waitForCompletion());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.playBlackBackgroundExitAnimation=function(){var e=(0,s.Z)(d().mark((function e(){var t,n,r=this;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null==(t=this.blackBackgroundAnimation)||t.remove(),this.blackBackgroundAnimation=this.scene.tweens.add({targets:this.background,duration:200,props:{alpha:0},onUpdate:function(){r.updateAppDbOverlayOpacity()}}),e.abrupt("return",null==(n=this.blackBackgroundAnimation)?void 0:n.waitForCompletion());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.playBlueBackgroundExitAnimation=function(){var e=(0,s.Z)(d().mark((function e(){var t,n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null==(t=this.blueBackgroundAnimation)||t.remove(),this.blueBackgroundAnimation=this.scene.tweens.add({targets:this.blueBackground,duration:200,props:{alpha:0}}),e.abrupt("return",null==(n=this.blueBackgroundAnimation)?void 0:n.waitForCompletion());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.updateScroller=function(){var e=De()(this.scene).getAllScrollerBlockInfo(),t=De()(this.scene).getCurrentBlockId();this.scroller.updateAllMapBlockInfo(e),this.scroller.setEnable(!0),this.scroller.moveToIdx(Number(t))},n.playTitleEntranceAnimation=function(){var e;null==(e=this.titleAnimation)||e.remove(),this.title.setScale(0),this.title.setAlpha(1),this.titleAnimation=this.scene.add.tween({targets:this.title,duration:300,ease:co()(.38,1.37,.64,1),props:{scale:1}})},n.playTitleExitAnimation=function(){var e=(0,s.Z)(d().mark((function e(){var t,n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null==(t=this.titleAnimation)||t.remove(),this.titleAnimation=this.scene.add.tween({targets:this.title,duration:200,props:{alpha:0}}),e.abrupt("return",null==(n=this.titleAnimation)?void 0:n.waitForCompletion());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.spawnMapBlockInside=function(){return this.blockInsidePool.spawn()},n.updateAppDbOverlayOpacity=function(){Ih.Z.setAppBgOverlayAlpha(this.background.alpha)},t}(GameCore.Screen),Rh=Oh,Mh={COIN_BLOCK:"COIN_BLOCK",WISDOM_BLOCK:"WISDOM_BLOCK",LOGO:"LOGO",PROGRESS_BAR:"PROGRESS_BAR"},Nh=Na.Z.DEFAULT,Dh=Nh.KEY,Fh=Nh.FRAME,Gh=function(e){function t(t){var n;return(n=e.call(this,t)||this).wisdomImage=void 0,n.sunImage=void 0,n.sunRayImages=void 0,n.ribbonImage=void 0,n.sunRayContainer=void 0,n.sunRayContainer2=void 0,n.ribbonContainer=void 0,n.sunRayScale=void 0,n.textWisdom=void 0,n.setName(Mh.WISDOM_BLOCK),n.setSize(212,146),n.createSunRay(),n.createSun(),n.createRibbon(),n.createWisdom(),n.createTextWisdom(),n}(0,o.Z)(t,e);var n=t.prototype;return n.createSunRay=function(){this.sunRayImages=[],this.sunRayContainer=this.scene.add.container(),this.sunRayContainer2=this.scene.add.container();for(var e=[{x:-40,y:0},{x:-32,y:-40},{x:-15,y:-45},{x:30,y:-40},{x:50,y:-29},{x:40,y:0}],t=0;t<6;t++){var n=this.scene.make.image({key:Dh,frame:Fh.DASHBOARD_SCREEN_SUN_RAY_PREFIX+(t+1)});n.setSizeBasedOnDpr(),n.setPosition(e[t].x,e[t].y),this.sunRayScale||(this.sunRayScale=n.scale),this.sunRayImages.push(n),this.sunRayContainer.add(n);var r=this.scene.make.image({key:Dh,frame:Fh.DASHBOARD_SCREEN_SUN_RAY_PREFIX+(t+1)});r.setSizeBasedOnDpr(),r.setPosition(e[t].x,e[t].y),this.sunRayImages.push(r),this.sunRayContainer2.add(r)}this.add(this.sunRayContainer),this.add(this.sunRayContainer2),this.sunRayContainer2.setAngle(180)},n.createSun=function(){this.sunImage=this.scene.make.image({key:Dh,frame:Fh.DASHBOARD_SCREEN_SUN}),this.sunImage.setSizeBasedOnDpr(),this.add(this.sunImage),Phaser.Display.Align.In.TopCenter(this.sunImage,this)},n.createRibbon=function(){this.ribbonContainer=this.scene.add.container(),this.ribbonImage=this.scene.make.image({key:Dh,frame:Fh.DASHBOARD_SCREEN_RIBBON}),this.ribbonImage.setSizeBasedOnDpr(),this.ribbonContainer.add(this.ribbonImage),this.add(this.ribbonContainer),Phaser.Display.Align.In.Center(this.ribbonImage,this,0,14)},n.createWisdom=function(){this.wisdomImage=this.scene.make.image({key:Dh,frame:Fh.DASHBOARD_SCREEN_WISDOM}),this.wisdomImage.setSizeBasedOnDpr(),this.ribbonContainer.add(this.wisdomImage),Phaser.Display.Align.In.Center(this.wisdomImage,this.ribbonImage,0,-2)},n.createTextWisdom=function(){this.textWisdom=this.scene.make.bitmapText({font:Ee.Z.NUMBERS_ORANGE.KEY,size:20,origin:{x:.5,y:.5},text:"444"}),this.textWisdom.setLetterSpacing(7),this.add(this.textWisdom),Phaser.Display.Align.In.Center(this.textWisdom,this.sunImage,0,5)},n.setWisdom=function(e){this.textWisdom.setText(e.toString()),this.configWidthText(55)},n.configWidthText=function(e){for(;this.textWisdom.width>e;)this.textWisdom.setFontSize(.95*this.textWisdom.fontSize)},n.playAnimationSunRay=function(){this.scene.tweens.add({targets:[this.sunRayContainer,this.sunRayContainer2],angle:"+=360",duration:3e4,repeat:-1}),this.scene.tweens.add({targets:[this.sunRayContainer,this.sunRayContainer2],scale:{from:1,to:.8},ease:Phaser.Math.Easing.Cubic.InOut,duration:2e3,repeat:-1,yoyo:!0,repeatDelay:1e3}),this.scene.tweens.add({targets:this.sunRayImages,alpha:{from:1,to:.8},ease:Phaser.Math.Easing.Sine.InOut,duration:600,yoyo:!0,repeat:-1,delay:this.scene.tweens.stagger(100,{start:0})}),this.scene.tweens.add({targets:this.ribbonContainer,scale:1.1,duration:1e3,yoyo:!0,ease:Phaser.Math.Easing.Quadratic.InOut,delay:2500,repeat:-1,repeatDelay:3e3})},n.runAnimation=function(){this.sunRayContainer.setScale(1),this.sunRayContainer2.setScale(1),this.ribbonContainer.setScale(1),this.playAnimationSunRay()},n.stopAnimation=function(){this.scene.tweens.killTweensOf(this.sunRayContainer),this.scene.tweens.killTweensOf(this.sunRayContainer2),this.scene.tweens.killTweensOf(this.sunRayImages),this.scene.tweens.killTweensOf(this.ribbonContainer)},t}(Phaser.GameObjects.Container),Zh=Gh,Uh=n(121),Kh=co()(.55,.47,.43,.91),Hh={targets:[],yoyo:!0,repeat:-1,duration:600,repeatDelay:50,ease:Kh,easeParams:[0,.9],props:{scale:{from:1,to:1.2}}},Wh=function(e){function t(t){return e.call(this,Hh,t)||this}return(0,o.Z)(t,e),t}(Uh.Z),Vh=function(e){function t(t,n,r,a,i,s){var o;return(o=e.call(this,t,n,r,a,i,s)||this).animation=void 0,o.pointerDownCallback=function(){var e;null==(e=o.animation)||e.stop()},o.createAnimation(),o}(0,o.Z)(t,e);var n=t.prototype;return n.createAnimation=function(){var e=this;this.animation=new Wh({targets:[this],props:{scale:{from:1,to:1.05}}}),this.callbackPointerUpOut=function(){var t,n;null!=(t=e.animation.tween)&&t.isPlaying()||null==(n=e.animation)||n.play()}},n.runAnimation=function(){var e;null==(e=this.animation)||e.play(),this.hitZone.on(Phaser.Input.Events.GAMEOBJECT_POINTER_DOWN,this.pointerDownCallback)},n.stopAnimation=function(){var e;null==(e=this.animation)||e.stop(),this.hitZone.off(Phaser.Input.Events.GAMEOBJECT_POINTER_DOWN,this.pointerDownCallback)},t}(io.Z),Yh=Vh,zh=Na.Z.DEFAULT,jh=zh.KEY,Xh=zh.FRAME,qh=GameCore.Utils.Image.getImageScale(),Qh=function(e){function t(t){var n;return(n=e.call(this,t,jh,Xh.BUTTON_BLUE_LONG_2,229,68)||this).textLevel=void 0,n.textNumberLevel=void 0,n.particleManager=void 0,n.particle=void 0,n.scene=t,n.setName(so.DB_LEVEL),n.createTextLevel(),n.createTextNumberLevel(),n.createParticle(),n.alignUI(),n}(0,o.Z)(t,e);var n=t.prototype;return n.createTextLevel=function(){this.textLevel=this.scene.make.image({key:jh,frame:Xh.TEXT_LEVEL}),this.textLevel.setSizeBasedOnDpr(),this.add(this.textLevel)},n.createTextNumberLevel=function(){this.textNumberLevel=this.scene.make.bitmapText({font:Ee.Z.NUMBERS.KEY,size:this.scene.fontSize(85),origin:{x:.5,y:.5},text:"12"}),this.add(this.textNumberLevel)},n.createParticle=function(){this.particleManager=this.scene.add.particles(Na.Z.EFFECTS.KEY,Na.Z.EFFECTS.FRAME.FX_STAR_WHITE),this.particleManager.setDepth(Go.Z.ON_TOP),this.add(this.particleManager);var e=new Phaser.Geom.Rectangle(-this.width/1.5/2,-this.height/1.5/2,this.width/1.5,this.height/1.5);this.particle=this.particleManager.createEmitter({on:!1,frame:Na.Z.EFFECTS.FRAME.FX_STAR_WHITE,lifespan:{min:1e3,max:1500},frequency:500,quantity:1,maxParticles:10,rotate:{start:1/0,end:0},alpha:{start:2,end:.3,ease:Phaser.Math.Easing.Expo.In},accelerationY:-20,blendMode:Phaser.BlendModes.ADD,particleClass:ri,emitZone:{type:"random",source:e,quantity:1},emitCallback:function(e){e.scaleX=0,e.scaleY=0;var t=Math.random()>.5?1:-1;e.data.rotate.min=180*t,e.setScale({min:1/qh,max:1.3/qh},e.life)}})},n.alignUI=function(){var e=this.textLevel.width,t=this.textNumberLevel.width,n=e+t;this.textLevel.setPosition(-n/2+e/2-3,0),this.textNumberLevel.setPosition(n/2-t/2+3,1)},n.updateTextLevel=function(e){this.textNumberLevel.setText(""+e),this.alignUI()},n.emitParticle=function(){var e=this;this.particle.start(),this.scene.time.delayedCall(2e3,(function(){e.particle.stop()}))},t}(Yh),Jh=Qh,$h=Na.Z.DEFAULT,ep=$h.KEY,tp=$h.FRAME,np=function(e){function t(t){var n;(n=e.call(this,t)||this).background=void 0,n.logoAnimation=void 0,n.setName(Mh.LOGO);var r=n.createBackground(),a=r.width,i=r.height;return n.setSize(a,i),n.runLogoAnimation(),n}(0,o.Z)(t,e);var n=t.prototype;return n.createBackground=function(){this.background=this.scene.make.image({key:ep,frame:tp.LOGO}),this.background.setSizeBasedOnDpr(),this.add(this.background);var e=this.background;return{width:e.displayWidth,height:e.displayHeight}},n.runLogoAnimation=function(){this.logoAnimation||(this.logoAnimation=new Wh({targets:[this.background],duration:1400,repeatDelay:200,props:{scale:"+=0.03"}})),this.logoAnimation.play()},t}(Phaser.GameObjects.Container),rp=np,ap=Na.Z.DEFAULT,ip=ap.KEY,sp=ap.FRAME,op=function(e){function t(t){var n;return(n=e.call(this,t,ip,sp.BUTTON_BLUE_LONG,214,45)||this).text=void 0,n.icon=void 0,n.infoDot=void 0,n.scene=t,n.setName(so.DB_DAILY_CHALLENGE),n.createIcon(),n.createText(),n.createInfoDot(),n.alignUI(),n}(0,o.Z)(t,e);var n=t.prototype;return n.createIcon=function(){this.icon=this.scene.make.image({key:ip,frame:sp.DASHBOARD_SCREEN_ICON_CALENDAR}),this.icon.setSizeBasedOnDpr(),this.add(this.icon)},n.createText=function(){var e=this.scene.make.text({style:{fontFamily:Ee.Z.FONT_FAMILY,fontSize:"18px"},text:"Daily Challenge",origin:{x:.5,y:.5}});e.setHighQuality(),this.add(e);var t=e.context.createLinearGradient(0,0,0,e.height);t.addColorStop(0,"#ffffff"),t.addColorStop(1,"#cce5f9"),e.setFill(t),e.setShadow(0,6,"#0000003F",0,!1,!0),Phaser.Display.Align.In.Center(e,this,0,-10),this.text=e,this.add(this.text)},n.createInfoDot=function(){this.infoDot=this.scene.make.image({key:ip,frame:sp.DASHBOARD_SCREEN_ICON_INFO_DOT}),this.infoDot.setSizeBasedOnDpr(),this.infoDot.kill(),this.add(this.infoDot),Phaser.Display.Align.In.TopRight(this.infoDot,this,-4.5)},n.checkPlayedDailyChallengeToday=function(){this.scene.player.getCustomData("dailyChallenge").isTodayCompleted?this.infoDot.kill():this.infoDot.revive()},n.alignUI=function(){var e=this.icon.width,t=this.text.width,n=e+t;this.icon.setPosition(-n/2+e/2-5,-1),this.text.setPosition(n/2-t/2+5,-1.5)},t}(io.Z),cp=op,up=Na.Z.DEFAULT,lp=(up.KEY,up.FRAME,function(e){function t(t,n,a,i){var o;return(o=e.call(this,t,n,a,i)||this).scene=void 0,o.bg=void 0,o.dailyChallengeButton=void 0,o.levelButton=void 0,o.logo=void 0,o.wisdomBlock=void 0,o.originalYs=[],o.shouldResetDepth=!1,o.isOpening=!1,o.handleClickDailyChallengeButton=(0,s.Z)(d().mark((function e(){var t,n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=o.scene.navigation.scene).setGlobalSceneInputEnabled(!1),(n=[o.scene.navigation.fadeOutHybrid(),o.scene.navigation.fadeOut()]).push(o.softFadeOut()),e.next=6,u().all(n);case 6:return e.next=8,u().all([t.screen.openAsync(tn.o4.DAILY_CHALLENGE_SCREEN),o.scene.navigation.fadeIn("DailyChallengeScreen",!1)]);case 8:t.setGlobalSceneInputEnabled(!0);case 9:case"end":return e.stop()}}),e)}))),o.handleClickLevelButton=(0,s.Z)(d().mark((function e(){var t;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o.scene.setGlobalSceneInputEnabled(!1),o.scene.gameManager.isLosing()&&o.scene.restartLevel(),Hs(t=o.scene.level.getLevel()),Vs(t),o.scene.stepLogHandler.reset(t),o.scene.logStepProgress(!0),o.scene.prepareFadeIn(),e.next=10,u().all([o.scene.navigation.fadeOut(),o.closeAsync()]);case 10:return e.next=12,u().all([o.scene.navigation.fadeIn("Gameplay"),o.scene.fadeIn()]);case 12:return o.scene.gameManager.tryWarningRackIsAlmostFull(),e.next=15,o.scene.tutorialHandler.showTutorialLate();case 15:o.scene.setGlobalSceneInputEnabled(!0);case 16:case"end":return e.stop()}}),e)}))),o.handleClickPlayWithFriendButton=(0,s.Z)(d().mark((function e(){var t,n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.scene.storage.dispatch(function(){var e=(0,s.Z)(d().mark((function e(t){var n,a,i,s,o,c,u,l,h,p,f,m,g,v,y,k;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n=window.game,a=n.player,i=n.facebook,n.globalScene.screen.open(tn.o4.NOTIFY_SCREEN,{message:"Loading...",loading:!0}),s=a.getConnectedPlayerIds(100,0),o="",c="",u=i.contextType,s.length>=1&&(l=Phaser.Math.RND.between(0,s.length-1),o=s[l]),!o||"string"!==typeof o){e.next=12;break}return e.next=11,i.createAsync(o);case 11:c=e.sent;case 12:if(!1!==c&&""!==c){e.next=17;break}return e.next=15,t(ll());case 15:return h=e.sent,e.abrupt("return",h);case 17:return al({contextId:c}),p=a.getPlayerId(),e.next=21,i.getContextPlayers(p);case 21:return f=e.sent,m=ea,""===o?1===f.length&&(m=f[0]||ea):m=1===f.length?f[0]||ea:a.getConnectedPlayers()[o]||ea,t(tl()),v=(g=m).name,y=g.photo,k={playerId:o,name:v,photo:y},e.next=29,t(fl(na,k));case 29:return t(ca(c,u)),e.abrupt("return","challenge");case 33:if(e.prev=33,e.t0=e.catch(0),!(e.t0 instanceof Wo)){e.next=39;break}return t(vl({mode:ta,status:cr})),t(cl()),e.abrupt("return","");case 39:(0,r.tO)(e.t0);case 40:return e.prev=40,sl(1e3),e.finish(40);case 43:case"end":return e.stop()}}),e,null,[[0,33,40,43]])})));return function(t){return e.apply(this,arguments)}}());case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return");case 5:if("tournament"!==t){e.next=7;break}return e.abrupt("return",o.scene.handlePlayCustomLevel(o.handleBeforeFadeIn,o.handleAfterFadeIn));case 7:return n=o.scene.level.getLevel(),window.levelCustom=n,e.abrupt("return",o.scene.handlePlayCustomLevel(o.handleBeforeFadeIn,o.handleAfterFadeIn));case 10:case"end":return e.stop()}}),e)}))),o.handleClickTournamentButton=(0,s.Z)(d().mark((function e(){var t,n,r,a,i,s,c,u;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,Ca.Z)(o),n=t.scene,r=n.tournament,a=n.game,(i=a.globalScene).screen.open(tn.o4.NOTIFY_SCREEN,{message:"Joining tournament...",loading:!0}),e.next=6,r.preloadWorldTournamentsAsync();case 6:if(s=e.sent,GameCore.Utils.Array.shuffle(s),c=s[0]){e.next=12;break}return i.screen.open(tn.o4.NOTIFY_SCREEN,{message:"No tournament right now!",duration:3e3,loading:!1}),e.abrupt("return");case 12:return e.next=14,r.joinTournamentAsync(c);case 14:if("fail"!==(u=e.sent)){e.next=18;break}return i.screen.open(tn.o4.NOTIFY_SCREEN,{message:"Sorry, you cannot join\nat this time.",duration:3e3,loading:!1}),e.abrupt("return");case 18:if(i.screen.close(tn.o4.NOTIFY_SCREEN),"user-close-popup"!==u){e.next=21;break}return e.abrupt("return");case 21:if(window.levelCustom){e.next=23;break}return e.abrupt("return");case 23:return e.abrupt("return",o.scene.handlePlayCustomLevel(o.handleBeforeFadeIn,o.handleAfterFadeIn));case 24:case"end":return e.stop()}}),e)}))),o.handleBeforeFadeIn=(0,s.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u().all([o.scene.navigation.fadeOut(),o.closeAsync()]);case 2:case"end":return e.stop()}}),e)}))),o.handleAfterFadeIn=(0,s.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.scene.tutorialHandler.showTutorialLate();case 2:case"end":return e.stop()}}),e)}))),o.scene=t,o.setDepth(tn.Ks.POPUP),o.background.setAlpha(0),o.createBackground(),o.updateAppDbBg(),o.createButtons(),o.createLogo(),o.createWisdomBlock(),o.alignUI(),o.listenInput(),o}(0,o.Z)(t,e);var n=t.prototype;return n.updateAppDbBg=function(){this.updateAppDbBgOpacity(),this.moveAppDbBg(!0)},n.updateAppDbBgOpacity=function(){Ih.Z.setAppDbBgAlpha(this.bg.alpha)},n.createBackground=function(){var e=this.scene.make.image({key:$r.Z.DB_BACKGROUND.KEY});e.setWorldSize(this.width,this.height),this.add(e),this.bg=e},n.createButtons=function(){this.createDailyChallengeButton(),this.createLevelButton()},n.createLogo=function(){this.logo=new rp(this.scene),this.add(this.logo)},n.createWisdomBlock=function(){this.wisdomBlock=new Zh(this.scene),this.add(this.wisdomBlock)},n.createDailyChallengeButton=function(){this.dailyChallengeButton=new cp(this.scene),this.add(this.dailyChallengeButton)},n.createLevelButton=function(){this.levelButton=new Jh(this.scene),this.add(this.levelButton)},n.alignUI=function(){var e=this.scene.ads.getBannerHeight();Phaser.Display.Align.In.BottomCenter(this.logo,this,0,-396-e),Phaser.Display.Align.In.BottomCenter(this.wisdomBlock,this,0,-255-e),Phaser.Display.Align.In.BottomCenter(this.dailyChallengeButton,this,0,-205-e),Phaser.Display.Align.In.BottomCenter(this.levelButton,this,0,-123-e),this.originalYs=[this.wisdomBlock.y,this.levelButton.y,this.dailyChallengeButton.y]},n.trySettingCorrectBg=function(){this.bg.setTexture($r.Z.DB_BACKGROUND.KEY),this.bg.setWorldSize(this.width,this.height)},n.prepareFadeInFromGameplay=function(e){void 0===e&&(e=!0),this.trySettingCorrectBg(),this.revive(),this.setDepth(-1),this.bg.setAlpha(1),e&&(this.moveAppDbBg(!1),this.updateAppDbBgOpacity()),this.shouldResetDepth=!0,this.logo.kill(),this.wisdomBlock.kill(),this.dailyChallengeButton.kill(),this.levelButton.kill()},n.open=function(){var t=(0,s.Z)(d().mark((function t(n){var r,a;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.shouldResetDepth&&(this.setDepth(tn.Ks.POPUP),this.shouldResetDepth=!1),this.moveAppDbBg(!0),e.prototype.open.call(this,n),this.trySettingCorrectBg(),this.dailyChallengeButton.checkPlayedDailyChallengeToday(),this.scene.audio.playMusic("db",{volume:.4}),r=this.scene.player.getBestScore(),this.wisdomBlock.setWisdom(r),a=this.scene.level.getLevel(),this.levelButton.updateTextLevel(a),this.isOpening=!0,t.next=13,this.fadeIn();case 13:this.emitOpenCompleted();case 14:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),n.close=function(){e.prototype.close.call(this),this.isOpening=!1},n.moveAppDbBg=function(e){Ih.Z.moveAppDbBg(e)},n.listenInput=function(){this.dailyChallengeButton.onClick=this.handleClickDailyChallengeButton,this.levelButton.onClick=this.handleClickLevelButton},n.closeAsync=function(){var e=(0,s.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fadeOut();case 2:this.scene.screen.close(this.name);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.fadeIn=function(){var e=(0,s.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.revive(),this.logo.revive(),this.wisdomBlock.revive(),this.dailyChallengeButton.revive(),this.levelButton.revive(),this.levelButton.stopAnimation(),this.wisdomBlock.runAnimation(),1==this.scene.player.getCustomData("level")&&this.dailyChallengeButton.kill(),this.bg.setAlpha(1),this.updateAppDbBgOpacity(),e.next=13,this.runPopupFadeIn();case 13:this.levelButton.runAnimation(),this.levelButton.emitParticle();case 15:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.runPopupFadeIn=function(){var e=(0,s.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",u().all([this.tweenAlphaIn([this.logo,this.wisdomBlock,this.dailyChallengeButton,this.levelButton]),Za(this.wisdomBlock,this.originalYs[0],0),Za(this.levelButton,this.originalYs[1],200),Za(this.dailyChallengeButton,this.originalYs[2],200)]));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.softFadeOut=function(){var e=(0,s.Z)(d().mark((function e(){var t;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[this.logo,this.wisdomBlock,this.dailyChallengeButton,this.levelButton],this.levelButton.stopAnimation(),this.wisdomBlock.stopAnimation(),e.next=5,u().all([this.tweenAlphaOut(t)]);case 5:t.forEach((function(e){return e.kill()}));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.fadeOut=function(){var e=(0,s.Z)(d().mark((function e(){var t,n=this;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[this.logo,this.wisdomBlock,this.dailyChallengeButton,this.levelButton],this.levelButton.stopAnimation(),this.wisdomBlock.stopAnimation(),e.next=5,u().all([this.tweenAlphaOut(t),ja([this.bg],300,200,0,(function(){n.updateAppDbBgOpacity()}))]);case 5:t.forEach((function(e){return e.kill()}));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.tweenAlphaOut=function(){var e=(0,s.Z)(d().mark((function e(t){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.scene.add.tween({targets:t,duration:300,props:{alpha:0},ease:Phaser.Math.Easing.Cubic.In}),e.abrupt("return",n.waitForCompletion());case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),n.tweenMoveInCorner=function(){var e=(0,s.Z)(d().mark((function e(t,n){var r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.scene.add.tween({targets:t,duration:121,props:{x:n.x,y:n.y,scale:{value:.8,ease:Phaser.Math.Easing.Quadratic.In},alpha:.5}}),e.abrupt("return",r.waitForCompletion());case 2:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),n.tweenMoveOutCorner=function(){var e=(0,s.Z)(d().mark((function e(t,n){var r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.scene.add.tween({targets:t,duration:328,ease:Phaser.Math.Easing.Back.Out,props:{x:n.x,y:n.y,scale:{from:.5,to:1},alpha:{from:.5,to:1}}}),e.abrupt("return",r.waitForCompletion());case 2:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),n.tweenAlphaIn=function(){var e=(0,s.Z)(d().mark((function e(t){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.scene.add.tween({targets:t,duration:300,props:{alpha:{from:0,to:1}},ease:Phaser.Math.Easing.Cubic.In}),e.abrupt("return",n.waitForCompletion());case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t}(GameCore.Screen)),dp=lp,hp=Na.Z.GAMEPLAY,pp=hp.KEY,fp=hp.FRAME,mp=function(e){function t(t,n){var r;return(r=e.call(this,t,pp,fp.NO_MORE_SCREEN_BTN_BLUE,136,39)||this).createIcon(n),r.createText(n),r}(0,o.Z)(t,e);var n=t.prototype;return n.createIcon=function(e){var t=e.iconKey,n=e.iconFrame,r=e.iconOffsetX,a=void 0===r?0:r,i=e.iconOffsetY,s=void 0===i?0:i,o=this.scene.make.image({key:t,frame:n});o.setSizeBasedOnDpr(),this.add(o),Phaser.Display.Align.In.Center(o,this,a,s)},n.createText=function(e){var t=e.textKey,n=e.textFrame,r=e.textOffsetX,a=void 0===r?0:r,i=e.textOffsetY,s=void 0===i?0:i,o=this.scene.make.image({key:t,frame:n});o.setSizeBasedOnDpr(),this.add(o),Phaser.Display.Align.In.Center(o,this,a,s)},n.setDisabled=function(t){e.prototype.setDisabled.call(this,t),this.setAlpha(1)},t}(io.Z),gp=mp,vp=Na.Z.GAMEPLAY,yp=vp.KEY,kp=vp.FRAME,bp=function(e){function t(t){var n;return(n=e.call(this,t,yp,kp.NO_MORE_SCREEN_BTN_ORANGE,292.5,58)||this).animation=void 0,n.pointerDownCallback=function(){var e;null==(e=n.animation)||e.stop()},n.setName(so.NMM_ONE_MORE_CHANCE),n.createIcon(),n.createBigText(),n.createSmallText(),n.createAnimation(),n}(0,o.Z)(t,e);var n=t.prototype;return n.createIcon=function(){var e=this.scene.make.image({key:yp,frame:kp.NO_MORE_SCREEN_ICON_AD});e.setSizeBasedOnDpr(),this.add(e),Phaser.Display.Align.In.Center(e,this,-95,0)},n.createBigText=function(){var e=this.scene.make.image({key:yp,frame:kp.NO_MORE_SCREEN_ONE_MORE_CHANCE});e.setSizeBasedOnDpr(),this.add(e),Phaser.Display.Align.In.LeftCenter(e,this,-84,-8)},n.createSmallText=function(){var e=this.scene.make.image({key:yp,frame:kp.NO_MORE_SCREEN_WATCH_AN_AD});e.setSizeBasedOnDpr(),this.add(e),Phaser.Display.Align.In.LeftCenter(e,this,-84,10)},n.setDisabled=function(t){e.prototype.setDisabled.call(this,t),this.setAlpha(1)},n.createAnimation=function(){var e=this;this.animation=new Wh({targets:[this],props:{scale:{from:1,to:1.05}}}),this.callbackPointerUpOut=function(){var t,n;null!=(t=e.animation.tween)&&t.isPlaying()||null==(n=e.animation)||n.play()}},n.runAnimation=function(){var e;null==(e=this.animation)||e.play(),this.hitZone.on(Phaser.Input.Events.GAMEOBJECT_POINTER_DOWN,this.pointerDownCallback)},n.stopAnimation=function(){var e;null==(e=this.animation)||e.stop(),this.hitZone.off(Phaser.Input.Events.GAMEOBJECT_POINTER_DOWN,this.pointerDownCallback)},t}(io.Z),Ep=bp,xp=Na.Z.GAMEPLAY,Sp=xp.KEY,wp=xp.FRAME,Ap=function(e){function t(t){var n,r=(n=e.call(this,t)||this).createRibbon(),a=r.width,i=r.height;return n.setSize(a,i),n.createText(),n}(0,o.Z)(t,e);var n=t.prototype;return n.createRibbon=function(){var e=this.scene.make.image({key:Sp,frame:wp.NO_MORE_SCREEN_RIBBON_RED});return e.setSizeBasedOnDpr(),this.add(e),{width:e.displayWidth,height:e.displayHeight}},n.createText=function(){var e=this.scene.lang.Text.NO_MORE_MOVES,t="26px";"ru"===this.scene.facebook.getLocale()&&(t="25px");var n=this.scene.make.text({style:{fontFamily:Ee.Z.FONT_FAMILY,fontSize:t},text:e});n.setHighQuality(),this.add(n);var r=n.context.createLinearGradient(0,0,0,n.height);r.addColorStop(0,"#ffffff"),r.addColorStop(1,"#cce5f9"),n.setFill(r),n.setShadow(0,6,"#0000003F",0,!1,!0),Phaser.Display.Align.In.Center(n,this,0,-9)},t}(Phaser.GameObjects.Container),Cp=Ap,Tp=Na.Z.GAMEPLAY,Lp=Tp.KEY,Ip=Tp.FRAME,Pp=function(e){function t(t){var n;(n=e.call(this,t)||this).picture=void 0,n.createGlow(),n.createCardPicture();var r=n.createThemeCard(),a=r.width,i=r.height;return n.setSize(a,i),n}(0,o.Z)(t,e);var n=t.prototype;return n.setPicture=function(e){this.picture.setTexture(e),this.picture.setWorldSize(this.width-8,this.height-10),this.picture.setY(-1)},n.createGlow=function(){var e=this.scene.make.image({key:Lp,frame:Ip.NO_MORE_SCREEN_SUN_RAY});e.setSizeBasedOnDpr(),this.add(e)},n.createThemeCard=function(){var e=this.scene.make.image({key:Lp,frame:Ip.NO_MORE_SCREEN_CARD_FRAME});return e.setSizeBasedOnDpr(),this.add(e),{width:e.displayWidth,height:e.displayHeight}},n.createCardPicture=function(){var e=this.scene.make.image({});this.add(e),this.picture=e},t}(Phaser.GameObjects.Container),_p=Pp,Bp=function(e){function t(t,n){var r;return(r=e.call(this,t)||this).options=void 0,r.top=void 0,r.middle=void 0,r.originalMiddleDisplayHeight=void 0,r.bottom=void 0,r.options=n,r.createTop(),r.createMiddle(),r.createBottom(),r.initSize(),r}(0,o.Z)(t,e);var n=t.prototype;return n.createTop=function(){var e=this.options.sliceTextures.top,t=e.key,n=e.frame,r=this.scene.make.image({key:t,frame:n});r.setSizeBasedOnDpr(),this.add(r),this.top=r},n.createMiddle=function(){var e=this.options.sliceTextures.middle,t=e.key,n=e.frame,r=this.scene.make.image({key:t,frame:n});r.setSizeBasedOnDpr(),this.add(r),this.middle=r,this.originalMiddleDisplayHeight=r.displayHeight},n.createBottom=function(){var e=this.options.sliceTextures.bottom,t=e.key,n=e.frame,r=this.scene.make.image({key:t,frame:n});r.setSizeBasedOnDpr(),this.add(r),this.bottom=r},n.initSize=function(){this.setSize(this.getMinWidth(),this.options.initialHeight)},n.setSize=function(t,n){var r=Math.max(t,this.getMinWidth()),a=Math.max(n,this.getMinHeight());e.prototype.setSize.call(this,r,a);var i=Math.max(a-this.top.displayHeight-this.bottom.displayHeight,0);return this.middle.setWorldSize(this.middle.width,i),Phaser.Display.Align.In.TopCenter(this.top,this),Phaser.Display.Align.In.BottomCenter(this.bottom,this),Phaser.Display.Align.To.BottomCenter(this.middle,this.top),this},n.getMinWidth=function(){return this.top.displayWidth},n.getMinHeight=function(){return this.top.displayHeight+this.originalMiddleDisplayHeight+this.bottom.displayHeight},t}(Phaser.GameObjects.Container),Op=Bp,Rp=Na.Z.GAMEPLAY,Mp=Rp.KEY,Np=Rp.FRAME,Dp=function(e){function t(t){var n;(n=e.call(this,t)||this).bg=void 0,n.ribbon=void 0,n.themeCard=void 0,n.btnHome=void 0,n.btnRetry=void 0,n.btnOneMoreChance=void 0;var r=n.createBackground(),a=r.width,i=r.height;return n.setSize(a,i),n.createRibbon(),n.createThemeCard(),n.createBtnHome(),n.createBtnRetry(),n.createBtnOneMoreChance(),n.alignUI(),n}(0,o.Z)(t,e);var n=t.prototype;return n.setThemeCard=function(e){this.themeCard.setPicture(e)},n.createBackground=function(){var e=Mp,t=new Op(this.scene,{initialHeight:405.5,sliceTextures:{top:{key:e,frame:Np.NO_MORE_SCREEN_POPUP_TOP},middle:{key:e,frame:Np.NO_MORE_SCREEN_POPUP_MIDDLE},bottom:{key:e,frame:Np.NO_MORE_SCREEN_POPUP_BOTTOM}}}),n=t.displayWidth,r=t.displayHeight;return this.add(t),this.bg=t,{width:n,height:r}},n.createRibbon=function(){var e=new Cp(this.scene);this.add(e),this.ribbon=e},n.createThemeCard=function(){var e=new _p(this.scene);this.add(e),this.themeCard=e},n.createBtnHome=function(){var e=new gp(this.scene,{iconKey:Mp,iconFrame:Np.NO_MORE_SCREEN_ICON_HOME,textKey:Mp,textFrame:Np.NO_MORE_SCREEN_HOME,iconOffsetX:-28,iconOffsetY:-1,textOffsetX:13,textOffsetY:-1});e.setName(so.NMM_HOME),this.add(e),this.btnHome=e},n.createBtnRetry=function(){var e=new gp(this.scene,{iconKey:Mp,iconFrame:Np.NO_MORE_SCREEN_ICON_RETRY,textKey:Mp,textFrame:Np.NO_MORE_SCREEN_RETRY,iconOffsetX:-28,iconOffsetY:.5,textOffsetX:16.5,textOffsetY:1.5});e.setName(so.NMM_REPLAY),this.add(e),this.btnRetry=e},n.createBtnOneMoreChance=function(){var e=new Ep(this.scene);this.add(e),this.btnOneMoreChance=e},n.alignUI=function(){var e=this.bg,t=this.ribbon,n=this.themeCard,r=this.btnHome,a=this.btnRetry,i=this.btnOneMoreChance;Phaser.Display.Align.In.TopCenter(t,e,0,t.displayHeight/2-12),Phaser.Display.Align.In.TopCenter(n,e,0,-n.displayHeight/2+40),Phaser.Display.Align.In.TopLeft(r,e,-15,-275),Phaser.Display.Align.In.TopRight(a,e,-13,-275),Phaser.Display.Align.In.BottomCenter(i,e,0,-15)},n.showOneMoreChanceButton=function(){this.btnOneMoreChance.visible||(this.btnOneMoreChance.revive(),this.btnOneMoreChance.stopAnimation(),this.bg.setSize(this.bg.displayWidth,405.5),this.alignUI())},n.hideOneMoreChanceButton=function(){this.btnOneMoreChance.visible&&(this.btnOneMoreChance.stopAnimation(),this.btnOneMoreChance.kill(),this.bg.setSize(this.bg.displayWidth,330),this.alignUI())},n.setOneMoreChanceButtonEnabled=function(e){this.btnOneMoreChance.setDisabled(!e)},n.setHomeButtonEnabled=function(e){this.btnHome.setDisabled(!e)},n.setRetryButtonEnabled=function(e){this.btnRetry.setDisabled(!e)},n.prepareCardEntranceAnimation=function(){this.themeCard.setScale(0),this.scene.tweens.killTweensOf(this.themeCard)},n.prepareButtonOneMoreChangeEntranceAnimation=function(){this.btnOneMoreChance.setScale(1),this.btnOneMoreChance.stopAnimation()},n.runCardEntranceAnimation=function(){var e=(0,s.Z)(d().mark((function e(){var t;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.scene.tweens.add({targets:this.themeCard,duration:300,delay:100,props:{scale:{from:0,to:1,ease:Phaser.Math.Easing.Back.Out}}}),e.abrupt("return",t.waitForCompletion());case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.runOneMoreChanceButtonAnimation=function(){var e;null==(e=this.btnOneMoreChance)||e.runAnimation()},n.runCardPulsateAnimation=function(){this.scene.tweens.add({targets:this.themeCard,duration:1400,delay:100,yoyo:!0,repeat:-1,repeatDelay:200,ease:Kh,easeParams:[0,.9],props:{scale:{from:1,to:1.03}}})},n.fadeOutCard=function(){this.scene.tweens.killTweensOf(this.themeCard)},(0,le.Z)(t,[{key:"onHomeClick",set:function(e){this.btnHome.onClick=e}},{key:"onRetryClick",set:function(e){this.btnRetry.onClick=e}},{key:"onOneMoreChanceClick",set:function(e){this.btnOneMoreChance.onClick=e}}]),t}(Phaser.GameObjects.Container),Fp=Dp,Gp=function(e){function t(t,n,r,a){var i;return(i=e.call(this,t,n,r,a)||this).popup=void 0,i.screenAnimation=void 0,i.popupAnimation=void 0,i._canClickButtons=!1,i.handleTryClick=(0,s.Z)(d().mark((function e(){var t,n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i.canClickButtons){e.next=2;break}return e.abrupt("return");case 2:return i.canClickButtons=!1,t=i.scene.gameManager.levelDataManager.getLevelTileCount(),n=i.scene.gameManager.board.getRemainingAmount(),i.scene.stepLogHandler.logAllRemainingSteps(),zs(i.scene.level.getLevel(),!1,t-n),GameSDK.submitGameResultsAsync(i.scene.player.getBestScore()),e.next=10,no(i.name);case 10:i.restartLevel();case 11:case"end":return e.stop()}}),e)}))),i.handleHomeClick=function(){i.canClickButtons&&(i.canClickButtons=!1,i.goToHome())},i.handleOneMoreChanceClick=function(){i.canClickButtons&&(i.canClickButtons=!1,i.tryRescue())},i.setDepth(tn.Ks.POPUP),i.background.setAlpha(.7),i.createPopup(),i}(0,o.Z)(t,e);var n=t.prototype;return n.open=function(){var t=(0,s.Z)(d().mark((function t(n){var r,a;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.prototype.open.call(this,n),r=this.scene.gameManager.canShowRescueButton(),this.canClickButtons=!1,a=De()(this.scene).getCurBgKeyOfCurrentBlock(),this.popup.setThemeCard(a),r?this.popup.showOneMoreChanceButton():this.popup.hideOneMoreChanceButton(),this.popup.prepareCardEntranceAnimation(),this.popup.prepareButtonOneMoreChangeEntranceAnimation(),t.next=10,u().all([this.runScreenEntranceAnimation(),this.runPopupEntranceAnimation(),this.popup.runCardEntranceAnimation()]);case 10:this.popup.runCardPulsateAnimation(),this.popup.runOneMoreChanceButtonAnimation(),this.canClickButtons=!0,this.emitOpenCompleted();case 14:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),n.runScreenEntranceAnimation=function(){var e=(0,s.Z)(d().mark((function e(){var t,n,r=this;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null==(t=this.screenAnimation)||t.remove(),this.screenAnimation=this.scene.tweens.add({targets:this,duration:250,props:{alpha:{from:0,to:1}},onUpdate:function(){r.updateAppBackgroundOverlay()}}),e.abrupt("return",null==(n=this.screenAnimation)?void 0:n.waitForCompletion());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.runPopupEntranceAnimation=function(){var e=(0,s.Z)(d().mark((function e(){var t,n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null==(t=this.popupAnimation)||t.remove(),this.popupAnimation=this.scene.tweens.add({targets:this.popup,duration:300,props:{scale:{from:.5,to:1,ease:Phaser.Math.Easing.Back.Out,easeParams:[1.5]}}}),e.abrupt("return",null==(n=this.popupAnimation)?void 0:n.waitForCompletion());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.close=function(){var t=(0,s.Z)(d().mark((function t(){return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.canClickButtons=!1,t.next=3,this.runExitAnimation();case 3:e.prototype.close.call(this);case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),n.runExitAnimation=function(){var e=(0,s.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u().all([this.runScreenExitAnimation(),this.runPopupExitAnimation()]);case 2:this.popup.fadeOutCard();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.runScreenExitAnimation=function(){var e=(0,s.Z)(d().mark((function e(){var t,n,r=this;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null==(t=this.screenAnimation)||t.remove(),this.screenAnimation=this.scene.tweens.add({targets:this,duration:250,props:{alpha:0},onUpdate:function(){r.updateAppBackgroundOverlay()}}),e.abrupt("return",null==(n=this.screenAnimation)?void 0:n.waitForCompletion());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.runPopupExitAnimation=function(){var e=(0,s.Z)(d().mark((function e(){var t,n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null==(t=this.popupAnimation)||t.remove(),this.popupAnimation=this.scene.tweens.add({targets:this.popup,duration:300,props:{scale:{value:.5,ease:Phaser.Math.Easing.Back.In}}}),e.abrupt("return",null==(n=this.popupAnimation)?void 0:n.waitForCompletion());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.createPopup=function(){this.popup=new Fp(this.scene),this.add(this.popup),this.popup.onRetryClick=this.handleTryClick,this.popup.onHomeClick=this.handleHomeClick,this.popup.onOneMoreChanceClick=this.handleOneMoreChanceClick},n.restartLevel=function(){var e=(0,s.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Vs(this.scene.level.getLevel()),this.scene.stepLogHandler.reset(this.scene.level.getLevel()),this.scene.setGlobalSceneInputEnabled(!1),e.next=5,this.scene.restartLevel();case 5:return this.scene.prepareFadeIn(),e.next=8,u().all([this.scene.fadeIn(),this.scene.navigation.fadeIn("Gameplay"),this.closeAsync()]);case 8:return this.scene.addShortcut(),e.next=11,this.scene.tutorialHandler.showTutorialLate();case 11:this.scene.setGlobalSceneInputEnabled(!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.goToHome=function(){var e=(0,s.Z)(d().mark((function e(){var t,n,r,a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.scene.scene.get(fa.C.LOAD_SCENE),e.next=3,t.waitUntilDashboardResourcesLoaded(!0);case 3:return n=this.scene.gameManager.levelDataManager.getLevelTileCount(),r=this.scene.gameManager.board.getRemainingAmount(),this.scene.stepLogHandler.logAllRemainingSteps(),zs(this.scene.level.getLevel(),!1,n-r),GameSDK.submitGameResultsAsync(this.scene.player.getBestScore()),this.scene.setGlobalSceneInputEnabled(!1),e.next=11,this.scene.quickSetSingleMode();case 11:return a=e.sent,e.next=14,this.closeAsync();case 14:return e.next=16,u().all([this.scene.screen.openAsync(tn.o4.DASHBOARD_SCREEN),this.scene.navigation.fadeIn("Dashboard")]);case 16:a(),this.scene.setGlobalSceneInputEnabled(!0);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.tryRescue=function(){var e=(0,s.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.scene.setGlobalSceneInputEnabled(!1),e.next=3,to(this.name);case 3:if(!e.sent){e.next=12;break}return e.next=7,u().all([this.closeAsync(),this.scene.navigation.fadeIn("Gameplay")]);case 7:return e.next=9,this.scene.gameManager.rescueAsync();case 9:this.popup.hideOneMoreChanceButton(),e.next=14;break;case 12:this.canClickButtons=!0,this.popup.runOneMoreChanceButtonAnimation();case 14:this.scene.setGlobalSceneInputEnabled(!0),this.scene.handleResumePWF();case 16:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.closeAsync=function(){var e=(0,s.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.scene.screen.closeAsync(this.name));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.updateAppBackgroundOverlay=function(){Ih.Z.setAppBgOverlayAlpha(this.alpha*this.background.alpha)},(0,le.Z)(t,[{key:"canClickButtons",get:function(){return this._canClickButtons},set:function(e){this._canClickButtons=e,this.popup.setHomeButtonEnabled(e),this.popup.setRetryButtonEnabled(e),this.popup.setOneMoreChanceButtonEnabled(e)}}]),t}(GameCore.Screen),Zp=Gp,Up=Na.Z.GAMEPLAY,Kp=Up.KEY,Hp=Up.FRAME,Wp=function(e){function t(t){var n,r=(n=e.call(this,t)||this).createRibbon(),a=r.width,i=r.height;return n.setSize(a,i),n.createText(),n}(0,o.Z)(t,e);var n=t.prototype;return n.createRibbon=function(){var e=this.scene.make.image({key:Kp,frame:Hp.NO_MORE_SCREEN_RIBBON_RED});return e.setSizeBasedOnDpr(),this.add(e),{width:e.displayWidth,height:e.displayHeight}},n.createText=function(){var e=this.scene.lang.Text.WELL_DONE,t=this.scene.make.text({style:{fontFamily:Ee.Z.FONT_FAMILY,fontSize:"26px"},text:e});t.setHighQuality(),this.add(t);var n=t.context.createLinearGradient(0,0,0,t.height);n.addColorStop(0,"#ffffff"),n.addColorStop(1,"#cce5f9"),t.setFill(n),t.setLineSpacing,t.setShadow(0,6,"#0000003F",0,!1,!0),Phaser.Display.Align.In.Center(t,this,0,-8.5)},t}(Phaser.GameObjects.Container),Vp=Wp,Yp=n(118),zp=Na.Z.GAMEPLAY,jp=zp.KEY,Xp=zp.FRAME,qp=function(e){function t(t){var n;(n=e.call(this,t)||this).textLevel=void 0;var r=n.createRibbon(),a=r.width,i=r.height;return n.setSize(a,i),n.createText(),n}(0,o.Z)(t,e);var n=t.prototype;return n.createRibbon=function(){var e=this.scene.make.image({key:jp,frame:Xp.TUTORIAL_SCREEN_RIBBON_TURQUOISE});return e.setSizeBasedOnDpr(),this.add(e),{width:e.displayWidth,height:e.displayHeight}},n.createText=function(){var e="23px";"ru"===this.scene.facebook.getLocale()&&(e="18px");var t=this.scene.make.text({style:{fontFamily:Ee.Z.FONT_FAMILY,fontSize:e},text:"LEVEL 11 COMPLETED"});t.setHighQuality(),t.setOrigin(.5,.5),this.add(t);var n=t.context.createLinearGradient(0,0,0,t.height);n.addColorStop(0,"#ffffff"),n.addColorStop(1,"#cce5f9"),t.setFill(n),t.setLineSpacing,t.setShadow(0,6,"#0000003F",0,!1,!0),Phaser.Display.Align.In.Center(t,this,0,-4.5),this.textLevel=t},n.updateLevel=function(e){var t=this.scene.facebook.getLocale();e>999?"ru"===t?this.textLevel.setFontSize(16):this.textLevel.setFontSize(21):"ru"===t?this.textLevel.setFontSize(18):this.textLevel.setFontSize(23);var n=this.scene.lang.Text,r=n.LEVEL,a=n.COMPLETED;this.textLevel.setText(r+" "+e+" "+a)},t}(Phaser.GameObjects.Container),Qp=qp,Jp=function(e){function t(t,n,r,a){var i;return(i=e.call(this,t,n,r,a)||this).scene=void 0,i.ribbonWellDone=void 0,i.ribbonTurquoise=void 0,i.open=function(){var t=(0,s.Z)(d().mark((function t(n){var r,a,s,o,c;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.prototype.open.call((0,Ca.Z)(i),n),r=i.getData(["level","runRibbonTurquoiseAnimation"]),a=r[0],s=void 0===a?0:a,o=r[1],c=void 0===o||o,i.ribbonTurquoise.updateLevel(s-1),t.next=5,i.runOpenAnimation(c);case 5:i.emitOpenCompleted();case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),i.scene=t,i.setDepth(tn.Ks.POPUP),i.background.setAlpha(0),i.createRibbonWellDone(),i.createRibbonTurquoise(),i.alignUI(),i}(0,o.Z)(t,e);var n=t.prototype;return n.createRibbonWellDone=function(){this.ribbonWellDone=new Vp(this.scene),this.add(this.ribbonWellDone)},n.createRibbonTurquoise=function(){this.ribbonTurquoise=new Qp(this.scene),this.add(this.ribbonTurquoise)},n.alignUI=function(){var e=this.scene.ads.getBannerHeight();Phaser.Display.Align.In.Center(this.ribbonWellDone,this,0,-e/2),Phaser.Display.Align.In.TopCenter(this.ribbonTurquoise,this,0,-105)},n.runOpenAnimation=function(){var e=(0,s.Z)(d().mark((function e(t){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ribbonWellDone.setAlpha(0),this.ribbonWellDone.setScale(.5),this.ribbonTurquoise.setScale(0),e.next=5,(0,Yp.qZ)(300);case 5:return n=this.ribbonWellDone.y,e.next=8,this.showRibbonWellDone();case 8:return e.next=10,no(this.name);case 10:if(!t){e.next=12;break}return e.abrupt("return",u().all([this.hideRibbonWellDone(n),this.runPopupFadeIn()]));case 12:return e.abrupt("return",this.hideRibbonWellDone(n));case 13:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),n.showRibbonWellDone=function(){var e=(0,s.Z)(d().mark((function e(){var t,n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,ai.Z)(this.scene,50);case 2:return t=this.ribbonWellDone.y,this.ribbonWellDone.setAlpha(1),n=this.scene.add.tween({targets:this.ribbonWellDone,scale:{from:.5,to:1,duration:150,ease:Phaser.Math.Easing.Cubic.Out},y:{from:t,to:t+10,duration:500,delay:300},ease:Phaser.Math.Easing.Sine.Out}),e.abrupt("return",n.waitForCompletion());case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.hideRibbonWellDone=function(){var e=(0,s.Z)(d().mark((function e(t){var n,r=this;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.scene.add.tween({targets:this.ribbonWellDone,duration:450,alpha:{from:1,to:.1},ease:Phaser.Math.Easing.Circular.Out,onStart:function(){r.scene.audio.playSound(nn.Z.STAR_1,{volume:.6})},onComplete:function(){r.ribbonWellDone.setY(t),r.ribbonWellDone.setAlpha(0)}}),e.abrupt("return",n.waitForCompletion());case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),n.runPopupFadeIn=function(){var e=(0,s.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",u().all([Za(this.ribbonTurquoise,this.ribbonTurquoise.y,100,250)]));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t}(GameCore.Screen),$p=Jp,ef=Na.Z.DEFAULT,tf=ef.KEY,nf=ef.FRAME,rf=Na.Z.EFFECTS,af=rf.KEY,sf=rf.FRAME,of=function(e){function t(t){var n;(n=e.call(this,t)||this).background=void 0,n.textWisdom=void 0,n.glowSun=void 0,n.rotateTween=void 0,n.scaleGlowSun=void 0;var r=n.createBackground(),a=r.width,i=r.height;return n.createGlowSun(),n.setName(Mh.WISDOM_BLOCK),n.setSize(a,i),n.createTextWisdom(),n}(0,o.Z)(t,e);var n=t.prototype;return n.createBackground=function(){this.background=this.scene.make.image({key:tf,frame:nf.RESULT_SCREEN_WISDOM}),this.background.setSizeBasedOnDpr(),this.add(this.background);var e=this.background;return{width:e.displayWidth,height:e.displayHeight}},n.createGlowSun=function(){var e=this.scene.make.image({key:af,frame:sf.GLOW_SUN});e.setSizeBasedOnDpr(),this.scaleGlowSun=e.scale,this.add(e),this.moveBelow(e,this.background),Phaser.Display.Align.In.Center(e,this.background,0,30),this.glowSun=e},n.createTextWisdom=function(){this.textWisdom=this.scene.make.bitmapText({font:Ee.Z.NUMBERS_ORANGE.KEY,size:37,origin:{x:.5,y:.5},text:"0"}),this.textWisdom.setLetterSpacing(12),this.add(this.textWisdom),Phaser.Display.Align.In.Center(this.textWisdom,this.background,0,30)},n.setTextWisdom=function(e){this.textWisdom.setText(e.toString()),this.configWidthText(100)},n.configWidthText=function(e){for(;this.textWisdom.width>e;)this.textWisdom.setFontSize(.95*this.textWisdom.fontSize)},n.prepareForAnimation=function(){this.glowSun.setScale(0),this.glowSun.setAngle(0)},n.playAnimationRotateGlow=function(){var e=this,t=this.scene.tweens.add({targets:this.glowSun,scale:{from:this.scaleGlowSun,to:this.scaleGlowSun},duration:275,ease:Phaser.Math.Easing.Back.Out,onComplete:function(){t.remove(),e.rotateTween.play()}});this.rotateTween=this.scene.tweens.add({paused:!0,targets:this.glowSun,angle:360,duration:14400,repeat:-1})},n.stopAnimationRotateGlow=function(){this.rotateTween.remove()},t}(Phaser.GameObjects.Container),cf=of,uf=function(e){function t(t){var n;return(n=e.call(this,t)||this).text=void 0,n.createText(),n}(0,o.Z)(t,e);var n=t.prototype;return n.createText=function(){var e=this.scene.make.text({style:{fontFamily:Ee.Z.FONT_FAMILY,fontSize:"23px"},text:"Development 1/8"});e.setHighQuality(),e.setOrigin(.5,.5),this.add(e);var t=e.context.createLinearGradient(0,0,0,e.height);t.addColorStop(0,"#ffffff"),t.addColorStop(1,"#cce5f9"),e.setFill(t),e.setLineSpacing,e.setShadow(0,6,"#0000003F",0,!1,!0),Phaser.Display.Align.In.Center(e,this,0,-4.5),this.text=e},n.setText=function(e){this.text.setText(e)},t}(Phaser.GameObjects.Container),lf=uf,df=Na.Z.DEFAULT,hf=df.KEY,pf=df.FRAME,ff=function(e){function t(t){var n;return(n=e.call(this,t)||this).icon=void 0,n.text=void 0,n.createIcon(),n.createText(),n.alignIconAndText(),n}(0,o.Z)(t,e);var n=t.prototype;return n.createIcon=function(){var e=this.scene.make.image({key:hf,frame:pf.SHOP_SCREEN_COIN});e.setSizeBasedOnDpr(),this.add(e),this.icon=e},n.createText=function(){var e=this.scene.make.text({style:{fontFamily:Ee.Z.FONT_FAMILY,fontSize:"23px"},text:"x 25"});e.setHighQuality(),e.setOrigin(.5,.5),this.add(e);var t=e.context.createLinearGradient(0,0,0,e.height);t.addColorStop(0,"#ffffff"),t.addColorStop(1,"#cce5f9"),e.setFill(t),e.setLineSpacing(10),e.setShadow(0,6,"#0000003F",0,!1,!0),this.text=e},n.setText=function(e){this.text.setText("x "+e),this.alignIconAndText()},n.alignIconAndText=function(){var e=this.icon.width,t=this.text.displayWidth,n=e+t;this.icon.setPosition(-n/2+e/2-3,0),this.text.setPosition(n/2-t/2+3,-3.5)},t}(Phaser.GameObjects.Container),mf=ff,gf=function(e){function t(t){var n;return(n=e.call(this,t)||this).scale=1,n.alpha0=1,n.accelerationY=5,n}(0,o.Z)(t,e);var n=t.prototype;return n.update=function(t,n,r){var a=e.prototype.update.call(this,t,n,r);return this.updateScale(),this.updateAlpha(),a},n.updateScale=function(){var e=1-this.lifeCurrent%this.life/this.life;this.scaleX=.5*this.scale*Math.sin(e*Math.PI),this.scaleY=.5*this.scale*Math.sin(e*Math.PI)},n.updateAlpha=function(){var e=1-this.lifeCurrent%this.life/this.life;this.alpha=this.alpha0*Math.sin(e*Math.PI)},n.init=function(){this.alpha=0,Phaser.Math.Between(0,1)&&(this.data.rotate.max=-180)},t}(Phaser.GameObjects.Particles.Particle),vf=gf,yf=function(e){function t(t,n){var r;return(r=e.call(this,t,Na.Z.EFFECTS.KEY,Na.Z.EFFECTS.FRAME.FX_STAR_WHITE)||this).twinkleStar=void 0,r.gift=void 0,r.gift=n,r.scene.add.existing((0,Ca.Z)(r)),r.createTwinkleStar(),r}(0,o.Z)(t,e);var n=t.prototype;return n.show=function(){this.revive();var e=this.gift,t=e.x,n=e.y,r=e.displayWidth,a=e.displayHeight,i=new Phaser.Geom.Rectangle(t-r/3,n-a/3,r/1.5,a/3);this.twinkleStar.setEmitZone({type:"random",source:i,quantity:8}),this.twinkleStar.start()},n.stop=function(){this.twinkleStar.stop(),this.kill()},n.createTwinkleStar=function(){this.twinkleStar=this.createEmitter({on:!1,timeScale:1,lifespan:{min:800,max:1e3},quantity:1,frequency:800,particleClass:vf,speedY:{min:-9,max:-13},rotate:{start:0,end:180},accelerationY:{min:-5,max:-10},emitCallback:function(e){e.init()}})},t}(Phaser.GameObjects.Particles.ParticleEmitterManager),kf=yf,bf=Na.Z.DEFAULT,Ef=bf.KEY,xf=bf.FRAME,Sf=function(e){function t(t){var n;(n=e.call(this,t)||this).scene=void 0,n.development=void 0,n.progressBackground=void 0,n.progressFill=void 0,n.rightProgress=void 0,n.percent=void 0,n.gift=void 0,n.rewardCoins=void 0,n.giftScale=void 0,n.giftX=void 0,n.giftY=void 0,n.giftVFX=void 0,n.maskGraphics=void 0,n.scene=t;var r=n.createBackground(),a=r.width,i=r.height;return n.setName(Mh.PROGRESS_BAR),n.setSize(a,i),n.createDevelopment(),n.createProgressFill(),n.createRightProgress(),n.createGift(),n.createGiftVFX(),n.createRewardCoin(),n.scene.add.existing((0,Ca.Z)(n)),n}(0,o.Z)(t,e);var n=t.prototype;return n.setRewardCoins=function(e){this.rewardCoins.setText(e)},n.createBackground=function(){var e=this.scene.make.image({key:Ef,frame:xf.RESULT_SCREEN_PROGRESS_BAR_OUTSIDE});e.setSizeBasedOnDpr(),this.add(e);var t=e.displayWidth,n=e.displayHeight;return e.setX(-12),this.progressBackground=e,{width:t,height:n}},n.createDevelopment=function(){this.development=new lf(this.scene),this.add(this.development),Phaser.Display.Align.In.Center(this.development,this,0,-44)},n.createProgressFill=function(){this.progressFill=this.scene.make.image({key:Ef,frame:xf.RESULT_SCREEN_PROGRESS_BAR_INSIDE}),this.progressFill.setSizeBasedOnDpr(),this.add(this.progressFill),this.progressFill.setX(-12),this.progressFill.setY(-1)},n.createRightProgress=function(){this.rightProgress=this.scene.make.image({key:Ef,frame:xf.RESULT_SCREEN_PROGRESS_RIGHT});var e=this.rightProgress,t=e.width,n=e.height,r=t*this.progressFill.displayHeight/n;this.rightProgress.setWorldSize(r,this.progressFill.displayHeight),this.rightProgress.setVisible(!1),this.add(this.rightProgress),Phaser.Display.Align.In.LeftCenter(this.rightProgress,this.progressFill,0,0)},n.setMaskRightProgress=function(){if(this.maskGraphics){var e=this.maskGraphics.createGeometryMask();this.rightProgress.setMask(e)}else{this.maskGraphics=this.scene.make.graphics({visible:!1});var t=this.progressFill.getWorldPosition(),n=t.x,r=t.y;this.maskGraphics.fillRoundedRect(n-this.progressFill.displayWidth/2+1,r-this.progressFill.displayHeight/2,this.progressFill.displayWidth-1,this.progressFill.displayHeight,9);var a=this.maskGraphics.createGeometryMask();this.rightProgress.setMask(a)}},n.createGift=function(){this.gift=this.scene.make.image({key:Ef,frame:xf.RESULT_SCREEN_ICON_GIFT_ACTIVE}),this.gift.setSizeBasedOnDpr(),this.giftScale=this.gift.scale,this.add(this.gift),Phaser.Display.Align.In.RightCenter(this.gift,this,30,-9),this.giftX=this.gift.x,this.giftY=this.gift.y},n.createGiftVFX=function(){this.giftVFX=new kf(this.scene,this.gift),this.add(this.giftVFX)},n.createRewardCoin=function(){this.rewardCoins=new mf(this.scene),this.add(this.rewardCoins),this.rewardCoins.kill()},n.setPercent=function(e){e>=1&&(e=1),this.percent=e;var t=this.progressFill.scaleX,n=this.progressFill.scaleY,r=this.rightProgress.displayWidth;if(1==e&&(r=0),this.progressFill.setCrop(0,0,e*(this.progressFill.displayWidth-r)/t,this.progressFill.displayHeight/n),0!=e&&1!=e){var a=e*(this.progressFill.displayWidth-r),i=this.progressFill.displayWidth;this.rightProgress.setVisible(!0),this.rightProgress.x=this.progressFill.x-i/2+this.rightProgress.displayWidth/2+a}else this.rightProgress.setVisible(!1)},n.resetStateProgress=function(){var e;this.gift.setPosition(this.giftX,this.giftY),this.gift.setAlpha(1).setScale(this.giftScale),this.progressBackground.setAlpha(1),this.progressFill.setAlpha(1),this.development.setAlpha(1),null==(e=this.rewardCoins)||e.kill(),this.rightProgress.clearMask()},n.playAnimation=function(){var e=(0,s.Z)(d().mark((function e(t){var n=this;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.rightProgress.clearMask(),this.setMaskRightProgress(),e.abrupt("return",new(u())((function(e){var r=n.scene.tweens.addCounter({from:n.percent,to:t,duration:300,ease:Phaser.Math.Easing.Sine.In,onUpdate:function(e){var t=e.getValue();n.setPercent(t)},onComplete:function(){n.setPercent(t),e(),null==r||r.remove()}})})));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),n.setTextDevelopment=function(e){this.development.setText(e)},n.getTopY=function(){return this.development.y-this.development.displayHeight/2},n.showGiftVFX=function(){this.giftVFX.show()},n.stopGiftVFX=function(){this.giftVFX.stop()},n.playAnimationFadeOutProgress=function(){var e=(0,s.Z)(d().mark((function e(){var t;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.scene.add.tween({targets:[this.progressBackground,this.progressFill,this.development],alpha:0,duration:450,ease:Phaser.Math.Easing.Cubic.Out}),e.abrupt("return",t.waitForCompletion());case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.playAnimationMoveCenterGift=function(){var e=(0,s.Z)(d().mark((function e(){var t;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.scene.add.tween({targets:this.gift,x:0,y:-20,duration:450,scale:1.1*this.giftScale,ease:Phaser.Math.Easing.Quadratic.In}),e.abrupt("return",t.waitForCompletion());case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.playAnimationScaleUpGift=function(){var e=(0,s.Z)(d().mark((function e(){var t;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.scene.add.tween({targets:this.gift,scale:1.5*this.giftScale,y:-40,duration:600,ease:Phaser.Math.Easing.Sine.Out}),e.abrupt("return",t.waitForCompletion());case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.playAnimationFadeInRewardCoin=function(){var e=(0,s.Z)(d().mark((function e(){var t;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.scene.add.tween({targets:this.rewardCoins,alpha:{from:.5,to:1,duration:300},y:{from:-30,to:-70,delay:200},scale:{from:.5,to:1,delay:200},duration:600,ease:Phaser.Math.Easing.Sine.InOut}),e.abrupt("return",t.waitForCompletion());case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.playAnimationFadeOutGift=function(){var e=(0,s.Z)(d().mark((function e(){var t;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.scene.add.tween({targets:this.gift,alpha:0,duration:250,ease:Phaser.Math.Easing.Sine.In}),e.abrupt("return",t.waitForCompletion());case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.playAnimationScaleUpRewardCoin=function(){var e=(0,s.Z)(d().mark((function e(){var t;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.scene.add.tween({targets:this.rewardCoins,y:{from:-70,to:-30},scale:{from:1,to:1.2,duration:150,ease:Phaser.Math.Easing.Cubic.Out},duration:500,ease:Phaser.Math.Easing.Expo.In}),e.abrupt("return",t.waitForCompletion());case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.runAnimationOpenGift=function(){var e=(0,s.Z)(d().mark((function e(){var t,n,r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.rewardCoins.revive(),this.rewardCoins.setAlpha(0),this.rewardCoins.setY(-30),this.rewardCoins.setScale(.5),e.next=6,u().all([this.playAnimationFadeOutProgress(),this.playAnimationMoveCenterGift()]);case 6:return e.next=8,this.playAnimationScaleUpGift();case 8:return t=this.gift.getWorldPosition(),n=t.x,r=t.y,this.scene.screenParticleHandler.effectCollectCoin.handleShowStarFirework(n,r),this.scene.audio.playSound(nn.Z.OPEN_CHEST),e.next=13,u().all([this.playAnimationFadeInRewardCoin(),this.playAnimationFadeOutGift()]);case 13:return e.next=15,(0,ai.Z)(this.scene,200);case 15:return e.abrupt("return",this.playAnimationScaleUpRewardCoin());case 16:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.getRewardCoinsPosition=function(){return this.rewardCoins.getWorldPosition()},t}(Phaser.GameObjects.Container),wf=Na.Z.DEFAULT,Af=wf.KEY,Cf=wf.FRAME,Tf=function(e){function t(t){var n;return(n=e.call(this,t,Af,Cf.RESULT_SCREEN_BTN_BLUE,229,68)||this).textLevel=void 0,n.textNumberLevel=void 0,n.animation=void 0,n.pointerDownCallback=function(){var e;null==(e=n.animation)||e.stop()},n.scene=t,n.setName(so.RESULT_LEVEL),n.createTextLevel(),n.createTextNumberLevel(),n.createAnimation(),n.alignUI(),n}(0,o.Z)(t,e);var n=t.prototype;return n.createTextLevel=function(){this.textLevel=this.scene.make.image({key:Af,frame:Cf.TEXT_LEVEL}),this.textLevel.setSizeBasedOnDpr(),this.add(this.textLevel)},n.createTextNumberLevel=function(){this.textNumberLevel=this.scene.make.bitmapText({font:Ee.Z.NUMBERS.KEY,size:this.scene.fontSize(85),origin:{x:.5,y:.5},text:"12"}),this.add(this.textNumberLevel)},n.alignUI=function(){var e=this.textLevel.width,t=this.textNumberLevel.width,n=e+t;this.textLevel.setPosition(-n/2+e/2-3,0),this.textNumberLevel.setPosition(n/2-t/2+3,1)},n.updateTextLevel=function(e){this.textNumberLevel.setText(""+e),this.alignUI()},n.createAnimation=function(){var e=this;this.animation=new Wh({targets:[this],props:{scale:{from:1,to:1.05}}}),this.callbackPointerUpOut=function(){var t,n;null!=(t=e.animation.tween)&&t.isPlaying()||null==(n=e.animation)||n.play()}},n.runAnimation=function(){var e;null==(e=this.animation)||e.play(),this.hitZone.on(Phaser.Input.Events.GAMEOBJECT_POINTER_DOWN,this.pointerDownCallback)},n.stopAnimation=function(){var e;null==(e=this.animation)||e.stop(),this.hitZone.off(Phaser.Input.Events.GAMEOBJECT_POINTER_DOWN,this.pointerDownCallback)},t}(io.Z),Lf=Tf,If=Na.Z.DEFAULT,Pf=If.KEY,_f=If.FRAME,Bf=function(e){function t(t){var n;return(n=e.call(this,t,Pf,_f.RESULT_SCREEN_BTN_BLUE,229,68)||this).scene=t,n.setName(so.RESULT_COLLECT),n.createText(),n}return(0,o.Z)(t,e),t.prototype.createText=function(){var e=this.scene.lang.Text.COLLECT,t=this.scene.make.text({style:{fontFamily:Ee.Z.FONT_FAMILY,fontSize:"35px"},text:e});t.setHighQuality(),t.setOrigin(.5,.5);var n=t.context.createLinearGradient(0,0,0,t.height);n.addColorStop(0,"#ffffff"),n.addColorStop(1,"#cce5f9"),t.setFill(n),t.setShadow(0,6,"#0000003F",0,!1,!0),this.add(t)},t}(io.Z),Of=Bf,Rf=GameCore.Configs.Level.wisdomPerLevel,Mf=function(e){function t(t,n,r,a){var i;return(i=e.call(this,t,n,r,a)||this).scene=void 0,i.ribbonTurquoise=void 0,i.wisdomBlock=void 0,i.progressBar=void 0,i.levelButton=void 0,i.collectButton=void 0,i.rewardCoin=100,i.hasPreviouslyFinishAllLevel=void 0,i.level=void 0,i.open=function(){var t=(0,s.Z)(d().mark((function t(n){var r,a,s,o,c;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.prototype.open.call((0,Ca.Z)(i),n),i.scene.audio.playMusic("win_music",{volume:.1}),r=i.getData(["hasPreviouslyFinishAllLevel","level"]),a=r[0],s=void 0!==a&&a,o=r[1],c=void 0===o?0:o,i.hasPreviouslyFinishAllLevel=s,i.level=c,i.prepareFadeIn(),t.next=8,i.fadeIn();case 8:i.emitOpenCompleted();case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),i.handleClickLevelButton=(0,s.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i.scene.setGlobalSceneInputEnabled(!1),e.next=3,i.loadLevelWithRetryAsync();case 3:if(e.sent){e.next=8;break}return i.levelButton.runAnimation(),i.scene.setGlobalSceneInputEnabled(!0),e.abrupt("return");case 8:return i.progressBar.stopGiftVFX(),i.scene.levelUp(),i.scene.prepareFadeIn(),Vs(i.scene.level.getLevel()),i.scene.stepLogHandler.reset(i.scene.level.getLevel()),e.next=15,u().all([i.handleClosePopup(),i.scene.navigation.fadeOut()]);case 15:return e.next=17,u().all([i.scene.fadeIn(),i.scene.navigation.fadeIn("Gameplay")]);case 17:i.scene.header.setupCurGameMode(),i.scene.setGlobalSceneInputEnabled(!0);case 19:case"end":return e.stop()}}),e)}))),i.handleClickCollectButton=(0,s.Z)(d().mark((function e(){var t,n,r,a,s;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i.scene.setGlobalSceneInputEnabled(!1),e.next=3,i.loadLevelWithRetryAsync();case 3:if(e.sent){e.next=8;break}return i.levelButton.runAnimation(),i.scene.setGlobalSceneInputEnabled(!0),e.abrupt("return");case 8:if(t=i.scene.player.getCustomData("coins"),n=t+i.rewardCoin,i.scene.player.setCustomData("coins",n),r=i.progressBar.getRewardCoinsPosition(),a=r.x,s=r.y,i.scene.navigation.runCoinAnimToCurData(a,s),i.progressBar.stopGiftVFX(),!(i.level>i.scene.level.getMaxLevel())){e.next=22;break}return i.progressBar.setScale(0),i.collectButton.setScale(0),i.progressBar.showGiftVFX(),e.next=20,i.animationShowLevelButton();case 20:return i.scene.setGlobalSceneInputEnabled(!0),e.abrupt("return");case 22:return i.scene.navigation.fadeOut(),e.next=25,i.fadeOut();case 25:return e.next=27,Ih.Z.fadeOutHTMLBg(i.scene);case 27:return i.scene.screen.close(i.name),Ih.Z.fadeInHTMLBg(i.scene,3200),e.next=31,i.scene.screen.openAsync(tn.o4.SWITCH_MAP_SCREEN);case 31:return e.next=33,(0,ai.Z)(i.scene,1750);case 33:return e.next=35,i.scene.screen.closeAsync(tn.o4.SWITCH_MAP_SCREEN);case 35:return i.scene.levelUp(),i.scene.prepareFadeIn(),Vs(i.scene.level.getLevel()),i.scene.stepLogHandler.reset(i.scene.level.getLevel()),e.next=41,u().all([i.scene.fadeIn(),i.scene.navigation.fadeIn("Gameplay")]);case 41:i.scene.setGlobalSceneInputEnabled(!0);case 42:case"end":return e.stop()}}),e)}))),i.handleClosePopup=(0,s.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.fadeOut();case 2:i.scene.screen.close(i.name);case 3:case"end":return e.stop()}}),e)}))),i.scene=t,i.setDepth(tn.Ks.POPUP),i.background.setAlpha(0),i.createButtons(),i.createRibbonTurquoise(),i.createWisdomBlock(),i.createProgressBar(),i.alignUI(),i.listenInput(),i}(0,o.Z)(t,e);var n=t.prototype;return n.createButtons=function(){this.createLevelButton(),this.createCollectButton()},n.createRibbonTurquoise=function(){this.ribbonTurquoise=new Qp(this.scene),this.add(this.ribbonTurquoise)},n.createWisdomBlock=function(){this.wisdomBlock=new cf(this.scene),this.add(this.wisdomBlock)},n.createProgressBar=function(){this.progressBar=new Sf(this.scene),this.add(this.progressBar)},n.createLevelButton=function(){this.levelButton=new Lf(this.scene),this.add(this.levelButton)},n.createCollectButton=function(){this.collectButton=new Of(this.scene),this.add(this.collectButton)},n.alignUI=function(){var e=this.scene.ads.getBannerHeight(),t=0;this.scene.gameZone.height<667&&(t=20),Phaser.Display.Align.In.TopCenter(this.ribbonTurquoise,this,0,-105),Phaser.Display.Align.In.BottomCenter(this.wisdomBlock,this,0,-380-e),Phaser.Display.Align.In.BottomCenter(this.progressBar,this,0,-153-e+t),Phaser.Display.Align.In.BottomCenter(this.levelButton,this,0,-73-e+t),Phaser.Display.Align.In.BottomCenter(this.collectButton,this,0,-73-e+t);var n=this.ribbonTurquoise.y+this.ribbonTurquoise.displayHeight/2,r=this.progressBar.getTopY();this.wisdomBlock.setY((n+r)/2)},n.listenInput=function(){this.levelButton.onClick=this.handleClickLevelButton,this.collectButton.onClick=this.handleClickCollectButton},n.loadLevelWithRetryAsync=function(){var e=(0,s.Z)(d().mark((function e(t,n){var r,a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===t&&(t=1e3),void 0===n&&(n=500),!this.scene.level.hasLevelData()){e.next=4;break}return e.abrupt("return",!0);case 4:r=this.scene.game.globalScene,a=1,t>0&&(a+=t),r.screen.open(tn.o4.NOTIFY_SCREEN,{message:"\nRetrieving puzzle data.\nThis may take a bit longer\non slower networks.",duration:0,loading:!0});case 8:if(!(a>0)){e.next=26;break}return e.prev=9,e.next=12,this.scene.level.preloadLevelDataAsync();case 12:if(this.scene.level.hasLevelData()){e.next=14;break}throw new Error("Failed");case 14:return r.screen.close(tn.o4.NOTIFY_SCREEN),e.abrupt("return",!0);case 18:e.prev=18,e.t0=e.catch(9),a--;case 21:if(!(a>0)){e.next=24;break}return e.next=24,new(u())((function(e){return setTimeout(e,n)}));case 24:e.next=8;break;case 26:return r.screen.open(tn.o4.NOTIFY_SCREEN,{message:"\nOops!\nSomething went wrong.\nLet's try again soon!",duration:3e3}),e.abrupt("return",!1);case 28:case"end":return e.stop()}}),e,this,[[9,18]])})));return function(t,n){return e.apply(this,arguments)}}(),n.fadeIn=function(){var e=(0,s.Z)(d().mark((function e(){var t,n,r,a,i,s,o;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.getMapInfo(),n=t.subTitle,r=t.startProgress,a=t.endProgress,i=this.scene.player.getBestScore(),s=Rf,this.hasPreviouslyFinishAllLevel&&(s=0),this.wisdomBlock.prepareForAnimation(),this.wisdomBlock.setTextWisdom(i-s),this.ribbonTurquoise.updateLevel(this.level-1),this.levelButton.updateTextLevel(this.level-1),this.hasPreviouslyFinishAllLevel?this.progressBar.kill():this.progressBar.revive(),o=this.scene.lang.Text[n],this.progressBar.resetStateProgress(),this.progressBar.setPercent((r-1)/a),this.progressBar.setTextDevelopment(o+" "+(r-1)+"/"+a),this.scene.audio.playSound(nn.Z.STAR_2,{volume:.6}),e.next=16,this.playTweenShowWisdomBlock();case 16:if(this.hasPreviouslyFinishAllLevel){e.next=22;break}return this.scene.audio.playSound(nn.Z.STAR_3,{volume:.6}),e.next=20,this.playTweenShowProgressBar();case 20:return e.next=22,(0,ai.Z)(this.scene,650);case 22:return e.next=24,this.playTweenIncreaseWisdom(i-s,i);case 24:return e.next=26,(0,ai.Z)(this.scene,300);case 26:if(!this.progressBar.active){e.next=31;break}return this.progressBar.setTextDevelopment(o+" "+r+"/"+a),this.scene.audio.playSound(nn.Z.BOOST,{volume:.6}),e.next=31,this.progressBar.playAnimation(r/a);case 31:if(r==a&&!this.hasPreviouslyFinishAllLevel){e.next=38;break}return this.progressBar.showGiftVFX(),e.next=35,this.animationShowLevelButton();case 35:this.levelButton.runAnimation(),e.next=43;break;case 38:return e.next=40,this.progressBar.runAnimationOpenGift();case 40:return this.scene.audio.playSound(nn.Z.CHEST_DROP),e.next=43,this.animationShowCollectButton();case 43:return e.next=45,(0,ai.Z)(this.scene,225);case 45:return e.abrupt("return",u().all([this.runPopupFadeIn(),this.scene.navigation.fadeIn("Dashboard")]));case 46:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.prepareFadeIn=function(){this.wisdomBlock.revive(),this.levelButton.revive(),this.levelButton.stopAnimation(),this.ribbonTurquoise.setScale(1),this.wisdomBlock.setScale(0),this.progressBar.setScale(0),this.levelButton.setScale(0),this.collectButton.setScale(0),this.progressBar.setRewardCoins(this.rewardCoin)},n.getMapInfo=function(){for(var e=this.level-1,t=De()(this.scene).getBlockIdByLevel(e),n=De()(this.scene).getScrollerBlockPayload(t).backgroundCardPayloads,r="",a=0,i=0,s=0;s<n.length;s++){var o=n[s],c=o.startLevel,u=o.endLevel,l=o.title;if(e>=c&&e<=u){r=l,a=e-c+1,i=u-c+1;break}}return{subTitle:r,startProgress:a,endProgress:i}},n.animationShowLevelButton=function(){var e=(0,s.Z)(d().mark((function e(){var t,n,r,a,i,s,o=this;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.levelButton.getWorldPosition(),n=t.x,r=t.y,a=this.levelButton.button,i=a.displayWidth,s=a.displayHeight,this.scene.time.delayedCall(100,(function(){o.scene.screenParticleHandler.resultEffect.handleShowMoveToCenterEffect(n,r,o.scene.gameZone.width,2*s)})),e.next=5,this.playTweenShowLevelButton();case 5:return e.next=7,(0,ai.Z)(this.scene,400);case 7:return this.scene.screenParticleHandler.resultEffect.stopMoveToCenterEffect(),this.scene.screenParticleHandler.resultEffect.handleShowMoveOutCenterEffect(n,r,i,s),this.levelButton.updateTextLevel(this.level>this.scene.level.getMaxLevel()?this.scene.level.getMaxLevel():this.level),this.scene.audio.playSound(nn.Z.LEVEL_BTN_APPEAR,{volume:.6}),e.next=13,this.playTweenShowLevelButton2();case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.animationShowCollectButton=function(){var e=(0,s.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Da(this.scene,{targets:[this.collectButton],duration:125,props:{scale:{getStart:function(){return 0},getEnd:function(){return 1.2}}},ease:Phaser.Math.Easing.Cubic.Out});case 2:return e.abrupt("return",Da(this.scene,{targets:[this.collectButton],duration:125,props:{scale:{getEnd:function(){return 1}}},ease:Phaser.Math.Easing.Cubic.Out}));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.playTweenShowWisdomBlock=function(){var e=(0,s.Z)(d().mark((function e(){var t=this;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new(u())((function(e){var n=t.scene.add.tween({targets:t.wisdomBlock,duration:350,scale:{from:0,to:.8},ease:Phaser.Math.Easing.Back.Out,onComplete:function(){n.remove(),e()}})})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),n.playTweenShowProgressBar=function(){var e=(0,s.Z)(d().mark((function e(){var t=this;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new(u())((function(e){var n=t.scene.add.tween({targets:t.progressBar,duration:350,scale:{from:0,to:1},ease:Phaser.Math.Easing.Back.Out,onComplete:function(){n.remove(),e()}})})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),n.playTweenIncreaseWisdom=function(){var e=(0,s.Z)(d().mark((function e(t,n){var r=this;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new(u())((function(e){r.wisdomBlock.playAnimationRotateGlow();var a=r.scene.add.tween({targets:r.wisdomBlock,duration:275,scale:{from:.8,to:1.2},ease:Phaser.Math.Easing.Cubic.Out,onComplete:function(){a.remove(),i.play()}}),i=r.scene.add.tween({targets:r.wisdomBlock,duration:275,scale:{from:1.2,to:1},paused:!0,ease:Phaser.Math.Easing.Cubic.Out,onComplete:function(){i.remove()}}),s=!1,o=1,c=0,u=r.scene.tweens.addCounter({from:t,to:n,duration:550,ease:Phaser.Math.Easing.Sine.In,onUpdate:function(e){var t=Math.floor(e.getValue());if(r.wisdomBlock.setTextWisdom(t),!s){if(o+=e.progress-c,c=e.progress,e.progress>.8)return s=!0,void r.scene.audio.playSound(nn.Z.SCORE_INCREASE_END,{volume:.3});o>.2&&(o=0,r.scene.audio.playSound(nn.Z.SCORE_INCREASE_SINGLE,{volume:.5}))}},onComplete:function(){u.remove(),e()}})})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),n.playTweenShowLevelButton=function(){var e=(0,s.Z)(d().mark((function e(){var t=this;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new(u())((function(e){var n=t.scene.add.tween({targets:t.levelButton,duration:250,scale:{from:0,to:1},ease:Phaser.Math.Easing.Back.Out,onComplete:function(){n.remove(),e()}})})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),n.playTweenShowLevelButton2=function(){var e=(0,s.Z)(d().mark((function e(){var t=this;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new(u())((function(e){var n=t.scene.add.tween({targets:t.levelButton,duration:144,scale:{from:1,to:1.2},yoyo:!0,ease:Phaser.Math.Easing.Sine.InOut,onComplete:function(){n.remove(),e()}})})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),n.runPopupFadeIn=function(){var e=(0,s.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),n.fadeOut=function(){var e=(0,s.Z)(d().mark((function e(){var t,n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.wisdomBlock.stopAnimationRotateGlow(),this.levelButton.stopAnimation(),t=[this.ribbonTurquoise,this.wisdomBlock,this.progressBar,this.levelButton,this.collectButton],n=this.scene.add.tween({targets:t,duration:200,ease:Phaser.Math.Easing.Cubic.In,scale:0}),e.next=6,n.waitForCompletion();case 6:this.wisdomBlock.kill(),this.levelButton.kill();case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t}(GameCore.Screen),Nf=Mf,Df=Na.Z.GAMEPLAY,Ff=Df.KEY,Gf=Df.FRAME,Zf=function(e){function t(t){var n;return(n=e.call(this,t,Ff,Gf.BUTTON_BLUE_CIRCLE_SMALL,43,43)||this).scene=t,n}return(0,o.Z)(t,e),t.prototype.setIcon=function(e,t,n,r,a){var i=this.scene.make.image({key:e,frame:t});a?i.setWorldSize(a.width,a.height):i.setSizeBasedOnDpr(),this.add(i),i.setPosition(n,r)},t}(io.Z),Uf=Zf,Kf=Na.Z.GAMEPLAY,Hf=Kf.KEY,Wf=Kf.FRAME,Vf=function(){function e(e){var t=this;this.navigation=void 0,this.settingButton=void 0,this.themeButton=void 0,this.originalX=void 0,this.handleSettingButtonClick=(0,s.Z)(d().mark((function e(){var n,r,a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t.navigation.scene).setGlobalSceneInputEnabled(!1),r=[t.navigation.fadeOutHybrid(),t.navigation.fadeOut()],(a=t.getDashboardScreen()).isOpening&&r.push(a.softFadeOut()),e.next=7,u().all(r);case 7:return e.next=9,u().all([n.screen.openAsync(tn.o4.SETTINGS_SCREEN),t.navigation.fadeIn("SettingsScreen",!1)]);case 9:n.setGlobalSceneInputEnabled(!0);case 10:case"end":return e.stop()}}),e)}))),this.handleThemeButtonClick=(0,s.Z)(d().mark((function e(){var n,r,a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t.navigation.scene).setGlobalSceneInputEnabled(!1),r=[t.navigation.fadeOutHybrid(),t.navigation.fadeOut()],(a=t.getDashboardScreen()).isOpening&&r.push(a.softFadeOut()),e.next=7,u().all(r);case 7:return n.screen.open(tn.o4.MAP_SCREEN),e.next=10,t.navigation.fadeIn("Map",!1);case 10:n.setGlobalSceneInputEnabled(!0);case 11:case"end":return e.stop()}}),e)}))),this.navigation=e,this.createSettingButton(),this.createThemeButton(),this.alignUI()}var t=e.prototype;return t.killAll=function(){this.settingButton.kill(),this.themeButton.kill()},t.fadeOut=function(){var e=(0,s.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u().all([Wa("left",this.navigation,[this.settingButton],250),ja([this.themeButton],250)]);case 2:return e.abrupt("return",u().resolve());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.fadeIn=function(){var e=(0,s.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.settingButton.revive(),this.themeButton.revive(),e.next=4,u().all([Ka("left",this.navigation,[this.settingButton],[this.originalX,this.originalX],250),Ya([this.themeButton],250)]);case 4:return e.abrupt("return",u().resolve());case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.createSettingButton=function(){var e=new Uf(this.navigation.scene);e.setIcon(Hf,Wf.DASHBOARD_ICON_SETTING,0,-1),e.setName(so.DB_SETTING),e.onClick=this.handleSettingButtonClick,this.navigation.add(e),this.settingButton=e},t.createThemeButton=function(){var e=new Uf(this.navigation.scene);e.setIcon(Hf,Wf.ICON_THEME,0,-1),e.setName(so.DB_THEME),e.onClick=this.handleThemeButtonClick,this.navigation.add(e),this.themeButton=e},t.alignUI=function(){Phaser.Display.Align.In.TopLeft(this.settingButton,this.navigation,-6,-6);var e=this.settingButton,t=e.x,n=e.y,r=e.displayWidth;this.themeButton.x=t+r+0,this.themeButton.y=n,this.originalX=t},t.getDashboardScreen=function(){return this.navigation.scene.screen.get(tn.o4.DASHBOARD_SCREEN)},e}(),Yf=Vf,zf=Na.Z.GAMEPLAY,jf=zf.KEY,Xf=zf.FRAME,qf=function(){function e(e){var t=this;this.navigation=void 0,this.backButton=void 0,this.settingButton=void 0,this.originalX=void 0,this.canShowSettingsButton=!0,this.handleClickBackButton=(0,s.Z)(d().mark((function e(){var n,r,a,i;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.navigation.scene.scene.get(fa.C.LOAD_SCENE),e.next=3,n.waitUntilDashboardResourcesLoaded(!0);case 3:if((r=t.navigation.scene.screen.get(tn.o4.DASHBOARD_SCREEN))instanceof dp){e.next=7;break}return console.error("Dashboard screen is not found"),e.abrupt("return");case 7:return Xs(),Ys(t.navigation.scene.level.getLevel()),Ws(t.navigation.scene.level.getLevel()),t.navigation.scene.setGlobalSceneInputEnabled(!1),e.next=13,t.navigation.scene.quickSetSingleMode();case 13:return a=e.sent,i=t.navigation.scene.player.getCustomData("level"),r.prepareFadeInFromGameplay(),t.navigation.setHybridElementsVisible(i>3),e.next=19,u().all([t.navigation.fadeOut(),t.navigation.scene.fadeOut(),t.navigation.scene.tutorialHandler.fadeOut()]);case 19:return t.navigation.scene.screen.open(tn.o4.DASHBOARD_SCREEN),e.next=22,t.navigation.fadeIn("Dashboard");case 22:a(),t.navigation.scene.setGlobalSceneInputEnabled(!0);case 24:case"end":return e.stop()}}),e)}))),this.handleSettingButtonClick=(0,s.Z)(d().mark((function e(){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t.navigation.scene).setGlobalSceneInputEnabled(!1),n.handlePausePWF(),e.next=5,u().all([t.navigation.fadeOutHybrid(),t.navigation.fadeOut()]);case 5:return e.next=7,u().all([n.screen.openAsync(tn.o4.SETTINGS_SCREEN),t.navigation.fadeIn("SettingsScreen",!1)]);case 7:n.setGlobalSceneInputEnabled(!0);case 8:case"end":return e.stop()}}),e)}))),this.navigation=e,this.createBackButton(),this.createSettingsButton(),this.alignUI(),this.setCanShowSettings(!0)}var t=e.prototype;return t.killAll=function(){this.backButton.kill(),this.settingButton.kill()},t.fadeOut=function(){var e=(0,s.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u().all([Wa("left",this.navigation,[this.backButton],250),ja([this.settingButton],250)]);case 2:return e.abrupt("return",u().resolve());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.fadeIn=function(){var e=(0,s.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.backButton.revive(),this.canShowSettingsButton?this.settingButton.revive():this.settingButton.kill(),e.next=4,u().all([Ka("left",this.navigation,[this.backButton],[this.originalX],200),Ya([this.settingButton],250)]);case 4:return e.abrupt("return",u().resolve());case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.setCanShowSettings=function(e){this.canShowSettingsButton!==e&&(this.canShowSettingsButton=e,e?this.settingButton.revive():this.settingButton.kill())},t.getSettingButtonRightEdgeWorldX=function(){var e=this.settingButton;return e.getWorldPosition().x+e.displayWidth/2},t.createBackButton=function(){var e=new Uf(this.navigation.scene);e.setIcon(jf,Xf.ICON_BACK,0,-1),e.setName(so.GP_BACK),e.onClick=this.handleClickBackButton,this.navigation.add(e),this.backButton=e},t.createSettingsButton=function(){var e=new Uf(this.navigation.scene);e.setIcon(jf,Xf.ICON_SETTING,0,-1),e.setName(so.GP_SETTINGS),e.onClick=this.handleSettingButtonClick,this.navigation.add(e),this.settingButton=e},t.alignUI=function(){Phaser.Display.Align.In.TopLeft(this.backButton,this.navigation,-6,-6);var e=this.backButton,t=e.x,n=e.y,r=e.displayWidth;this.settingButton.x=t+r+0,this.settingButton.y=n,this.originalX=t},e}(),Qf=qf,Jf=Na.Z.GAMEPLAY,$f=Jf.KEY,em=Jf.FRAME,tm=function(e){function t(t){var n;return(n=e.call(this,t)||this).background=void 0,n.panelRightEdge=void 0,n.panelMiddlePart=void 0,n.panelLeftEdge=void 0,n.coinIcon=void 0,n.coinText=void 0,n.coinWithPlusContainer=void 0,n.plusIcon=void 0,n.plusIconOriginalScale=void 0,n.scaleCoinIcon=void 0,n.bubbleCoinAnimation=void 0,n.plusIconAnimationIsPlaying=void 0,n.setName(Mh.COIN_BLOCK),n.createBackground(),n.createPanelRightEdge(),n.createPanelMiddlePart(),n.createPanelLeftEdge(),n.createTextCoin(),n.createCoinWithPlusContainer(),n.calculateSize(),n.alignCoinWithPlusContainer(),n}(0,o.Z)(t,e);var n=t.prototype;return n.createBackground=function(){this.background=this.scene.make.image({key:$f,frame:em.BLANK}),this.background.setWorldSize(99,30),this.background.kill(),this.add(this.background)},n.createPanelRightEdge=function(){var e=this.scene.make.image({key:$f,frame:em.COIN_PANEL_LEFT});e.setSizeBasedOnDpr(),e.setFlipX(!0),this.add(e),this.panelRightEdge=e},n.createPanelMiddlePart=function(){var e=this.scene.make.image({key:$f,frame:em.COIN_PANEL_MIDDLE});e.setSizeBasedOnDpr(),this.add(e),this.panelMiddlePart=e},n.createPanelLeftEdge=function(){var e=this.scene.make.image({key:$f,frame:em.COIN_PANEL_LEFT});e.setSizeBasedOnDpr(),this.add(e),this.panelLeftEdge=e},n.createTextCoin=function(){this.coinText=this.scene.make.bitmapText({font:Ee.Z.NUMBERS.KEY,size:this.scene.fontSize(50),origin:{x:0,y:.5},text:"0"}),this.add(this.coinText)},n.createCoinWithPlusContainer=function(){var e=this.scene.add.container();this.coinIcon=this.scene.make.image({key:$f,frame:em.ICON_COIN});var t=this.scene.make.image({key:$f,frame:em.ICON_PLUS});this.coinIcon.setSizeBasedOnDpr();var n=this.coinIcon,r=n.width,a=n.height;e.setSize(r,a),t.setSizeBasedOnDpr(),this.scaleCoinIcon=this.coinIcon.scale,e.add([this.coinIcon,t]),Phaser.Display.Align.In.BottomRight(t,e,0,3),this.add(e),this.coinWithPlusContainer=e,this.plusIcon=t,this.plusIconOriginalScale=t.scale},n.calculateSize=function(){this.setSize(this.background.displayWidth+this.coinWithPlusContainer.displayWidth,this.coinWithPlusContainer.displayHeight)},n.alignCoinWithPlusContainer=function(){Phaser.Display.Align.In.RightCenter(this.coinWithPlusContainer,this.background,this.coinWithPlusContainer.displayWidth/2,0)},n.alignThreeSlices=function(){Phaser.Display.Align.In.RightCenter(this.panelRightEdge,this.background),Phaser.Display.Align.To.LeftCenter(this.panelMiddlePart,this.panelRightEdge),Phaser.Display.Align.To.LeftCenter(this.panelLeftEdge,this.panelMiddlePart)},n.alignCoinText=function(){this.coinText.setX(this.panelLeftEdge.x+3)},n.getRealWidth=function(){var e=this.panelLeftEdge.x-this.panelLeftEdge.displayWidth/2,t=this.coinWithPlusContainer.x+this.coinWithPlusContainer.displayWidth/2;return Math.abs(t-e)},n.setCoinCount=function(e){this.coinText.setText(e.toString())},n.getCoinPosition=function(){return this.coinWithPlusContainer.getWorldPosition()},n.playBubbleCoinAnimation=function(){var e;null==(e=this.bubbleCoinAnimation)||e.remove(),this.bubbleCoinAnimation=this.scene.tweens.add({targets:this.coinIcon,duration:100,scaleX:{from:this.scaleCoinIcon,to:1.1*this.scaleCoinIcon},scaleY:{from:this.scaleCoinIcon,to:1.1*this.scaleCoinIcon,delay:100},yoyo:!0,repeat:-1})},n.stopBubbleCoinAnimation=function(){var e;null==(e=this.bubbleCoinAnimation)||e.remove(),this.bubbleCoinAnimation=this.scene.tweens.add({targets:this.coinIcon,duration:100,scaleX:this.scaleCoinIcon,scaleY:this.scaleCoinIcon})},n.playAnimationPlusIcon=function(e){void 0===e&&(e=0);var t=this.scene.tweens.add({targets:this.plusIcon,paused:!0,duration:400,scale:{from:this.plusIconOriginalScale,to:1.1*this.plusIconOriginalScale},yoyo:!0,ease:Phaser.Math.Easing.Quadratic.Out,loop:1,loopDelay:200,completeDelay:1e3,onComplete:function(){n.play()}}),n=this.scene.tweens.add({targets:this.plusIcon,paused:!0,duration:400,scale:{from:this.plusIconOriginalScale,to:1.1*this.plusIconOriginalScale},yoyo:!0,ease:Phaser.Math.Easing.Quadratic.Out,loop:1,loopDelay:200,completeDelay:1e3,onComplete:function(){t.play()}});this.plusIconAnimationIsPlaying||(this.plusIconAnimationIsPlaying=!0,this.scene.time.delayedCall(e,(function(){return t.play()})))},n.stopAnimationPlusIcon=function(){this.plusIconAnimationIsPlaying=!1,this.scene.tweens.killTweensOf(this.plusIcon),this.plusIcon.setScale(this.plusIconOriginalScale)},t}(Phaser.GameObjects.Container),nm=tm,rm=Na.Z.GAMEPLAY,am=rm.KEY,im=rm.FRAME,sm=function(e){function t(t){var n;return(n=e.call(this,t,am,im.BLANK,43,43)||this).block=void 0,n.currentCoinCount=0,n.plusIconTween=void 0,n.threeSlicesAnimationData=void 0,n.scoreCounterAnimationData=void 0,n.setDepth(Go.Z.TEMP_ON_TOP),n.button.kill(),n.setName(so.DB_SHOP),n.createBlock(),n.updateCoin(),n.initComponents(),n}(0,o.Z)(t,e);var n=t.prototype;return n.updateCoin=function(){this.currentCoinCount=this.scene.player.getCustomData("coins"),this.block.setCoinCount(this.currentCoinCount)},n.createBlock=function(){var e=new nm(this.scene);this.add(e),Phaser.Display.Align.In.RightCenter(e,this.button),this.block=e},n.initComponents=function(){var e=this.getNewPanelMiddlePartWidth(this.currentCoinCount);this.block.setCoinCount(this.currentCoinCount),this.setBlockMiddlePartWidth(e),this.alignComponents()},n.getNewPanelMiddlePartWidth=function(e){return 9*e.toString().length},n.enablePlusIconAsync=function(){var e=(0,s.Z)(d().mark((function e(t){var n,r=this;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null==(n=this.plusIconTween)||n.remove(),t||this.block.stopAnimationPlusIcon(),e.abrupt("return",new(u())((function(e){r.plusIconTween=r.scene.add.tween({targets:r.block.plusIcon,duration:200,ease:Phaser.Math.Easing.Back.Out,props:{scale:t?r.block.plusIconOriginalScale:0},onComplete:function(){t&&r.block.playAnimationPlusIcon(500),e()}})})));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),n.updateCoinCountWithAnimation=function(){var e=(0,s.Z)(d().mark((function e(t,n,r){var a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===r&&(r=!0),a=this.getNewPanelMiddlePartWidth(t),this.runThreeSlicesAnimation(a,n,r),e.next=5,this.runCoinCounterAnimation(t);case 5:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}(),n.runThreeSlicesAnimation=function(e,t,n){var r,a,i=this;if(void 0===n&&(n=!0),(null==(r=this.threeSlicesAnimationData)?void 0:r.width)!==e){null==(a=this.threeSlicesAnimationData)||null==(a=a.tween)||a.remove();var s=this.block.panelMiddlePart;n&&this.block.playBubbleCoinAnimation();var o=this.scene.tweens.addCounter({from:s.displayWidth,to:e,duration:500,ease:Phaser.Math.Easing.Back.Out,onUpdate:function(e){var n=e.getValue();i.setBlockMiddlePartWidth(n),i.alignComponents(),null==t||t()},onComplete:function(){n&&i.block.stopBubbleCoinAnimation(),delete i.threeSlicesAnimationData}});this.threeSlicesAnimationData={width:e,tween:o}}},n.setBlockMiddlePartWidth=function(e){this.block.panelMiddlePart.setWorldSize(e,this.block.panelMiddlePart.displayHeight)},n.alignComponents=function(){this.block.alignThreeSlices(),this.block.alignCoinText();var e=this.block.getRealWidth();this.button.setWorldSize(e,this.button.height),this.updateSize(),Phaser.Display.Align.In.RightCenter(this.block,this.button)},n.runCoinCounterAnimation=function(){var e=(0,s.Z)(d().mark((function e(t){var n,r,a=this;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((null==(n=this.scoreCounterAnimationData)?void 0:n.value)!==t){e.next=2;break}return e.abrupt("return");case 2:return null==(r=this.scoreCounterAnimationData)||r.tween.remove(),e.abrupt("return",new(u())((function(e){var n=a.scene.tweens.addCounter({from:a.currentCoinCount,to:t,duration:500,onUpdate:function(e){a.currentCoinCount=Math.floor(e.getValue()),a.block.setCoinCount(a.currentCoinCount)},onComplete:function(){e(),a.currentCoinCount=t,delete a.scoreCounterAnimationData}});a.scoreCounterAnimationData={value:t,tween:n}})));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),n.getCoinPosition=function(){return this.block.getCoinPosition()},n.playTweenScaleUp=function(){var e=(0,s.Z)(d().mark((function e(t){var n,r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=1,null!=(r=this.scene.screen.get(tn.o4.REWARD_SCREEN))&&r.visible&&(n=.5),this.setAlpha(n),e.abrupt("return",Da(this.scene,{targets:[this],props:{scale:{from:1,to:1.05},alpha:1},duration:300,onUpdate:function(){null==t||t()},ease:Phaser.Math.Easing.Cubic.Out}));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),n.playTweenScaleDown=function(){var e=(0,s.Z)(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Da(this.scene,{targets:this,props:{scale:{from:1.05,to:1}},duration:300,onUpdate:function(){null==t||t()},ease:Phaser.Math.Easing.Cubic.In}));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t}(io.Z),om=sm;function cm(e){for(var t=e.length-1;t>0;t--){var n=e[t],r=e[t-1];if(n.v!=r.v||"stepped"!==r.curve&&"linear"!==r.curve)break;e.pop()}return e}function um(e,t,n,r,a,i){return{curve:r==n?0:(e[4*t+0]-n)/(r-n)||0,c2:i==a?0:(e[4*t+1]-a)/(i-a)||0,c3:r==n?0:(e[4*t+2]-n)/(r-n)||1,c4:i==a?0:(e[4*t+3]-a)/(i-a)||1}}var lm=function(e){var t=e.target;return(0,i.Z)({},function(e,t){void 0===t&&(t=[]);function n(e){e=e.replace(/^#/,"");var t=parseInt(e,16);return{r:t>>24&255,g:t>>16&255,b:t>>8&255,a:255&t}}for(var r=e.tint||16777215,a=Phaser.Display.Color.ColorToRGBA(r),s=a.r,o=a.g,c=a.b,u=(a.a,e.alpha),l=[],d=[],h=[],p=[],f=0;f<t.length;f++){var m=t[f],g=u,v=s,y=o,k=c;if(m.color){var b=n(m.color);g=b.a/255,v=b.r,y=b.g,k=b.b}var E={curve:"linear",c2:0,c3:1,c4:1},x={curve:"linear",c2:0,c3:1,c4:1},S={curve:"linear",c2:0,c3:1,c4:1},w={curve:"linear",c2:0,c3:1,c4:1};if(m.curve instanceof Array){f===t.length-1&&console.warn("WTF here? Why the last keyframe's curve is an array?");var A=t[f+1],C=u,T=s,L=o,I=c;if(A.color){var P=n(A.color);C=P.a/255,T=P.r,L=P.g,I=P.b}var _=m.time||0,B=A.time||1,O=v,R=T,M=y,N=L,D=k,F=I,G=g,Z=C;E=um(m.curve,0,_,B,O,R),x=um(m.curve,1,_,B,M,N),S=um(m.curve,2,_,B,D,F),w=um(m.curve,3,_,B,G,Z)}else x=E=(0,i.Z)({},E,m,{curve:void 0===m.curve?E.curve:m.curve}),S=E,w=E;p.push((0,i.Z)({time:0,v:g},m,w)),l.push((0,i.Z)({time:0,v:v},m,E)),d.push((0,i.Z)({time:0,v:y},m,x)),h.push((0,i.Z)({time:0,v:k},m,S))}cm(p);var U=e.setTint;return U&&"function"===typeof U?{tintR:l,tintG:d,tintB:h,alpha:p}:{tintR:[],tintB:[],tintG:[],alpha:p}}(t,e.color||e.rgba),function(e,t){void 0===t&&(t=[]);for(var n=e.scaleX,r=e.scaleY,a=[],s=[],o=0;o<t.length;o++){var c=t[o],u={curve:"linear",c2:0,c3:1,c4:1},l={curve:"linear",c2:0,c3:1,c4:1};if(c.curve instanceof Array){o===t.length-1&&console.warn("WTF here? Why the last keyframe's curve is an array?");var d=t[o+1],h=c.time||0,p=d.time||1,f=c.x||0,m=d.x||0,g=c.y||0,v=d.y||0;u=um(c.curve,0,h,p,f,m),l=um(c.curve,1,h,p,g,v)}else l=u=(0,i.Z)({},u,c,{curve:void 0===c.curve?u.curve:c.curve});a.push((0,i.Z)({time:0,v:void 0==c.x?n:c.x*n},c,u)),s.push((0,i.Z)({time:0,v:void 0==c.y?r:c.y*r},c,l))}return cm(a),cm(s),{scaleX:a,scaleY:s}}(t,e.scale),function(e,t,n){void 0===t&&(t=[]);for(var r=e.x,a=e.y,s=[],o=[],c=(null==n?void 0:n.translate)||"default",u=Rm.WORLD_SCALE,l=0;l<t.length;l++){var d=t[l],h={curve:"linear",c2:0,c3:1,c4:1},p={curve:"linear",c2:0,c3:1,c4:1};if(d.curve instanceof Array){l===t.length-1&&console.warn("WTF here? Why the last keyframe's curve is an array?");var f=t[l+1],m=d.time||0,g=f.time||1,v=d.x||0,y=f.x||0,k=d.y||0,b=f.y||0;h=um(d.curve,0,m,g,v,y),p=um(d.curve,1,m,g,k,b)}else p=h=(0,i.Z)({},h,d,{curve:void 0===d.curve?h.curve:d.curve});switch(c){case"default":s.push((0,i.Z)({time:0,v:void 0==d.x?r:d.x*u+r},d,h)),o.push((0,i.Z)({time:0,v:void 0==d.y?a:-d.y*u+a},d,p));break;case"correctPosition":s.push((0,i.Z)({time:0,v:void 0==d.x?r:d.x},d,h)),o.push((0,i.Z)({time:0,v:void 0==d.y?a:d.y},d,p))}}return cm(s),cm(o),{x:s,y:o}}(t,e.translate,e.mode),function(e,t){void 0===t&&(t=[]);for(var n=e.angle,r=[],a=0;a<t.length;a++){var s=t[a],o={curve:"linear",c2:0,c3:1,c4:1};if(s.curve instanceof Array){a===t.length-1&&console.warn("WTF here? Why the last keyframe's curve is an array?");var c=t[a+1],u=s.time||0,l=c.time||1,d=s.angle||s.value||0,h=c.angle||c.value||0;o=um(s.curve,0,u,l,d,h)}else o=(0,i.Z)({},o,s,{curve:void 0===s.curve?o.curve:s.curve});r.push((0,i.Z)({time:0,v:void 0==s.angle?void 0==s.value?n:-s.value:-s.angle},s,o))}return cm(r),{angle:r}}(t,e.rotate),function(e,t){void 0===t&&(t=[]);e.angle;var n=[],r=e.spineConfig;if(void 0===r)return{deform:[]};for(var a=r.vertices,s=function(){var e=t[o],r=e.vertices,s=e.offset||0,c={curve:"linear",c2:0,c3:1,c4:1};if(e.curve instanceof Array){o===t.length-1&&console.warn("WTF here? Why the last keyframe's curve is an array?");var u=t[o+1],l=e.time||0,d=u.time||1,h=0,p=1;c=um(e.curve,0,l,d,h,p)}else c=(0,i.Z)({},c,e,{curve:void 0===e.curve?c.curve:e.curve});n.push((0,i.Z)({time:0,v:void 0==r?a:De()(a).call(a,(function(e,t){return t<s?e:e+(r[t-s]||0)}))},e,c))},o=0;o<t.length;o++)s();return function(e){for(var t=function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0},n=e.length-1;n>0;n--){var r=e[n],a=e[n-1];if(!t(r.v,a.v)||"stepped"!==a.curve&&"linear"!==a.curve)break;e.pop()}1===e.length&&e.pop()}(n),{deform:n}}(t,e.deform),function(e,t){void 0===t&&(t=[]);for(var n=e.shearX,r=e.shearY,a=[],s=[],o=0;o<t.length;o++){var c=t[o],u={curve:"linear",c2:0,c3:1,c4:1},l={curve:"linear",c2:0,c3:1,c4:1};if(c.curve instanceof Array){o===t.length-1&&console.warn("WTF here? Why the last keyframe's curve is an array?");var d=t[o+1],h=c.time||0,p=d.time||1,f=c.x||0,m=d.x||0,g=c.y||0,v=d.y||0;u=um(c.curve,0,h,p,f,m),l=um(c.curve,1,h,p,g,v)}else l=u=(0,i.Z)({},u,c,{curve:void 0===c.curve?u.curve:c.curve});a.push((0,i.Z)({time:0,v:void 0==c.x?n:c.x},c,u)),s.push((0,i.Z)({time:0,v:void 0==c.y?r:c.y},c,l))}return cm(a),cm(s),{shearX:a,shearY:s}}(t,e.shear),function(e,t){void 0===t&&(t=[]);for(var n=0,r=[],a=0;a<t.length;a++){var s=t[a],o={curve:"linear",c2:0,c3:1,c4:1};if(s.curve instanceof Array){a===t.length-1&&console.warn("WTF here? Why the last keyframe's curve is an array?");var c=t[a+1],u=s.time||0,l=c.time||1,d=0,h=1;o=um(s.curve,0,u,l,d,h)}else o=(0,i.Z)({},o,s,{curve:void 0===s.curve?o.curve:s.curve});r.push((0,i.Z)({time:0,v:void 0==s.position?n:s.position},s,o))}return cm(r),{position:r}}(0,e.position),function(e,t){void 0===t&&(t=[]);if(e instanceof Phaser.GameObjects.Image){for(var n=e.frame.name,r=Number(n.match(/\d+/))||1,a=[],s=0;s<t.length;s++){var o,c=t[s],u=Number(null==(o=c.name)?void 0:o.match(/\d+/))||r;a.push((0,i.Z)({time:0,v:u},c,{curve:"stepped",c2:0,c3:1,c4:1}))}return cm(a),{attachment:a}}return{attachment:[]}}(t,e.attachment))};function dm(e,t){return void 0===t&&(t=!1),function(n){var r,a,i=n/1e3;if(i<e[0].time)return e[0].v;for(var s=0;s<e.length-1;s++)if(i>=e[s].time&&i<=e[s+1].time){r=e[s],a=e[s+1];break}if(t&&console.log({keyframe1:r,keyframe2:a}),r&&a){if("stepped"===r.curve)return r.v;var o=(i-r.time)/(a.time-r.time),c="linear"===r.curve?o:co()(Phaser.Math.Clamp(r.curve,0,1),r.c2,Phaser.Math.Clamp(r.c3,0,1),r.c4)(o);return r.v+(a.v-r.v)*c}return e[e.length-1].v}}var hm={tintR:[],tintG:[],tintB:[],alpha:[],scaleX:[],scaleY:[],x:[],y:[],angle:[],deform:[],shearX:[],shearY:[],position:[],attachment:[]},pm=function(){function e(e,t){this.gameObject=void 0,this.tweenAnimationGraph=void 0,this.minTime=void 0,this.maxTime=void 0,this.gameObject=e,this.tweenAnimationGraph=t||hm}var t=e.prototype;return t.start=function(){},t.update=function(e){},t.complete=function(){},t.applyMinMaxTime=function(e){if(1===e.length)return this.minTime=0,void(this.maxTime=0);for(var t=0;t<e.length;t++){var n=e[t];(void 0===this.minTime||this.minTime>n.time)&&(this.minTime=n.time),(void 0===this.maxTime||this.maxTime<n.time)&&(this.maxTime=n.time)}},e}(),fm=pm,mm=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).curve=void 0,r.curve=dm(n.alpha),r.applyMinMaxTime(n.alpha),r}return(0,o.Z)(t,e),t.prototype.update=function(e){var t=this.curve(e);this.gameObject.alpha=t},t}(fm);function gm(e,t){return void 0===t&&(t=!1),function(n){var r,a,i=n/1e3;if(i<e[0].time)return e[0].v;for(var s=0;s<e.length-1;s++)if(i>=e[s].time&&i<=e[s+1].time){r=e[s],a=e[s+1];break}if(t&&console.log({keyframe1:r,keyframe2:a}),r&&a){if("stepped"===r.curve)return r.v;var o=(i-r.time)/(a.time-r.time),c="linear"===r.curve?o:co()(Phaser.Math.Clamp(r.curve,0,1),r.c2,Phaser.Math.Clamp(r.c3,0,1),r.c4)(o),u=a.v,l=r.v,d=u-l;return d<-180?d+=360:d>180&&(d-=360),l+d*c}return e[e.length-1].v}}var vm=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).curve=void 0,r.curve=gm(n.angle),r.applyMinMaxTime(n.angle),r}return(0,o.Z)(t,e),t.prototype.update=function(e){var t=this.curve(e);this.gameObject.angle=t},t}(fm),ym=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).curve=void 0,r.curve=dm(n.attachment),r.applyMinMaxTime(n.attachment),r}return(0,o.Z)(t,e),t.prototype.update=function(e){var t=Math.ceil(this.curve(e));if(this.gameObject instanceof Phaser.GameObjects.Image){var n=this.gameObject.frame.name.split("-")[0];this.gameObject.setFrame(n+"-"+t,!1,!1)}},t}(fm);var km=function(e){function t(t,n){var r,a,i;return(r=e.call(this,t,n)||this).curve=void 0,r.curve=(a=n.deform,void 0===i&&(i=!1),function(e){var t,n,r=e/1e3;if(r<a[0].time)return a[0].v;for(var s=0;s<a.length-1;s++)if(r>=a[s].time&&r<=a[s+1].time){t=a[s],n=a[s+1];break}if(i&&console.log({keyframe1:t,keyframe2:n}),t&&n){if("stepped"===t.curve)return t.v;for(var o=(r-t.time)/(n.time-t.time),c="linear"===t.curve?o:co()(Phaser.Math.Clamp(t.curve,0,1),t.c2,Phaser.Math.Clamp(t.c3,0,1),t.c4)(o),u=[],l=0;l<t.v.length;l++){var d=t.v[l]+(n.v[l]-t.v[l])*c;u.push(d)}return u}return a[a.length-1].v}),r.applyMinMaxTime(n.deform),r}return(0,o.Z)(t,e),t.prototype.update=function(e){var t=this.gameObject.setVertices;if(t&&"function"===typeof t){var n=this.curve(e);t.bind(this.gameObject)(n)}},t}(fm),bm=km,Em=function(e){function t(t,n){var r;return(r=e.call(this,t.gameObject)||this).lastT=void 0,r.eventKeyFrames=void 0,r.currentIndex=0,r.animation=void 0,r.eventKeyFrames=n,r.animation=t,r.applyMinMaxTimeEvent(n),r}(0,o.Z)(t,e);var n=t.prototype;return n.start=function(){this.lastT=void 0,this.currentIndex=0},n.update=function(e){void 0===this.lastT&&(this.lastT=e,e+=1e-8);for(var t=this.currentIndex;t<this.eventKeyFrames.length;t++){var n=this.eventKeyFrames[t],r=1e3*n.time;this.lastT<=r&&e>r&&(this.animation.events.emit(n.eventName),this.animation.parent&&this.animation.parent.emitEvent(n.eventName),this.currentIndex=t+1)}this.lastT=e},n.complete=function(){if(this.currentIndex<this.eventKeyFrames.length)for(var e=this.currentIndex;e<this.eventKeyFrames.length;e++){var t=this.eventKeyFrames[e];this.animation.events.emit(t.eventName),this.animation.parent&&this.animation.parent.emitEvent(t.eventName),this.currentIndex=e+1}},n.applyMinMaxTimeEvent=function(e){for(var t=0;t<e.length;t++){var n=e[t];(void 0===this.minTime||this.minTime>n.time)&&(this.minTime=n.time),(void 0===this.maxTime||this.maxTime<n.time)&&(this.maxTime=n.time)}},t}(fm),xm=Em,Sm=function(e){function t(t,n,r){var a;return(a=e.call(this,t,n)||this).curve=void 0,a.path=void 0,a.path=r,a.curve=dm(n.position),a.applyMinMaxTime(n.position),a}return(0,o.Z)(t,e),t.prototype.update=function(e){var t=Phaser.Math.Clamp(this.curve(e),0,1),n=this.path.getPoint(t);this.gameObject.x=n.x,this.gameObject.y=n.y},t}(fm),wm=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).curve=void 0,r.curve=dm(n.scaleX),r.applyMinMaxTime(n.scaleX),r}return(0,o.Z)(t,e),t.prototype.update=function(e){var t=this.curve(e);this.gameObject.scaleX=t},t}(fm),Am=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).curve=void 0,r.curve=dm(n.scaleY),r.applyMinMaxTime(n.scaleY),r}return(0,o.Z)(t,e),t.prototype.update=function(e){var t=this.curve(e);this.gameObject.scaleY=t},t}(fm),Cm=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).curve=void 0,r.curve=gm(n.shearX),r.applyMinMaxTime(n.shearX),r}return(0,o.Z)(t,e),t.prototype.update=function(e){var t=this.curve(e);this.gameObject.shearX=t},t}(fm),Tm=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).curve=void 0,r.curve=gm(n.shearY),r.applyMinMaxTime(n.shearY),r}return(0,o.Z)(t,e),t.prototype.update=function(e){var t=this.curve(e);this.gameObject.shearY=t},t}(fm),Lm=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).curveR=void 0,r.curveG=void 0,r.curveB=void 0,r.curveR=dm(n.tintR),r.curveG=dm(n.tintG),r.curveB=dm(n.tintB),r.applyMinMaxTime(n.tintR),r.applyMinMaxTime(n.tintG),r.applyMinMaxTime(n.tintB),r}return(0,o.Z)(t,e),t.prototype.update=function(e){var t=this.gameObject.setTint;if(t&&"function"===typeof t){var n=this.curveR(e),r=this.curveG(e),a=this.curveB(e);t.bind(this.gameObject)(Phaser.Display.Color.GetColor(n,r,a))}},t}(fm),Im=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).curve=void 0,r.curve=dm(n.x),r.applyMinMaxTime(n.x),r}return(0,o.Z)(t,e),t.prototype.update=function(e){var t=this.curve(e);this.gameObject.x=t},t}(fm),Pm=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).curve=void 0,r.curve=dm(n.y),r.applyMinMaxTime(n.y),r}return(0,o.Z)(t,e),t.prototype.update=function(e){var t=this.curve(e);this.gameObject.y=t},t}(fm),_m=function(){function e(e){this.scene=void 0,this.events=void 0,this.parent=void 0,this.gameObject=void 0,this.spineGraph=void 0,this.tweenGraph=void 0,this.updateBehaviours=[],this.tween=void 0,this.duration=0,this.timeScale=1,this.delay=0;var t=e.target;this.events=new Phaser.Events.EventEmitter,this.scene=t.scene,this.gameObject=t,this.spineGraph=e,this.tweenGraph=lm(e),this.addBehaviours(),this.setDelay(this.spineGraph.delay)}var t=e.prototype;return t.addBehaviours=function(){var e,t=this.gameObject,n=this.tweenGraph;this.tweenGraph.alpha.length>=1&&this.updateBehaviours.push(new mm(t,n)),this.tweenGraph.angle.length>=1&&this.updateBehaviours.push(new vm(t,n)),this.tweenGraph.scaleX.length>=1&&this.updateBehaviours.push(new wm(t,n)),this.tweenGraph.scaleY.length>=1&&this.updateBehaviours.push(new Am(t,n)),(this.tweenGraph.tintR.length>=1||this.tweenGraph.tintG.length>=1||this.tweenGraph.tintB.length>=1)&&this.updateBehaviours.push(new Lm(t,n)),this.tweenGraph.x.length>=1&&this.updateBehaviours.push(new Im(t,n)),this.tweenGraph.y.length>=1&&this.updateBehaviours.push(new Pm(t,n)),this.tweenGraph.deform.length>=1&&this.updateBehaviours.push(new bm(t,n)),this.spineGraph.event&&this.spineGraph.event.length>=1&&this.updateBehaviours.push(new xm(this,this.spineGraph.event)),this.tweenGraph.shearX.length>=1&&this.updateBehaviours.push(new Cm(t,n)),this.tweenGraph.shearY.length>=1&&this.updateBehaviours.push(new Tm(t,n)),this.tweenGraph.position.length>=1&&this.spineGraph.path&&this.updateBehaviours.push(new Sm(t,n,this.spineGraph.path)),this.tweenGraph.attachment.length>=1&&this.updateBehaviours.push(new ym(t,n)),this.duration=1e3*Math.max.apply(Math,De()(e=this.updateBehaviours).call(e,(function(e){return e.maxTime})))},t.start=function(){var e=this;return new(u())((function(t){e.stop();var n=e.delay||0;e.events.emit("start");for(var r=0;r<e.updateBehaviours.length;r++)e.updateBehaviours[r].start(),e.updateBehaviours[r].update(-n);var a=!1,i=e.scene.tweens.addCounter({from:-n,to:e.duration,duration:e.duration+n,onUpdate:function(t){var n=t.getValue();!a&&n>=0&&(e.events.emit("startDelay"),e.parent&&e.parent.emitEvent("startDelay"),a=!0);for(var r=0;r<e.updateBehaviours.length;r++)e.updateBehaviours[r].update(n);e.spineGraph.onUpdate&&e.spineGraph.onUpdate(n)},loop:e.spineGraph.loop,onComplete:function(){e.events.emit("complete"),e.tween=void 0;for(var n=0;n<e.updateBehaviours.length;n++)e.updateBehaviours[n].complete();t()}});i.setTimeScale(e.timeScale),e.tween=i}))},t.stop=function(){this.tween&&(this.events.emit("stop"),this.tween.complete())},t.seek=function(e){for(var t,n=Me()(t=this.updateBehaviours).call(t,(function(e){return!(e instanceof xm)})),r=0;r<n.length;r++)this.updateBehaviours[r].update(e)},t.setTimeScale=function(e){void 0===e&&(e=1),this.timeScale=e},t.setDelay=function(e){this.delay=e||0},(0,le.Z)(e,[{key:"isPlaying",get:function(){return!!this.tween}}]),e}(),Bm=_m,Om=function(){function e(e){this.events=void 0,this.parent=void 0,this.children=[],this.timeScale=1,this.loop=0,this.tweenLoopAnimation=void 0,this.events=new Phaser.Events.EventEmitter,this.createAnimation(e)}var t=e.prototype;return t.createAnimation=function(e){for(var t=0;t<e.length;t++){var n=e[t].target;Array.isArray(n)||(n=[n]);for(var r=0;r<n.length;r++){var a=e[t].delay||0;"function"===typeof a&&(a=a(n[r],"",0,r,n.length)),this.addAnimation(new Bm((0,i.Z)({},e[t],{target:n[r],delay:a})))}}},t.addAnimationGraph=function(e){this.createAnimation(e)},t.addAnimation=function(e){var t,n=this;this.children.push(e),this.children=Me()(t=this.children).call(t,(function(e,t){var r;return Ht()(r=n.children).call(r,e)===t})),e.parent=this},t.removeAnimation=function(e){var t;this.children=Me()(t=this.children).call(t,(function(t,n){return t!==e})),e.parent=void 0},t.start=function(){var e,t=this;return null==(e=this.tweenLoopAnimation)||e.complete(),0===this.loop?this.startAnimation():new(u())((function(e){var n=t.children[0].scene;t.tweenLoopAnimation=n.tweens.addCounter({from:0,to:1,duration:t.duration,loop:t.loop,onStart:function(){t.startAnimation()},onLoop:function(){t.startAnimation()},onComplete:function(){e()}})}))},t.startAnimation=function(){var e=this;return 0===this.children.length?u().resolve():new(u())((function(t){var n;e.events.emit("start");var r=De()(n=e.children).call(n,(function(t){return t.setTimeScale(e.timeScale),t.start()}));u().all(r).then((function(){e.events.emit("complete"),t()}))}))},t.stop=function(){this.events.emit("stop"),this.children.forEach((function(e){e.stop()}))},t.emitEvent=function(e){for(var t,n,r,a,i=arguments.length,s=new Array(i>1?i-1:0),o=1;o<i;o++)s[o-1]=arguments[o];((t=this.events).emit.apply(t,P()(n=[e]).call(n,s)),this.parent)&&(r=this.parent).emitEvent.apply(r,P()(a=[e]).call(a,s))},t.seek=function(e){this.children.forEach((function(t){t.seek(e)}))},t.seekPercent=function(e){var t=this.duration*e;this.seek(t)},t.setTimeScale=function(e){void 0===e&&(e=1),this.timeScale=e},t.setDelay=function(e){this.children.forEach((function(t){t.setDelay(e)}))},t.setLoop=function(e){this.loop=e},(0,le.Z)(e,[{key:"scene",get:function(){return this.children[0].scene}},{key:"duration",get:function(){var e;return Math.max.apply(Math,De()(e=this.children).call(e,(function(e){return e.duration})))}},{key:"isPlaying",get:function(){return this.children.some((function(e){return e.isPlaying}))}}]),e}();Om.WORLD_SCALE=1/2.88;var Rm=Om,Mm=function(e){function t(t){var n;return(n=e.call(this)||this).matrix=void 0,n.config=void 0,n.matrix=new Phaser.GameObjects.Components.TransformMatrix,n.resetFromJSON(t),n}(0,o.Z)(t,e);var n=t.prototype;return n.setStartEndPoint=function(e,t){this.config.startPoint=e,this.config.endPoint=t,this.resetFromJSON(this.config)},n.resetFromJSON=function(e){this.config=(0,i.Z)({},e);var t=e.vertices||[],n=e.isClose||!1,r=e.flipX,a=void 0!==r&&r,s=e.flipY,o=void 0===s||s;if(!(t.length<6)){var c=De()(t).call(t,(function(e,t){return t%2==0?a?-e:e:o?-e:e})),u=c.length,l=[c[2],c[3]],d=[c[u-2-2],c[u-1-2]],h=e.startPoint||l,p=e.endPoint||d,f=Math.sqrt(Math.pow(p[0]-h[0],2)+Math.pow(p[1]-h[1],2)),m=Math.sqrt(Math.pow(d[0]-l[0],2)+Math.pow(d[1]-l[1],2)),g=[h[0]-l[0],h[1]-l[1]],v=Phaser.Math.Angle.Between(h[0],h[1],p[0],p[1])-Phaser.Math.Angle.Between(l[0],l[1],d[0],d[1]),y=f/m;this.matrix.applyITRS(h[0],h[1],v,y,y);for(var k=[],b=0;b<u;b+=2){var E=c[b]-l[0],x=c[b+1]-l[1],S=this.matrix.getX(E,x),w=this.matrix.getY(E,x);k.push(S,w)}console.log({a1:Phaser.Math.Angle.Between(h[0],h[1],p[0],p[1]),a2:Phaser.Math.Angle.Between(l[0],l[1],d[0],d[1]),angle:180*v/Math.PI,path:c,scale:y,translate:g,correctPath:k,startPoint:h,endPoint:p,bStartPoint:l,bEndPoint:d,matrix:this.matrix}),this.moveTo(h[0],h[1]);for(var A=4;A<u-6;A+=6)this.cubicBezierTo(k[A+4],k[A+5],k[A],k[A+1],k[A+2],k[A+3]);return n&&this.cubicBezierTo(h[0],h[1],k[u-2],k[u-1],k[0],k[1]),this}},n.deform=function(e){var t=this.config.vertices,n=De()(t).call(t,(function(t,n){return t+(e[n]||0)}));this.curves=[],this.cacheLengths=[],this.resetFromJSON((0,i.Z)({},this.config,{vertices:n}))},n.setDebug=function(e,t){var n=this;void 0===t&&(t=16711680);var r=e.add.graphics();e.events.on("update",(function(){r.clear(),r.lineStyle(1,t,1);for(var e=0;e<n.curves.length;e++){var a=n.curves[e];a.draw&&a.draw(r)}}))},t}(Phaser.Curves.Path),Nm=Mm,Dm=function(){var e=GameCore.Utils.Device,t=window.navigator.vibrate;return e.isAndroid()&&"function"===typeof t||e.isMobileWeb()&&"function"===typeof t},Fm=function(){var e=(0,s.Z)(d().mark((function e(t){var n,r,a,i,o;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Math.round(t/80),r=0,a=function(){var e=(0,s.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,FBInstant.performHapticFeedbackAsync();case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log("can not haptic");case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}();case 3:if(!(r<n)){e.next=11;break}return i=a(),o=(0,Yp.qZ)(80),r+=1,e.next=9,u().all([i,o]);case 9:e.next=3;break;case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Gm=function(e){window.navigator.vibrate(0),window.navigator.vibrate(e)},Zm=function(e){var t=window.game.player.getPlayerSettings().vibrate,n=void 0===t||t;if(!n)return!1;try{if(!Dm())return!1;var r=GameCore.Utils.Device;r.isAndroid()||r.isMobileWeb()?Gm(e):r.isIOS()&&Fm(e).catch((function(e){return console.log(e)}))}catch(a){}},Um={position:[{time:.5,curve:.25,c3:.75},{time:.6667,position:.4663,curve:.131,c2:.11,c3:.982,c4:.73},{time:.7833,position:1}],color:[{color:"ffffff00",curve:.156,c2:.76,c3:.75},{time:.2333,color:"ffffffff",curve:"stepped"},{time:.7667,color:"ffffffff"}],rotate:[{angle:26.11,curve:0,c2:.6,c3:.682,c4:.83},{time:.4,angle:-8.57,curve:.25,c3:.75},{time:.6667}],scale:[{x:0,y:0,curve:.049,c2:.82,c3:.75},{time:.2333,x:1.497,y:1.497,curve:.241,c2:.02,c4:.86},{time:.5,x:.861,y:.861,curve:.25,c3:.75},{time:.65,x:1.261,y:1.261},{time:.7667,x:.552,y:.552}]},Km=Na.Z.GAMEPLAY,Hm=Km.KEY,Wm=Km.FRAME,Vm=function(e){function t(t){var n;(n=e.call(this,t)||this).icon=void 0,n.amountText=void 0,n.animIconPool=[],n.countText=void 0,n.iconOriginScaleX=void 0,n.iconOriginScaleY=void 0,n.toLeft=!0;var r=n.createBg(),a=r.width,i=r.height;return n.setSize(a,i),n.createIcon(),n.createAmountText(),n.createCountText(),n}(0,o.Z)(t,e);var n=t.prototype;return n.setIcon=function(e,t,n,r){this.icon.setTexture(Hm,e),this.icon.setSizeBasedOnDpr(),this.icon.setPosition(n,r),this.iconOriginScaleX=this.icon.scaleX,this.iconOriginScaleY=this.icon.scaleY,this.amountText.setText(""+t)},n.runIncreaseAnim=function(){var e=(0,s.Z)(d().mark((function e(t,n){var r,a,i,s,o,c=this;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Number(this.amountText.text),a=this.scaleX,i=this.scaleY,s=!0,o=this.scene.tweens.add({paused:!0,targets:this,duration:100,scaleX:1.1*a,scaleY:{value:1.1*i,delay:100},yoyo:!0,repeat:-1}),e.next=6,this.runMultipleIconsAnimation(t-r,n,(function(){c.amountText.setText(""+(Number(c.amountText.text)+1)),Zm(50),s&&(o.play(),s=!1)}));case 6:return e.next=8,(0,ai.Z)(this.scene,300);case 8:return o.remove(),e.abrupt("return",this.scene.tweens.add({targets:this.icon,duration:100,scaleX:this.iconOriginScaleX,scaleY:this.iconOriginScaleY}).waitForCompletion());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),n.runMultipleIconsAnimation=function(e,t,n){var r=this;if(void 0===e&&(e=1),void 0===t&&(t=0),e<1){for(var a=0;a<e;a++)n&&n();return u().resolve()}var s=this.requestAnimIcons(e),o=this.getWorldPosition(),c=o.x,l=o.y,d=this.toLeft?-1:1,h=c+50*d,p=l,f={x:c+80*d,y:l},m=this.getWorldPosition(),g=m.x,v=m.y;return new(u())((function(a){e>0?(r.countText.setText("x"+e),r.runCountTextAnimation(f,600,t)):r.countText.kill(),e>s.length&&(e=s.length);for(var o=function(o){var c={x:h+o*d*5,y:p-5*o};s[o].setPosition(c.x,c.y),s[o].setDepth(Go.Z.SPECIAL_ANIM),s[o].revive(),s[o].setAlpha(0),s[o].setScale(.5*r.iconOriginScaleX);var u=new Nm({vertices:[-211.5,40.29,-186.35,97.94,-156.05,167.39,-78.09,171.9,-28.95,87.7,2.75,33.38],startPoint:[c.x,c.y],endPoint:[g+10*d,v]}),l=new Rm([(0,i.Z)({},Um,{target:s[o],delay:t+75*o,path:u})]);0===o&&l.events.on("startDelay",(function(){r.scene.audio.playSound(nn.Z.ITEM_RECEIVE,{volume:.3})})),o===e-1&&l.events.on("complete",(function(){a()})),l.events.on("complete",(function(){r.scene.audio.playSound(nn.Z.ITEM_APPEAR),r.scene.screenParticleHandler.receiveEffect.explode("white",g,v,r.displayWidth/3,r.displayHeight/3),n&&n(),s[o].kill(),s[o].scale=r.iconOriginScaleX})),l.start()},c=e-1;c>=0;c--)o(c)}))},n.runCountTextAnimation=function(e,t,n){var r=this,a=this.countText.scale;this.scene.tweens.add({targets:this.countText,ease:Phaser.Math.Easing.Back.Out,props:{alpha:{start:0,from:0,to:1},scale:{from:a,to:1.5*a}},duration:400,delay:n,completeDelay:400,onStart:function(){r.countText.setDepth(Go.Z.SPECIAL_ANIM),r.countText.setPosition(e.x,e.y),r.countText.revive()},onComplete:function(){r.scene.tweens.add({targets:r.countText,ease:Phaser.Math.Easing.Back.Out,props:{alpha:{start:1,from:1,to:0},y:"-=20"},duration:t,onComplete:function(){r.countText.kill(),r.countText.setScale(a)}})}})},n.requestAnimIcons=function(e){var t=this.animIconPool;if(t.length<e)for(var n=t.length;n<e;n++){var r=this.scene.make.image({key:Hm,frame:this.icon.frame.name});r.setSizeBasedOnDpr(),r.setDepth(Go.Z.SPECIAL_ANIM),r.kill(),t.push(r),this.scene.add.existing(r)}return t},n.createBg=function(){var e=this.scene.make.image({key:Hm,frame:Wm.BTN_CIRCLE});return e.setSizeBasedOnDpr(),this.add(e),{width:e.displayWidth,height:e.displayHeight}},n.createIcon=function(){var e=this.scene.make.image({});this.add(e),this.icon=e},n.createAmountText=function(){var e=this.scene.add.container();this.amountText=this.scene.make.bitmapText({font:Ee.Z.NUMBERS.KEY,size:this.scene.fontSize(57),origin:{x:.5,y:.5}});var t=this.scene.make.image({key:Hm,frame:Wm.BUTTON_BLUE_CIRCLE_SMALL});t.setWorldSize(30,30),t.setTintFill(10616832),Phaser.Display.Align.In.Center(this.amountText,t,0,0),e.add([t,this.amountText]),Phaser.Display.Align.In.BottomRight(e,this,-14,-14),this.add(e)},n.createCountText=function(){var e=this.scene.make.text({style:{fontFamily:Ee.Z.FONT_FAMILY,fontSize:"10px"},text:"x1"});e.setHighQuality(),e.setOrigin(.5,.5);var t=e.context.createLinearGradient(0,0,0,e.height);t.addColorStop(0,"#ffffff"),t.addColorStop(1,"#cce5f9"),e.setFill(t),e.setShadow(0,6,"#0000003F",0,!1,!0),this.scene.add.existing(e),this.countText=e,this.countText.kill()},t}(Phaser.GameObjects.Container),Ym=Vm;function zm(e,t){var n="undefined"!==typeof C()&&L()(e)||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){var n;if(!e)return;if("string"===typeof e)return jm(e,t);var r=x()(n=Object.prototype.toString.call(e)).call(n,8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return w()(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jm(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function jm(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Xm=function(e){function t(t){var n;return(n=e.call(this,t)||this).poolItemObjects=[],n.listItems=void 0,n.animObjs=void 0,n.setSize(30,30),n}(0,o.Z)(t,e);var n=t.prototype;return n.prepareFadeIn=function(e,t){for(var n,r=[],a=zm(ie()(t));!(n=a()).done;){var i=n.value,s=i[0],o=i[1],c=e[s];o>c&&r.push({item:s,from:c,to:o})}this.sortItemArray(r);var u=this.requestItemObjs(r);u.forEach((function(e,t){e.setX(100),e.y=40*t,e.setScale(.5)})),this.listItems=r,this.animObjs=u},n.sortItemArray=function(e){return wr()(e).call(e,(function(e,t){var n=0;"undo"===e.item?n=3:"magicWand"===e.item?n=2:"shuffle"===e.item&&(n=1);var r=0;return"undo"===t.item?r=3:"magicWand"===t.item?r=2:"shuffle"===t.item&&(r=1),r-n}))},n.fadeIn=function(){var e=(0,s.Z)(d().mark((function e(){var t;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.scene.tweens.add({targets:this.animObjs,delay:this.scene.tweens.stagger(100,{start:0}),props:{x:0},duration:250,ease:Phaser.Math.Easing.Back.Out}),e.abrupt("return",t.waitForCompletion());case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.runReceiveAnim=function(){var e=(0,s.Z)(d().mark((function e(){var t,n,r=this;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=De()(t=this.animObjs).call(t,(function(e,t){return e.runIncreaseAnim(r.listItems[t].to,300*t)})),e.next=3,u().all(n);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.fadeOut=function(){var e=(0,s.Z)(d().mark((function e(){var t;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.scene.tweens.add({targets:this.animObjs,delay:this.scene.tweens.stagger(100,{start:0}),props:{x:100},duration:250,ease:Phaser.Math.Easing.Back.In}),e.abrupt("return",t.waitForCompletion());case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.requestItemObjs=function(e){var t=this,n=De()(e).call(e,(function(e){var n=e.item,r=e.from,a=t.getFreeObj();a.revive();var i="",s=0,o=0;return"undo"===n?(i=Na.Z.GAMEPLAY.FRAME.ICON_UNDO,s=0,o=-1):"magicWand"===n?(i=Na.Z.GAMEPLAY.FRAME.ICON_HELP,s=2.5,o=1):"shuffle"===n&&(i=Na.Z.GAMEPLAY.FRAME.ICON_SHUFFLE,s=0,o=-2),a.setIcon(i,r,s,o),a}));return n},n.getFreeObj=function(){var e,t=B()(e=this.poolItemObjects).call(e,(function(e){return!e.active}));if(t)return t;var n=new Ym(this.scene);return this.add(n),this.poolItemObjects.push(n),n},t}(Phaser.GameObjects.Container),qm=Xm,Qm=function(){function e(e){var t=this;this.navigation=void 0,this.commonContainer=void 0,this.coinBar=void 0,this.animItems=void 0,this.originalX=void 0,this.handleCoinBarButtonClick=(0,s.Z)(d().mark((function e(){var n,r,a,i;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.navigation.scene.screen.get(tn.o4.SHOP_SCREEN)){e.next=3;break}return e.abrupt("return");case 3:if(!n.visible){e.next=5;break}return e.abrupt("return");case 5:return t.navigation.scene.handlePausePWF(),(r=t.navigation.scene).setGlobalSceneInputEnabled(!1),a=[t.navigation.fadeOut()],(i=r.screen.get(tn.o4.DASHBOARD_SCREEN))instanceof dp&&i.isOpening&&a.push(i.softFadeOut()),e.next=13,u().all(a);case 13:return t.navigation.scene.screen.open(tn.o4.SHOP_SCREEN),e.next=16,t.navigation.fadeIn("Shop",!1);case 16:r.setGlobalSceneInputEnabled(!0);case 17:case"end":return e.stop()}}),e)}))),this.usingCoins=function(){var e=(0,s.Z)(d().mark((function e(n){var r,a,i;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.navigation.scene,a=r.player.getCustomData("coins"),i=a-n,r.player.setCustomData("coins",i),t.coinBar.updateCoinCountWithAnimation(i,(function(){t.alignUI()}),!1),qc.emit(Al.UPDATE_STATUS_ITEM);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.alignCoinBarWhenRunAnimation=function(){var e=t.coinBar.displayWidth-t.coinBar.displayWidth*(t.coinBar.scaleX-1);t.coinBar.setX(t.navigation.displayWidth-6-e/2)},this.navigation=e,this.createCommonContainer(),this.createCoinBarButton(),this.createAnimItems(),this.alignUI(),this.listenEvents()}var t=e.prototype;return t.listenEvents=function(){qc.on(Al.USING_COINS,this.usingCoins)},t.fadeOut=function(){var e=(0,s.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wa("right",this.commonContainer,[this.coinBar],250);case 2:this.coinBar.kill();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.fadeIn=function(){var e=(0,s.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.coinBar.revive(),e.abrupt("return",Ka("right",this.commonContainer,[this.coinBar],[this.originalX],250));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.runReceiveItemsAnim=function(){var e=(0,s.Z)(d().mark((function e(t,n){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.animItems.prepareFadeIn(t,n),this.animItems.revive(),e.next=4,this.animItems.fadeIn();case 4:return e.next=6,this.animItems.runReceiveAnim();case 6:return e.next=8,(0,ai.Z)(this.navigation.scene,200);case 8:return this.navigation.scene.audio.playSound(nn.Z.POPUP_OFF),e.next=11,this.animItems.fadeOut();case 11:this.animItems.kill();case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),t.killAll=function(){this.coinBar.kill()},t.isCoinBarVisible=function(){return this.coinBar.visible},t.setCommonContainerVisible=function(e){this.commonContainer.setVisible(e)},t.createCommonContainer=function(){var e=this.navigation,t=e.width,n=e.height,r=this.navigation.scene.add.container();r.setSize(t,n),this.navigation.add(r),this.commonContainer=r},t.createCoinBarButton=function(){var e=new om(this.navigation.scene);this.commonContainer.add(e),e.onClick=this.handleCoinBarButtonClick,e.setDepth(Go.Z.ON_TOP+1),this.coinBar=e},t.createAnimItems=function(){var e=new qm(this.navigation.scene);this.commonContainer.add(e),this.animItems=e,this.animItems.kill()},t.alignUI=function(){this.alignToTopRight(this.coinBar,-6,-6),this.originalX=this.coinBar.x,Phaser.Display.Align.To.BottomRight(this.animItems,this.coinBar,-10,10)},t.enablePlusIconAsync=function(){var e=(0,s.Z)(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.coinBar.enablePlusIconAsync(t));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.runCoinBarUpdateAnim=function(){var e=(0,s.Z)(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.coinBar.updateCoinCountWithAnimation(t,this.alignCoinBarWhenRunAnimation);case 2:return e.next=4,this.coinBar.playTweenScaleDown(this.alignCoinBarWhenRunAnimation);case 4:qc.emit(Al.UPDATE_STATUS_ITEM);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.alignToTopRight=function(e,t,n){e.setPosition(-(e.displayWidth-this.commonContainer.displayWidth)/2+t,(e.displayHeight-this.commonContainer.displayHeight)/2-n)},t.getCoinPosition=function(){return this.coinBar.getCoinPosition()},t.showCoinBarTop=function(){var e=(0,s.Z)(d().mark((function e(){var t,n,r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.coinBar.getWorldPosition(),n=t.x,r=t.y,this.commonContainer.remove(this.coinBar),this.coinBar.setPosition(n,r),e.abrupt("return",this.coinBar.playTweenScaleUp(this.alignCoinBarWhenRunAnimation));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.hideCoinBarTop=function(){var e=this.navigation.getLocalPosition(this.coinBar),t=e.x,n=e.y;this.commonContainer.add(this.coinBar),this.coinBar.setPosition(t,n),this.alignUI()},e}(),Jm=Qm,$m=Na.Z.GAMEPLAY,eg=$m.KEY,tg=$m.FRAME,ng=function(){function e(e){var t=this;this.navigation=void 0,this.backButton=void 0,this.backButtonOriginalX=void 0,this.handleClickBackButton=(0,s.Z)(d().mark((function e(){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t.navigation.scene).setGlobalSceneInputEnabled(!1),e.next=4,n.screen.closeAsync(tn.o4.SHOP_SCREEN);case 4:n.screen.open(tn.o4.REWARD_SCREEN),n.setGlobalSceneInputEnabled(!0);case 6:case"end":return e.stop()}}),e)}))),this.navigation=e,this.createBackButton(),this.alignUI()}var t=e.prototype;return t.killAll=function(){this.backButton.kill()},t.fadeOut=function(){var e=(0,s.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.backButton.revive(),e.next=3,Wa("left",this.navigation,[this.backButton],250);case 3:this.backButton.kill();case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.fadeIn=function(){return this.backButton.revive(),Ka("left",this.navigation,[this.backButton],[this.backButtonOriginalX],250)},t.createBackButton=function(){this.backButton=new Uf(this.navigation.scene),this.backButton.setIcon(eg,tg.ICON_BACK,0,-1),this.backButton.setName(so.SHOP_BACK),this.backButton.onClick=this.handleClickBackButton,this.navigation.add(this.backButton)},t.alignUI=function(){Phaser.Display.Align.In.TopLeft(this.backButton,this.navigation,-6,-6),this.backButtonOriginalX=this.backButton.x},e}(),rg=ng,ag=Na.Z.GAMEPLAY,ig=ag.KEY,sg=ag.FRAME,og=function(){function e(e){var t=this;this.navigation=void 0,this.backButton=void 0,this.backButtonOriginalX=void 0,this.handleClickBackButton=(0,s.Z)(d().mark((function e(){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t.navigation.scene).setGlobalSceneInputEnabled(!1),e.next=4,n.screen.closeAsync(tn.o4.MAP_SCREEN);case 4:n.setGlobalSceneInputEnabled(!0);case 5:case"end":return e.stop()}}),e)}))),this.navigation=e,this.createBackButton(),this.alignUI()}var t=e.prototype;return t.killAll=function(){this.backButton.kill()},t.fadeOut=function(){var e=(0,s.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wa("left",this.navigation,[this.backButton],250);case 2:this.backButton.kill();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.fadeIn=function(){var e=(0,s.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.backButton.revive(),e.abrupt("return",Ka("left",this.navigation,[this.backButton],[this.backButtonOriginalX],250));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.createBackButton=function(){this.backButton=new Uf(this.navigation.scene),this.backButton.setIcon(ig,sg.ICON_BACK,0,-1),this.backButton.setName(so.MAP_BACK),this.backButton.onClick=this.handleClickBackButton,this.navigation.add(this.backButton)},t.alignUI=function(){Phaser.Display.Align.In.TopLeft(this.backButton,this.navigation,-6,-6),this.backButtonOriginalX=this.backButton.x},e}(),cg=og,ug=Na.Z.GAMEPLAY,lg=ug.KEY,dg=ug.FRAME,hg=function(){function e(e){var t=this;this.navigation=void 0,this.backButton=void 0,this.backButtonOriginalX=void 0,this.handleClickBackButton=(0,s.Z)(d().mark((function e(){var n,r,a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t.navigation.scene).setGlobalSceneInputEnabled(!1),!(r=n.screen.get(tn.o4.DASHBOARD_SCREEN)).isOpening&&r.prepareFadeInFromGameplay(!1),n.screen.get(tn.o4.DAILY_CHALLENGE_SCREEN).canUpdateAppDbBgAlpha=!1,e.next=8,u().all([n.screen.closeAsync(tn.o4.DAILY_CHALLENGE_SCREEN),t.navigation.fadeOut()]);case 8:return a=[t.navigation.fadeIn("Dashboard")],r.isOpening?a.push(r.fadeIn()):a.push(n.screen.openAsync(tn.o4.DASHBOARD_SCREEN)),e.next=12,u().all(a);case 12:n.setGlobalSceneInputEnabled(!0);case 13:case"end":return e.stop()}}),e)}))),this.navigation=e,this.createBackButton(),this.alignUI()}var t=e.prototype;return t.killAll=function(){this.backButton.kill()},t.fadeOut=function(){var e=(0,s.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wa("left",this.navigation,[this.backButton],250);case 2:this.backButton.kill();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.fadeIn=function(){var e=(0,s.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.backButton.revive(),e.abrupt("return",Ka("left",this.navigation,[this.backButton],[this.backButtonOriginalX],250));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.createBackButton=function(){this.backButton=new Uf(this.navigation.scene),this.backButton.setIcon(lg,dg.ICON_BACK,0,-1),this.backButton.setName(so.DAILY_CHALLENGE_BACK),this.backButton.onClick=this.handleClickBackButton,this.navigation.add(this.backButton)},t.alignUI=function(){Phaser.Display.Align.In.TopLeft(this.backButton,this.navigation,-6,-6),this.backButtonOriginalX=this.backButton.x},e}(),pg=hg,fg=function(e){function t(t){var n;(n=e.call(this,t)||this).dashboardElements=void 0,n.gameplayElements=void 0,n.hybridElements=void 0,n.shopElements=void 0,n.mapElements=void 0,n.dailyChallengeElements=void 0,n.currentElements=void 0;var r=n.scene.gameZone,a=r.width,i=r.height;return n.setDepth(tn.Ks.NAVIGATION),n.setSize(a,i),n.scene.add.existing((0,Ca.Z)(n)),n.dashboardElements=new Yf((0,Ca.Z)(n)),n.gameplayElements=new Qf((0,Ca.Z)(n)),n.hybridElements=new Jm((0,Ca.Z)(n)),n.shopElements=new rg((0,Ca.Z)(n)),n.mapElements=new cg((0,Ca.Z)(n)),n.dailyChallengeElements=new pg((0,Ca.Z)(n)),n.dashboardElements.killAll(),n.gameplayElements.killAll(),n.hybridElements.killAll(),n.shopElements.killAll(),n.mapElements.killAll(),n.dailyChallengeElements.killAll(),n}(0,o.Z)(t,e);var n=t.prototype;return n.fadeOut=function(){var e=(0,s.Z)(d().mark((function e(){var t,n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null==(t=this.currentElements)?void 0:t.fadeOut(),this.currentElements=void 0,e.abrupt("return",n);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.fadeInHybrid=function(){var e=(0,s.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.hybridElements.fadeIn());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.fadeOutHybrid=function(){var e=(0,s.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.hybridElements.fadeOut());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.fadeIn=function(){var e=(0,s.Z)(d().mark((function e(t,n){var r,a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===n&&(n=!0),r=[],this.currentElements&&n&&r.push(this.currentElements.fadeOut()),a=!0,"Dashboard"===t?(!this.hybridElements.isCoinBarVisible()&&r.push(this.hybridElements.fadeIn()),r.push(this.dashboardElements.fadeIn()),this.currentElements=this.dashboardElements):"Gameplay"===t?(!this.hybridElements.isCoinBarVisible()&&r.push(this.hybridElements.fadeIn()),r.push(this.gameplayElements.fadeIn()),this.currentElements=this.gameplayElements):"Map"===t?(r.push(this.mapElements.fadeIn()),this.currentElements=this.mapElements):"Shop"===t?(a=!1,!this.hybridElements.isCoinBarVisible()&&r.push(this.hybridElements.fadeIn()),r.push(this.shopElements.fadeIn()),this.currentElements=this.shopElements):"DailyChallengeScreen"===t?(r.push(this.dailyChallengeElements.fadeIn()),this.currentElements=this.dailyChallengeElements):(this.hybridElements.isCoinBarVisible()&&r.push(this.hybridElements.fadeOut()),this.currentElements=void 0),r.push(this.hybridElements.enablePlusIconAsync(a)),e.next=8,u().all(r);case 8:return e.abrupt("return",u().resolve());case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),n.getCoinPosition=function(){return this.hybridElements.getCoinPosition()},n.runCoinAnimToCurData=function(){var e=(0,s.Z)(d().mark((function e(t,n){var r,a,i=this;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===t&&(t=0),void 0===n&&(n=0),r=[],a=this.hybridElements.showCoinBarTop(),r.push(a),t&&n||(t=this.scene.gameZone.width/2,n=this.scene.gameZone.height/2),a=new(u())((function(e){var r=function(){var t=(0,s.Z)(d().mark((function t(){var n;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=i.scene.player.getCustomData("coins"),t.next=3,i.hybridElements.runCoinBarUpdateAnim(n);case 3:e();case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();i.scene.screenParticleHandler.effectCollectCoin.handleShowCoinEffect(t,n,r)})),r.push(a),e.next=10,u().all(r);case 10:this.hybridElements.hideCoinBarTop();case 11:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),n.runItemAnimToCurData=function(){var e=(0,s.Z)(d().mark((function e(t,n,r){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,ai.Z)(this.scene,r);case 2:return e.abrupt("return",this.hybridElements.runReceiveItemsAnim(t,n));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}(),n.setCanShowGameplaySettingsButton=function(e){this.gameplayElements.setCanShowSettings(e)},n.setHybridElementsVisible=function(e){this.hybridElements.setCommonContainerVisible(e)},n.getGameplaySettingButtonRightEdgeWorldX=function(){return this.gameplayElements.getSettingButtonRightEdgeWorldX()},t}(Phaser.GameObjects.Container),mg=fg,gg=Na.Z.GAMEPLAY,vg=gg.KEY,yg=gg.FRAME,kg=Na.Z.GAMEPLAY,bg=kg.KEY,Eg=kg.FRAME,xg=function(e){function t(t){var n;return(n=e.call(this,t,vg,yg.NO_MORE_SCREEN_BTN_ORANGE,211,44)||this).coin=void 0,n.text=void 0,n.setName(so.RW_WATCH_AD),n.createIcon(),n.createCenterText(),n.createIconCoin(),n.createRightText(),n}(0,o.Z)(t,e);var n=t.prototype;return n.setCoin=function(e){this.text.setText("+"+e),this.alignText()},n.createIcon=function(){var e=this.scene.make.image({key:vg,frame:yg.NO_MORE_SCREEN_ICON_AD});e.setSizeBasedOnDpr(),this.add(e),Phaser.Display.Align.In.LeftCenter(e,this,-24,0)},n.createCenterText=function(){var e=this.scene.lang.Text.VIDEO,t=this.scene.make.text({style:{fontFamily:Ee.Z.FONT_FAMILY,fontSize:"17px"},text:e});t.setHighQuality(),this.add(t);var n=t.context.createLinearGradient(0,0,0,t.height);n.addColorStop(0,"#ffffff"),n.addColorStop(1,"#cce5f9"),t.setFill(n),t.setLineSpacing,t.setShadow(0,6,"#0000003F",0,!1,!0),Phaser.Display.Align.In.Center(t,this,-15,0)},n.createIconCoin=function(){this.coin=this.scene.make.image({key:bg,frame:Eg.ICON_COIN}),this.coin.setWorldSize(22,22),this.add(this.coin),Phaser.Display.Align.In.RightCenter(this.coin,this,-24,1)},n.createRightText=function(){var e=this.scene.make.text({style:{fontFamily:Ee.Z.FONT_FAMILY,fontSize:"17px"},text:"+20"});e.setHighQuality(),this.add(e);var t=e.context.createLinearGradient(0,0,0,e.height);t.addColorStop(0,"#ffffff"),t.addColorStop(1,"#cce5f9"),e.setFill(t),e.setLineSpacing,e.setShadow(0,6,"#0000003F",0,!1,!0),this.text=e,this.alignText()},n.alignText=function(){Phaser.Display.Align.In.RightCenter(this.text,this.coin,-this.coin.displayWidth-5,-1.5)},t}(Yh),Sg=xg,wg=Na.Z.DEFAULT,Ag=wg.KEY,Cg=wg.FRAME,Tg=function(e){function t(t){var n;return(n=e.call(this,t)||this).background=void 0,n.closeButton=void 0,n.watchAdButton=void 0,n.createBackground(),n.updateSize(),n.createText(),n.createWatchAdButton(),n.createCloseButton(),n}(0,o.Z)(t,e);var n=t.prototype;return n.setCoin=function(e){this.watchAdButton.setCoin(e)},n.createBackground=function(){var e=Ag,t=new Op(this.scene,{initialHeight:162,sliceTextures:{top:{key:e,frame:Cg.SETTINGS_SCREEN_POPUP_TOP},middle:{key:e,frame:Cg.SETTINGS_SCREEN_POPUP_MIDDLE},bottom:{key:e,frame:Cg.SETTINGS_SCREEN_POPUP_BOTTOM}}});this.add(t),this.background=t},n.updateSize=function(){var e=this.background,t=e.width,n=e.height;this.setSize(t,n)},n.createText=function(){var e="22px",t=-15;"ru"===this.scene.facebook.getLocale()&&(e="18px",t=-8);var n=this.scene.lang.Text.EARN_FREE_COINS,r=this.scene.make.text({style:{fontFamily:Ee.Z.FONT_FAMILY,fontSize:e},text:n});r.setHighQuality(),r.setAlign("center"),this.add(r);var a=r.context.createLinearGradient(0,0,0,r.height);a.addColorStop(0,"#ffffff"),a.addColorStop(1,"#cce5f9"),r.setFill(a),r.setLineSpacing(1),r.setShadow(0,6,"#0000003F",0,!1,!0),Phaser.Display.Align.In.TopCenter(r,this,0,t)},n.createWatchAdButton=function(){this.watchAdButton=new Sg(this.scene),this.add(this.watchAdButton),Phaser.Display.Align.In.BottomCenter(this.watchAdButton,this,0,-30)},n.createCloseButton=function(){var e=new io.Z(this.scene,Ag,Cg.SETTINGS_SCREEN_BTN_CANCEL,23,23);e.setName(so.RW_CLOSE),this.add(e),Phaser.Display.Align.In.TopRight(e,this,-17,-15),this.closeButton=e},n.runWatchAdButtonAnimation=function(){this.watchAdButton.runAnimation()},n.stopWatchAdButtonAnimation=function(){this.watchAdButton.stopAnimation()},(0,le.Z)(t,[{key:"onCloseClick",set:function(e){this.closeButton.onClick=e}},{key:"onWatchAdClick",set:function(e){this.watchAdButton.onClick=e}}]),t}(Phaser.GameObjects.Container),Lg=Tg,Ig=function(e){function t(t,n,r){var a;return(a=e.call(this,t)||this).scene=void 0,a.parentName=void 0,a.onHandlePointerUp=void 0,a.isRunning=!1,a.isPointerOver=!0,a.handlePointerDown=function(){a.isRunning=!0,a.isPointerOver=!0,a.scene.input.once(Phaser.Input.Events.POINTER_UP,a.handlePointerUpOut)},a.handlePointerUpOver=function(){a.isRunning&&a.isPointerOver&&(a.isRunning=!1,a.isPointerOver=!0,a.onHandlePointerUp(),a.logButtonEvent())},a.handlePointerUpOut=function(){a.isRunning&&(a.isPointerOver||(a.isRunning=!1,a.isPointerOver=!0))},a.handlePointerOut=function(){a.isRunning&&(a.isPointerOver=!1)},a.handlePointerOver=function(){a.isRunning&&(a.isPointerOver=!0)},a.scene=t,a.setSize(n,r),a.addPointerEventListeners(),a}(0,o.Z)(t,e);var n=t.prototype;return n.addPointerEventListeners=function(){this.setInteractive({useHandCursor:!0}),this.on(Phaser.Input.Events.GAMEOBJECT_POINTER_DOWN,this.handlePointerDown),this.on(Phaser.Input.Events.GAMEOBJECT_POINTER_UP,this.handlePointerUpOver),this.on(Phaser.Input.Events.GAMEOBJECT_POINTER_OUT,this.handlePointerOut),this.on(Phaser.Input.Events.GAMEOBJECT_POINTER_OVER,this.handlePointerOver)},n.logButtonEvent=function(){var e=this.getParentName(),t=this.name;this.scene.analytics.event(sn._.BUTTON_CLICK,{button_name:t,screen_name:e})},n.getParentName=function(){if(this.parentName)return this.parentName;for(var e=this.parentContainer;e;){if(e instanceof GameCore.Screen){var t=e;return this.parentName=t.getScreenName(),this.parentName}e=e.parentContainer}return this.parentName=this.scene.getSceneName(),this.parentName},(0,le.Z)(t,[{key:"onClick",set:function(e){this.onHandlePointerUp=e}}]),t}(Phaser.GameObjects.Container),Pg=Ig,_g=function(e){function t(t,n,r,a){var i;return(i=e.call(this,t,n,r,a)||this).scene=void 0,i.backgroundInteractive=void 0,i.popup=void 0,i.rewardCoin=200,i.handleClickWatchAd=(0,s.Z)(d().mark((function e(){var t;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,to(i.name);case 2:if(t=e.sent,i.popup.runWatchAdButtonAnimation(),!t){e.next=7;break}return e.next=7,i.handleWatchAdSuccess();case 7:case"end":return e.stop()}}),e)}))),i.handleWatchAdSuccess=(0,s.Z)(d().mark((function e(){var t,n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i.scene.setGlobalSceneInputEnabled(!1),t=i.scene.player.getCustomData("coins"),n=t+i.rewardCoin,i.scene.player.setCustomData("coins",n),e.next=6,i.scene.navigation.runCoinAnimToCurData();case 6:i.scene.setGlobalSceneInputEnabled(!0);case 7:case"end":return e.stop()}}),e)}))),i.handleClose=function(){i.scene.screen.close(i.name)},i.scene=t,i.createBackground(),i.createPopup(),i.setDepth(tn.Ks.PRIORITY),i.listenEvents(),i}(0,o.Z)(t,e);var n=t.prototype;return n.createBackground=function(){this.backgroundInteractive=new Pg(this.scene,this.width,this.height),this.backgroundInteractive.setName(so.RW_BG),this.add(this.backgroundInteractive)},n.listenEvents=function(){this.popup.setInteractive({useHandCursor:!1}),this.popup.onCloseClick=this.handleClose,this.popup.onWatchAdClick=this.handleClickWatchAd,this.backgroundInteractive.onHandlePointerUp=this.handleClose},n.createPopup=function(){this.popup=new Lg(this.scene),this.add(this.popup)},n.open=function(){var t=(0,s.Z)(d().mark((function t(){return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.prototype.open.call(this),this.popup.setCoin(this.rewardCoin),this.popup.stopWatchAdButtonAnimation(),t.next=5,this.fadeIn();case 5:this.popup.runWatchAdButtonAnimation();case 6:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),n.close=function(){var t=(0,s.Z)(d().mark((function t(){return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.scene.setGlobalSceneInputEnabled(!1),this.popup.stopWatchAdButtonAnimation(),t.next=4,this.fadeOut();case 4:this.scene.setGlobalSceneInputEnabled(!0),e.prototype.close.call(this),this.scene.handleResumePWF();case 7:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),n.fadeIn=function(){var e=(0,s.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",u().all([this.tweenScaleUpPopup(),this.tweenBackgroundFadeIn()]));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.tweenScaleUpPopup=function(){var e=(0,s.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Da(this.scene,{targets:[this.popup],duration:200,scale:{from:0,to:1},ease:Phaser.Math.Easing.Back.Out}));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.tweenBackgroundFadeIn=function(){var e=(0,s.Z)(d().mark((function e(){var t,n=this;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.scene.tweens.add({targets:this.background,duration:200,alpha:{from:0,to:.8},onUpdate:function(){n.updateAppDbOverlayOpacity()}}),e.abrupt("return",t.waitForCompletion());case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.fadeOut=function(){var e=(0,s.Z)(d().mark((function e(){var t=this;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u().all([ja([this.background],200,0,0,(function(){t.updateAppDbOverlayOpacity()})),this.tweenScaleDownPopup()]);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.tweenScaleDownPopup=function(){var e=(0,s.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Da(this.scene,{targets:[this.popup],duration:200,scale:{from:1,to:0},ease:Phaser.Math.Easing.Sine.In}));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.updateAppDbOverlayOpacity=function(){Ih.Z.setAppBgOverlayAlpha(this.background.alpha)},t}(GameCore.Screen),Bg=_g,Og=function(e){function t(t){var n;return(n=e.call(this,t)||this).index=0,n.delay=5,n.config=void 0,n.isChangeSpeed=void 0,n._angle=void 0,n.speed=void 0,n}(0,o.Z)(t,e);var n=t.prototype;return n.update=function(t,n,r){var a=e.prototype.update.call(this,t,n,r);return this.lifeT>=.2&&!this.isChangeSpeed&&(this.velocityX=-this.speed*Math.cos(this._angle),this.velocityY=-this.speed*Math.sin(this._angle)),this.lifeT>=.3&&!this.isChangeSpeed&&(this.speed/=2,this.velocityX=-this.speed*Math.cos(this._angle),this.velocityY=-this.speed*Math.sin(this._angle),this.isChangeSpeed=!0),a},n.init=function(e){this.config=e;var t=this.config.index;this.isChangeSpeed=!1,this.index=t,this.fluctuateInitPos(),this.modifyRotation(),this.modifySpeed()},n.fluctuateInitPos=function(){var e=this.config.fluctuateInitPos;if(e){var t=e.min,n=e.max,r=Phaser.Math.Between(0,360),a=Phaser.Math.Between(t,n),i=this.x+a*Math.cos(r),s=this.y+a*Math.sin(r);this.x=i,this.y=s}},n.modifyRotation=function(){if(this.config.randomRotation&&this.data.rotate){var e=Phaser.Math.Between(0,90),t=e+e/Math.abs(e)*45;this.data.rotate.min=e,this.data.rotate.max=t,this.angle=e}},n.modifySpeed=function(){var e=this.config,t=e.xCenter,n=e.yCenter,r=e.randomSpeed;if(r){var a=r.min,i=r.max;this._angle=Math.atan2(n-this.y,t-this.x),this.speed=Phaser.Math.Between(a,i),this.velocityX=-this.speed*Math.cos(this._angle),this.velocityY=-this.speed*Math.sin(this._angle)}},t}(Phaser.GameObjects.Particles.Particle),Rg=Og,Mg=Na.Z.EFFECTS,Ng=Mg.KEY,Dg=Mg.FRAME,Fg=function(e){function t(t){var n;return(n=e.call(this,t,0,0,Ng,Dg.COIN)||this).onComplete=void 0,n.positions=void 0,n.eatAnimation=void 0,n.particleManager=void 0,n.emitter=void 0,n.scene.add.existing((0,Ca.Z)(n)),n.createParticles(),n}(0,o.Z)(t,e);var n=t.prototype;return n.createParticles=function(){var e=1/GameCore.Utils.Image.getImageScale();this.particleManager=this.scene.add.particles(Ng,Dg.FX_COMET),this.emitter=this.particleManager.createEmitter({lifespan:500,scale:{start:e,end:0,ease:Phaser.Math.Easing.Sine.In},rotate:{start:0,end:180},blendMode:Phaser.BlendModes.COLOR,frequency:100,quantity:1,on:!1}),this.particleManager.kill()},n.setFromToPositions=function(e){this.positions=e},n.playAnimation=function(e){var t,n=this,r=1/GameCore.Utils.Image.getImageScale();null==(t=this.eatAnimation)||t.remove();var a=this.positions,i=a.from,o=a.to;this.setPosition(i.x,i.y);var c=400-50*e;this.particleManager.setDepth(Go.Z.TOP_SCREEN),this.particleManager.revive(),this.emitter.startFollow(this),this.emitter.start(),this.eatAnimation=this.scene.add.tween({targets:this,duration:c,ease:Phaser.Math.Easing.Quadratic.In,props:{x:o.x,y:o.y,scale:r},completeDelay:30,onComplete:function(){var e=(0,s.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.emitter.stop(),n.kill(),n.onComplete&&n.onComplete(),n.onComplete=void 0,e.next=6,n.waitFinish();case 6:n.particleManager.kill();case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()})},n.waitFinish=function(){var e=(0,s.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.emitter.getAliveParticleCount()>0)){e.next=5;break}return e.next=3,(0,ai.Z)(this.scene,100);case 3:e.next=0;break;case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.checkParticleManagerActive=function(){return this.particleManager.active},t}(Phaser.GameObjects.Image),Gg=Fg,Zg=function(e){function t(t){var n;return(n=e.call(this,t)||this).alpha0=1,n}(0,o.Z)(t,e);var n=t.prototype;return n.update=function(t,n,r){var a=e.prototype.update.call(this,t,n,r);return this.updateAlpha(),a},n.updateAlpha=function(){var e=1-this.lifeCurrent%this.life/this.life;this.alpha=this.alpha0*Math.sin(e*Math.PI)},t}(Phaser.GameObjects.Particles.Particle),Ug=Zg,Kg=Na.Z.EFFECTS.FRAME,Hg=function(){function e(e,t){this.scene=void 0,this.particleManager=void 0,this.rewardCoin=void 0,this.starWhiteFireWork=void 0,this.colorfulStarFireWork=void 0,this.listCoinMove=[],this.depthOrder=0,this.indexCoin=0,this.currentEmitX=0,this.currentEmitY=0,this.onFirstCoinReachDest=void 0,this.scene=e,this.particleManager=t,this.createRewardCoin(),this.createStarFireWork(),this.createColorfulStarFireWorks(),this.createListCoinMove()}var t=e.prototype;return t.createListCoinMove=function(){for(var e=0;e<10;e++){var t=new Gg(this.scene);t.kill(),this.listCoinMove.push(t)}},t.createRewardCoin=function(){var e=this,t=1/GameCore.Utils.Image.getImageScale();this.rewardCoin=this.particleManager.createEmitter({on:!1,frame:Kg.COIN,quantity:10,alpha:{start:0,end:1,ease:Phaser.Math.Easing.Cubic.Out},scale:{start:.5*t,end:t,ease:Phaser.Math.Easing.Back.Out},timeScale:4,lifespan:1e3,particleClass:Rg,emitCallback:function(t){t.init({index:e.indexCoin,xCenter:e.currentEmitX,yCenter:e.currentEmitY,fluctuateInitPos:{min:-10,max:10},randomRotation:!0,randomSpeed:{min:0,max:120}}),e.indexCoin--},deathCallback:function(t){var n=e.scene.navigation.getCoinPosition(),r=n.x,a=n.y,i=e.getFreeCoinMove();i.revive(),i.setFromToPositions({from:{x:t.x,y:t.y},to:{x:r,y:a}}),i.scaleX=t.scaleX,i.scaleY=t.scaleY,i.setDepth(Go.Z.ON_TOP+e.depthOrder),0===e.depthOrder?i.onComplete=function(){e.onFirstCoinReachDest(),e.scene.screenParticleHandler.receiveEffect.explode("yellow",r,a,25,25),e.scene.audio.playSound(nn.Z.COINS_ADD,{volume:.15})}:i.onComplete=function(){Zm(50),e.scene.screenParticleHandler.receiveEffect.explode("yellow",r,a,25,25),e.scene.audio.playSound(nn.Z.COINS_ADD,{volume:.15})},i.playAnimation(e.depthOrder),e.depthOrder--}})},t.createStarFireWork=function(){var e=1/GameCore.Utils.Image.getImageScale();this.starWhiteFireWork=this.particleManager.createEmitter({on:!1,frame:Kg.FX_STAR_WHITE,scale:{min:.3*e,max:e},lifespan:{min:1e3,max:1300},blendMode:Phaser.BlendModes.ADD,speedX:{min:-100,max:100},speedY:{min:-250,max:-350},gravityY:400,timeScale:1.8,frequency:100,quantity:6,particleClass:Ug})},t.createColorfulStarFireWorks=function(){var e=1/GameCore.Utils.Image.getImageScale();this.colorfulStarFireWork=this.particleManager.createEmitter({on:!1,frame:Kg.STAR,scale:{min:.3*e,max:.5*e},lifespan:{min:1e3,max:1300},speedX:{min:-100,max:100},speedY:{min:-250,max:-350},gravityY:400,timeScale:1.8,frequency:100,quantity:2,tint:[13879477,14010803,15125693,13488046,15583906,15454046],particleClass:Ug})},t.handleShowCoinEffect=function(e,t,n){this.onFirstCoinReachDest=n,this.currentEmitX=e,this.currentEmitY=t,this.depthOrder=0,this.indexCoin=10,this.scene.audio.playSound(nn.Z.COIN_APPEAR,{volume:.5}),this.rewardCoin.emitParticleAt(e,t)},t.handleShowStarFirework=function(e,t){var n=this;this.starWhiteFireWork.setPosition(e,t),this.starWhiteFireWork.start(),this.colorfulStarFireWork.setPosition(e,t),this.colorfulStarFireWork.start(),setTimeout((function(){n.starWhiteFireWork.stop(),n.colorfulStarFireWork.stop()}),500)},t.getFreeCoinMove=function(){for(var e=0;e<this.listCoinMove.length;e++){var t=this.listCoinMove[e];if(!t.active&&!t.checkParticleManagerActive())return t}var n=new Gg(this.scene);return n.kill(),this.listCoinMove.push(n),n},e}(),Wg=function(e){function t(){for(var t,n,r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=e.call.apply(e,P()(t=[this]).call(t,a))||this).config=void 0,n.scale=void 0,n.isChangeSpeed=!1,n.delay=void 0,n}(0,o.Z)(t,e);var n=t.prototype;return n.init=function(e){this.config=e,this.fluctuateInitPos(),this.modifyStartScale(),this.modifyRotation(),this.modifySpeed()},n.update=function(t,n,r){var a=e.prototype.update.call(this,t,n,r);return this.updateScale(),this.changeSpeed(),a},n.updateScale=function(){var e=1-this.lifeCurrent%this.life/this.life;this.scaleX=this.scale*Math.sin(e*Math.PI),this.scaleY=this.scale*Math.sin(e*Math.PI)},n.changeSpeed=function(){if((this.lifeCurrent-this.delay)/this.life<=.5&&!this.isChangeSpeed){var e=this.lifeCurrent/1e3,t=this.config,n=t.xCenter,r=t.yCenter,a=(n-this.x)/e,i=(r-this.y)/e;this.velocityX=a,this.velocityY=i,this.isChangeSpeed=!0}},n.fluctuateInitPos=function(){var e=this.config,t=e.xCenter,n=e.yCenter,r=e.fluctuateInitPos;if(r){var a=r.min,i=r.max;this.x=this.x+Phaser.Math.Between(-50,50),this.y=this.y+Phaser.Math.Between(-50,50);var s=Math.atan2(n-this.y,t-this.x),o=Phaser.Math.Between(a,i),c=this.x-o*Math.cos(s),u=this.y-o*Math.sin(s);this.x=c,this.y=u}},n.modifyStartScale=function(){var e=this.config.randomScale;if(e){var t=e.min,n=e.max;this.scale=Phaser.Math.FloatBetween(t,n)}},n.modifyRotation=function(){if(this.config.randomRotation&&this.data.rotate){var e=Phaser.Math.Between(-45,45),t=e+e/Math.abs(e)*100;this.data.rotate.min=e,this.data.rotate.max=t,this.angle=e}},n.modifySpeed=function(){this.isChangeSpeed=!1;var e=this.config,t=e.xCenter,n=e.yCenter,r=Phaser.Math.Distance.Between(t,n,this.x,this.y);this.delay=-r/10;var a=this.life/1e3,i=(t-this.x)/a,s=(n-this.y)/a;this.velocityX=i/2,this.velocityY=s/2},t}(Phaser.GameObjects.Particles.Particle),Vg=Wg,Yg=function(e){function t(){for(var t,n,r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=e.call.apply(e,P()(t=[this]).call(t,a))||this).config=void 0,n.scale=void 0,n.isChangeSpeed=!1,n}(0,o.Z)(t,e);var n=t.prototype;return n.init=function(e){this.config=e,this.isChangeSpeed=!1,this.fluctuateInitPos(),this.modifyStartScale(),this.modifyRotation(),this.modifySpeed()},n.update=function(t,n,r){var a=e.prototype.update.call(this,t,n,r);return this.updateScale(),this.changeSpeed(),a},n.updateScale=function(){var e=1-this.lifeCurrent%this.life/this.life;this.scaleX=this.scale*Math.sin(e*Math.PI),this.scaleY=this.scale*Math.sin(e*Math.PI)},n.changeSpeed=function(){this.lifeCurrent%this.life/this.life<=.7&&!this.isChangeSpeed&&(this.velocityX=0,this.velocityY=0,this.isChangeSpeed=!0)},n.fluctuateInitPos=function(){var e=this.config,t=e.xCenter,n=e.yCenter,r=e.fluctuateInitPos;if(r){var a=r.min,i=r.max,s=Math.atan2(n-this.y,t-this.x),o=Phaser.Math.Between(a,i),c=this.x+o*Math.cos(s),u=this.y+o*Math.sin(s);this.x=c,this.y=u}},n.modifyStartScale=function(){var e=this.config.randomScale;if(e){var t=e.min,n=e.max;this.scale=Phaser.Math.FloatBetween(t,n)}},n.modifyRotation=function(){if(this.config.randomRotation&&this.data.rotate){var e=Phaser.Math.Between(0,90),t=e+e/Math.abs(e)*45;this.data.rotate.min=e,this.data.rotate.max=t,this.angle=e}},n.modifySpeed=function(){var e=this.config,t=e.xCenter,n=e.yCenter,r=e.randomSpeed;if(r){var a=r.min,i=r.max,s=Math.atan2(n-this.y,t-this.x),o=Phaser.Math.Between(a,i),c=-o*Math.cos(s),u=-o*Math.sin(s);this.velocityX=c,this.velocityY=u}},t}(Phaser.GameObjects.Particles.Particle),zg=Yg,jg=Na.Z.EFFECTS.FRAME,Xg=GameCore.Utils.Image.getImageScale(),qg=function(){function e(e){this.particleManager=void 0,this.whiteStar=void 0,this.whiteStar2=void 0,this.colorfulStar=void 0,this.currentEmitX=0,this.currentEmitY=0,this.particleManager=e,this.createWhiteStar(),this.createWhiteStar2(),this.createColorfulStar()}var t=e.prototype;return t.handleShowMoveToCenterEffect=function(e,t,n,r){this.whiteStar.setVisible(!0),this.currentEmitX=e,this.currentEmitY=t;var a=new Phaser.Geom.Rectangle(e-n/2,t-r/2,n,r);this.whiteStar.setEmitZone({type:"edge",source:a,quantity:6}),this.whiteStar.start()},t.handleShowMoveOutCenterEffect=function(e,t,n,r){this.currentEmitX=e,this.currentEmitY=t;var a=new Phaser.Geom.Rectangle(e-n/2,t-r/2,n,r);this.whiteStar2.setEmitZone({type:"edge",source:a,quantity:20}),this.colorfulStar.setEmitZone({type:"edge",source:a,quantity:8}),this.whiteStar2.explode(20,0,0),this.colorfulStar.explode(8,0,0)},t.stopMoveToCenterEffect=function(){var e=this;this.whiteStar.stop(),this.particleManager.scene.time.delayedCall(50,(function(){e.whiteStar.forEachAlive((function(e){e.velocityX=0,e.velocityY=0,e.isChangeSpeed=!0}),e)}))},t.createWhiteStar=function(){var e=this;this.whiteStar=this.particleManager.createEmitter({frame:jg.FX_STAR_WHITE,lifespan:400,quantity:6,frequency:50,alpha:{start:1,end:0,ease:Phaser.Math.Easing.Expo.In},scaleX:{start:1/0,end:0,ease:Phaser.Math.Easing.Expo.In},scaleY:{start:1/0,end:0,ease:Phaser.Math.Easing.Expo.In},rotate:{start:1/0,end:1/0},particleClass:Vg,emitCallback:function(t){t.init({xCenter:e.currentEmitX,yCenter:e.currentEmitY,fluctuateInitPos:{min:-50,max:50},randomScale:{min:1/Xg,max:1.5/Xg},randomRotation:!0})},on:!1})},t.createWhiteStar2=function(){var e=this;this.whiteStar2=this.particleManager.createEmitter({frame:jg.FX_STAR_WHITE,lifespan:{min:450,max:750},quantity:30,scaleX:{start:1/0,end:0,ease:Phaser.Math.Easing.Expo.In},scaleY:{start:1/0,end:0,ease:Phaser.Math.Easing.Expo.In},rotate:{start:1/0,end:1/0},alpha:{start:1,end:0,ease:Phaser.Math.Easing.Quadratic.In},blendMode:Phaser.BlendModes.ADD,particleClass:zg,emitCallback:function(t){t.init({xCenter:e.currentEmitX,yCenter:e.currentEmitY,fluctuateInitPos:{min:-30,max:30},randomScale:{min:.6/Xg,max:1/Xg},randomRotation:!0,randomSpeed:{min:350,max:450}})},on:!1})},t.createColorfulStar=function(){var e=this;this.colorfulStar=this.particleManager.createEmitter({frame:jg.STAR,lifespan:{min:450,max:750},quantity:8,scaleX:{start:1/0,end:0,ease:Phaser.Math.Easing.Expo.In},scaleY:{start:1/0,end:0,ease:Phaser.Math.Easing.Expo.In},rotate:{start:1/0,end:1/0},alpha:{start:1,end:0,ease:Phaser.Math.Easing.Quadratic.In},blendMode:Phaser.BlendModes.ADD,tint:[10200440,13684901,8769947,12632749,9293026,12689803,9295046,14273204],particleClass:zg,emitCallback:function(t){t.init({xCenter:e.currentEmitX,yCenter:e.currentEmitY,fluctuateInitPos:{min:0,max:30},randomScale:{min:.4/Xg,max:.6/Xg},randomRotation:!0,randomSpeed:{min:350,max:450}})},on:!1})},e}(),Qg=Na.Z.EFFECTS.FRAME,Jg=GameCore.Utils.Image.getImageScale(),$g=function(){function e(e){this.particleManager=void 0,this.explodeEmitter=void 0,this.currentEmitX=0,this.currentEmitY=0,this.particleManager=e,this.createExplodeEmitter()}var t=e.prototype;return t.explode=function(e,t,n,r,a){this.currentEmitX=t,this.currentEmitY=n;var i=new Phaser.Geom.Rectangle(t-r/2,n-a/2,r,a);"yellow"===e?this.explodeEmitter.setFrame(Qg.FX_COMET):this.explodeEmitter.setFrame(Qg.FX_STAR_WHITE),this.explodeEmitter.setEmitZone({type:"random",source:i,quantity:20}),this.explodeEmitter.explode(3,0,0)},t.createExplodeEmitter=function(){var e=this;this.explodeEmitter=this.particleManager.createEmitter({frame:Qg.FX_STAR_WHITE,lifespan:{min:550,max:650},quantity:30,scaleX:{start:1/0,end:0,ease:Phaser.Math.Easing.Expo.In},scaleY:{start:1/0,end:0,ease:Phaser.Math.Easing.Expo.In},rotate:{start:1/0,end:1/0},alpha:{start:1,end:0,ease:Phaser.Math.Easing.Quadratic.In},blendMode:Phaser.BlendModes.ADD,particleClass:zg,emitCallback:function(t){t.init({xCenter:e.currentEmitX,yCenter:e.currentEmitY,fluctuateInitPos:{min:-30,max:30},randomScale:{min:.6/Jg,max:1/Jg},randomRotation:!0,randomSpeed:{min:0,max:10}})},on:!1})},e}(),ev=Na.Z.EFFECTS,tv=ev.KEY,nv=ev.FRAME,rv=function(){function e(e){this.scene=void 0,this.particleManager=void 0,this.effectCollectCoin=void 0,this.resultEffect=void 0,this.receiveEffect=void 0,this.scene=e,this.createParticle(),this.resultEffect=new qg(this.particleManager),this.effectCollectCoin=new Hg(this.scene,this.particleManager),this.receiveEffect=new $g(this.particleManager)}return e.prototype.createParticle=function(){this.particleManager=this.scene.add.particles(tv,nv.FX_STAR_WHITE),this.particleManager.setDepth(Go.Z.SPECIAL_ANIM)},e}(),av=rv,iv=n(438),sv=function(e){function t(t,n){var r;(r=e.call(this,t)||this).payload=void 0,r.loading=void 0,r.photo=void 0,r.avtFrame=void 0,r.background=void 0,r.loadPhotoTimer=void 0,r.handleLoadPhotoAfterDelay=function(e,t){return function(){var n=r.scene.textures.get(e);n&&n.key===e?r.handleLoadComplete(e):(r.scene.load.once("filecomplete-image-"+e,r.handleLoadComplete),r.scene.load.image(e,t),r.scene.load.start())}},r.handleLoadComplete=function(e){if(r.scene){var t=r.payload,n=t.id,a=t.radius,i=void 0===a?0:a;if(n&&n===e){var s=n+"_bordered_"+i,o=i>0?s:n,c=r.scene.textures.get(o);if(c&&c.key===o)r.setPhoto(c.key);else if(0!=i&&i<100){if(!GameCore.Utils.Image.drawBorder({scene:r.scene,key:n,newKey:s,radius:i}))return void r.showLoading(!1);r.setPhoto(s)}else if(100==i){if(!GameCore.Utils.Image.drawCircle({scene:r.scene,key:n,newKey:s}))return void r.showLoading(!1);r.setPhoto(s)}else r.setPhoto(n)}}},r.handleLoadPhotoFailed=function(e){e.key===r.payload.id&&r.setDefaultAvatar(e.key)},r.scene.add.existing((0,Ca.Z)(r)),r.payload=n,r.setSize(n.width,n.height),r.createBackground(),r.createLoading(),r.createPhoto(),r.createFrame();var a=r.payload,i=a.id,s=a.url,o=a.radius;return i&&s&&r.loadPhoto(i,s,o),r.addDefaultListeners(),r}(0,o.Z)(t,e);var n=t.prototype;return n.setFrame=function(e){this.avtFrame.setFrame(e),this.avtFrame.setVisible(!0)},n.setBackground=function(e){this.background.setFrame(e)},n.loadPhoto=function(e,t,n){var r;if(void 0===n&&(n=0),this.payload.id=e,this.payload.url=t,this.payload.radius=n,null==(r=this.loadPhotoTimer)||r.remove(),e&&t){var a=this.scene.textures.get(e);if(a&&a.key===e)this.handleLoadComplete(e);else{this.showLoading(!0);var i=this.payload.loadDelay||0;this.loadPhotoTimer=this.scene.time.delayedCall(i,this.handleLoadPhotoAfterDelay(e,t))}}else this.setPhoto($r.Z.AVATAR.KEY)},n.addDefaultListeners=function(){var e=this;this.scene.load.on(Phaser.Loader.Events.FILE_LOAD_ERROR,this.handleLoadPhotoFailed),this.on(Phaser.GameObjects.Events.DESTROY,(function(){var t;null==(t=e.loadPhotoTimer)||t.remove(),e.scene.load.off(Phaser.Loader.Events.FILE_LOAD_ERROR,e.handleLoadPhotoFailed)}))},n.setDefaultAvatar=function(e){this.loadPhoto(e,$r.Z.AVATAR.FILE,this.payload.radius)},n.createBackground=function(){var e=this.payload,t=e.key,n=e.background;this.background=this.scene.make.image({key:t,frame:n}),this.background.setWorldSize(this.width,this.height),this.add(this.background)},n.createLoading=function(){this.loading=new iv.Z(this.scene),this.loading.setWorldSize(.75*this.width,.75*this.height),this.loading.setVisible(!1),this.add(this.loading)},n.createPhoto=function(){this.photo=this.scene.make.image({x:0,y:0,origin:{x:.5,y:.5},visible:!1}),this.add(this.photo)},n.createFrame=function(){var e=this.payload,t=e.key,n=e.frame,r=e.width,a=e.height;n?(this.avtFrame=this.scene.make.image({key:t,frame:n}),this.avtFrame.setWorldSize(r,a)):this.avtFrame=this.scene.make.image({x:0,y:0,origin:{x:.5,y:.5},visible:!1}),this.add(this.avtFrame)},n.changeAvatarFrame=function(e){this.avtFrame.setFrame(e),this.avtFrame.setSizeBasedOnDpr()},n.showLoading=function(e){this.photo.setVisible(!e),this.loading.setVisible(e)},n.setPhoto=function(e){this.showLoading(!1),this.photo.setTexture(e),this.photo.setFrame(0);var t=this.payload,n=t.width,r=t.height,a=Math.min(n,r)-4;this.photo.setWorldSize(a,a),Phaser.Display.Align.In.Center(this.photo,this.background)},t}(Phaser.GameObjects.Container),ov=sv,cv=Na.Z.DEFAULT,uv=cv.KEY,lv=cv.FRAME,dv=function(e){function t(t){var n;return(n=e.call(this,t)||this).scene=void 0,n.scoreText=void 0,n.timerText=void 0,n.match3Timer=void 0,n.startTime=void 0,n.pauseTime=void 0,n.seconds=void 0,n.previousScore=void 0,n.score=void 0,n.tweenAddScore=void 0,n.avatar=void 0,n.scene=t,n.setSize(375,65),n.setDepth(Go.Z.UI),n.createBackground(),n.createAvatar(),n.createScore(),t.add.existing((0,Ca.Z)(n)),n}(0,o.Z)(t,e);var n=t.prototype;return n.createBackground=function(){var e=this.scene.make.image({key:uv,frame:lv.SETTINGS_SCREEN_SWITCH_FRAME});e.setWorldSize(80,37),this.add(e),Phaser.Display.Align.In.Center(e,this,-18,0)},n.createAvatar=function(){this.avatar=new ov(this.scene,{key:uv,frame:lv.AVATAR_BORDER_CIRCLE,background:lv.AVATAR_BACKGROUND_CIRCLE,width:23,height:23}),this.add(this.avatar)},n.createScore=function(){var e=this.scene.make.text({style:{fontFamily:Ee.Z.FONT_FAMILY,fontSize:"18px"},origin:{x:1,y:.5},text:"0"});e.setHighQuality(),this.add(e);var t=e.context.createLinearGradient(0,0,0,e.height);t.addColorStop(0,"#ffffff"),t.addColorStop(1,"#cce5f9"),e.setFill(t),e.setShadow(0,6,"#0000003F",0,!1,!0),Phaser.Display.Align.In.RightCenter(e,this.avatar,-28,0),this.add(e),this.scoreText=e},n.createTimer=function(){var e=this.scene.make.text({style:{fontFamily:Ee.Z.FONT_FAMILY,fontSize:"10px"},text:"00:00",origin:{x:.5,y:.5}});e.setHighQuality(),this.add(e);var t=e.context.createLinearGradient(0,0,0,e.height);t.addColorStop(0,"#ffffff"),t.addColorStop(1,"#cce5f9"),e.setFill(t),e.setShadow(0,6,"#0000003F",0,!1,!0),Phaser.Display.Align.In.Center(e,this,0,10),this.add(e),this.timerText=e},n.runMatch3Timer=function(){var e,t=this;this.startTime=performance.now(),this.score=0,null==(e=this.match3Timer)||e.remove(),this.match3Timer=this.scene.time.addEvent({delay:100,loop:!0,callback:function(){t.updateTime()}})},n.resetTexts=function(){var e;null==(e=this.match3Timer)||e.remove(),this.scoreText.setText("0")},n.updateTime=function(){var e=performance.now()-this.startTime;this.seconds=Math.floor(e/1e3)},n.pauseTimer=function(){var e;this.pauseTime=performance.now(),null==(e=this.match3Timer)||e.remove()},n.resumeTimer=function(){var e,t=this;this.startTime=performance.now()-(this.pauseTime-this.startTime),null==(e=this.match3Timer)||e.remove(),this.match3Timer=this.scene.time.addEvent({delay:100,loop:!0,callback:function(){t.updateTime()}})},n.updateScoreWhenMatch3=function(){this.previousScore=this.score;var e=[100,90,80,70,60,50];this.startTime=performance.now(),this.seconds<=2?this.score+=e[0]:this.seconds<=4?this.score+=e[1]:this.seconds<=8?this.score+=e[2]:this.seconds<=16?this.score+=e[3]:this.seconds<=20?this.score+=e[4]:this.score+=e[5],this.runTweenAddScore()},n.runTweenAddScore=function(){var e=(0,s.Z)(d().mark((function e(){var t,n,r,a=this;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==(t=this.tweenAddScore)||!t.isPlaying()){e.next=3;break}return e.next=3,this.tweenAddScore.waitForCompletion();case 3:return r=this.scene.header,null==(n=this.tweenAddScore)||n.remove(),this.tweenAddScore=this.scene.tweens.addCounter({from:this.previousScore,to:this.score,duration:100,ease:Phaser.Math.Easing.Sine.Out,onUpdate:function(e){var t=Math.floor(e.getValue());a.scoreText.setText(t.toString()),r.setSmallText(t)},onComplete:function(){a.scoreText.setText(a.score.toString()),r.setSmallText(a.score)}}),e.abrupt("return",this.tweenAddScore.waitForCompletion());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.getScore=function(){return this.score},n.loadPhoto=function(e,t,n){this.avatar.loadPhoto(e,t,n)},t}(Phaser.GameObjects.Container),hv=dv,pv=Na.Z.DEFAULT,fv=pv.KEY,mv=pv.FRAME,gv=function(e){function t(t){var n;return(n=e.call(this,t)||this).scoreText=void 0,n.avatar=void 0,n.scene=t,n.setSize(375,65),n.setDepth(Go.Z.UI),n.createBackground(),n.createAvatar(),n.createScore(),t.add.existing((0,Ca.Z)(n)),n}(0,o.Z)(t,e);var n=t.prototype;return n.createBackground=function(){var e=Na.Z.DEFAULT,t=e.KEY,n=e.FRAME,r=this.scene.make.image({key:t,frame:n.SETTINGS_SCREEN_SWITCH_FRAME});r.setWorldSize(80,37),this.add(r),Phaser.Display.Align.In.Center(r,this,18,0)},n.createAvatar=function(){this.avatar=new ov(this.scene,{key:fv,frame:mv.AVATAR_BORDER_CIRCLE,background:mv.AVATAR_BACKGROUND_CIRCLE,width:23,height:23}),this.add(this.avatar)},n.createScore=function(){var e=this.scene.make.text({style:{fontFamily:Ee.Z.FONT_FAMILY,fontSize:"18px"},origin:{x:0,y:.5},text:"0"});e.setHighQuality(),this.add(e);var t=e.context.createLinearGradient(0,0,0,e.height);t.addColorStop(0,"#ffffff"),t.addColorStop(1,"#cce5f9"),e.setFill(t),e.setShadow(0,6,"#0000003F",0,!1,!0),Phaser.Display.Align.In.LeftCenter(e,this.avatar,-28,0),this.add(e),this.scoreText=e},n.setScore=function(e){this.scoreText.setText(e.toString())},n.loadPhoto=function(e,t,n){this.avatar.loadPhoto(e,t,n)},t}(Phaser.GameObjects.Container),vv=gv,yv=n(127),kv=n.n(yv),bv=Na.Z.DEFAULT,Ev=bv.KEY,xv=bv.FRAME,Sv=function(e){function t(t){var n;return(n=e.call(this,t)||this).background=void 0,n.topPanel=void 0,n.playerAvatar=void 0,n.playerName=void 0,n.bottomPanel=void 0,n.opponentAvatar=void 0,n.opponentName=void 0,n.vsIcon=void 0,n.createUI(),n.alignUI(),n.setDepth(Go.Z.POPUP),n.scene.add.existing((0,Ca.Z)(n)),n}(0,o.Z)(t,e);var n=t.prototype;return n.createUI=function(){this.createBackground(),this.createTopPanel(),this.createBottomPanel(),this.createPlayer(),this.createOpponent(),this.createVsIcon()},n.alignUI=function(){Phaser.Display.Align.In.RightCenter(this.topPanel,this.background,0,-100),Phaser.Display.Align.In.LeftCenter(this.bottomPanel,this.background,0,100)},n.createBackground=function(){var e=this.scene.world.getWorldSize(),t=e.width,n=e.height;this.background=this.scene.make.image({key:Ev,frame:xv.BLANK}),this.background.setWorldSize(t,n+20),this.setSize(t,n),this.background.setAlpha(0),this.background.setPosition(0,0).setTint(0).setInteractive(),this.add(this.background)},n.createTopPanel=function(){this.topPanel=this.scene.add.container(0,0);var e=Na.Z.DEFAULT,t=e.KEY,n=e.FRAME,r=this.scene.make.image({key:t,frame:n.SETTINGS_SCREEN_SWITCH_FRAME});r.setWorldSize(220,101),r.setVisible(!1),this.topPanel.add(r),this.topPanel.setSize(220,101),this.add(this.topPanel)},n.createBottomPanel=function(){this.bottomPanel=this.scene.add.container(0,0);var e=Na.Z.DEFAULT,t=e.KEY,n=e.FRAME,r=this.scene.make.image({key:t,frame:n.SETTINGS_SCREEN_SWITCH_FRAME});r.setWorldSize(220,101),r.setVisible(!1),this.bottomPanel.add(r),this.bottomPanel.setSize(220,101),this.add(this.bottomPanel)},n.createVsIcon=function(){this.vsIcon=this.scene.make.text({style:{fontFamily:Ee.Z.FONT_FAMILY,fontSize:"26px"},origin:{x:.5,y:.5},text:"VS"}),this.vsIcon.setHighQuality(),this.add(this.vsIcon)},n.createPlayer=function(){this.playerAvatar=new ov(this.scene,{width:50,height:50,key:Ev,frame:xv.AVATAR_BORDER,background:xv.BLANK}),this.playerAvatar.loadPhoto("","",20),this.playerAvatar.background.setVisible(!1),this.playerName=this.scene.make.text({style:{fontFamily:Ee.Z.FONT_FAMILY,fontSize:"26px"},origin:{x:0,y:.5}}),this.playerName.setHighQuality(),this.topPanel.add([this.playerAvatar,this.playerName]),Phaser.Display.Align.In.LeftCenter(this.playerAvatar,this.topPanel,-40,0),Phaser.Display.Align.To.RightCenter(this.playerName,this.playerAvatar,20,0)},n.createOpponent=function(){this.opponentAvatar=new ov(this.scene,{width:50,height:50,key:Ev,frame:xv.AVATAR_BORDER,background:xv.BLANK}),this.opponentAvatar.loadPhoto("","",20),this.opponentAvatar.background.setVisible(!1),this.opponentName=this.scene.make.text({style:{fontFamily:Ee.Z.FONT_FAMILY,fontSize:"26px"},origin:{x:1,y:.5}}),this.playerName.setHighQuality(),this.bottomPanel.add([this.opponentAvatar,this.opponentName]),Phaser.Display.Align.In.RightCenter(this.opponentAvatar,this.bottomPanel,-40,0),Phaser.Display.Align.To.LeftCenter(this.opponentName,this.opponentAvatar,20,0)},n.runAnimation=function(){var e=this;this.topPanel.x=200,this.bottomPanel.x=-200,this.revive();var t=200;return new(u())((function(n){e.runBackgroundAnimation(t),e.scene.add.tween({delay:200,targets:[e.topPanel],x:{from:200,to:30},duration:166.7}),e.scene.add.tween({delay:366.7,targets:[e.topPanel],x:{from:30,to:-10},duration:600}),e.scene.add.tween({delay:966.7,targets:[e.topPanel],x:{from:-10,to:-300},duration:300}),e.scene.add.tween({delay:200,targets:[e.bottomPanel],x:{from:-200,to:-30},duration:166.7}),e.scene.add.tween({delay:366.7,targets:[e.bottomPanel],x:{from:-30,to:10},duration:500}),e.scene.add.tween({delay:966.7,targets:[e.bottomPanel],x:{from:10,to:300},duration:300,onComplete:function(){e.kill(),n()}}),e.runVsIconAnimation(t)}))},n.runBackgroundAnimation=function(e){void 0===e&&(e=0),this.scene.add.tween({delay:0,targets:[this.background],alpha:{from:0,to:200/255},duration:900}),this.scene.add.tween({delay:e+900,targets:[this.background],alpha:{from:200/255,to:0},duration:100})},n.runVsIconAnimation=function(e){void 0===e&&(e=100),this.scene.add.tween({delay:e+0,targets:[this.vsIcon],scale:{from:0,to:1.2},duration:200,curve:[.08,.389,.156,1.2,.08,.389,.156,1.2]}),this.scene.add.tween({delay:e+200,targets:[this.vsIcon],scale:.93,duration:200,curve:[.267,1.2,.333,.93,.267,1.2,.333,.93]}),this.scene.add.tween({delay:e+800,targets:[this.vsIcon],scale:.86,duration:66}),this.scene.add.tween({delay:e+866,targets:[this.vsIcon],scale:1.711,duration:167,curve:[.922,.86,1.016,1.603,.922,.86,1.016,1.603]}),this.scene.add.tween({targets:[this.vsIcon],delay:e+0,alpha:{from:0,to:1},duration:200,curve:[.111,1,.156,1,.111,1,.156,1,.111,1,.156,1,.083,.58,.156,1]}),this.scene.add.tween({targets:[this.vsIcon],delay:e+866.7,alpha:{from:1,to:0},duration:1033.3-866.7,curve:[.922,1,.978,1,.922,1,.978,1,.922,1,.978,1,.922,1,1.016,.13]})},n.setTopPlayerData=function(e,t,n){this.playerAvatar.loadPhoto(e,t,20),n=this.getValidName(n),this.playerName.setText(n)},n.setBottomPlayerData=function(e,t,n){this.opponentAvatar.loadPhoto(e,t,20),n=this.getValidName(n),this.opponentName.setText(n)},n.getValidName=function(e){return(e=kv()(e).call(e)).length>10&&(e=x()(e).call(e,0,7)+"..."),e},t}(Phaser.GameObjects.Container),wv=Sv,Av=function(e){function t(t){var n;return(n=e.call(this,t)||this).scene=void 0,n.scoreBlock=void 0,n.friendScoreBlock=void 0,n.challengeInfo=void 0,n.isRunMatch3Timer=void 0,n.scene=t,n.setSize(375,65),n.setDepth(Go.Z.UI),n.createChallengeInfo(),n.createScoreBlock(),n.createFriendScoreBlock(),t.add.existing((0,Ca.Z)(n)),n}(0,o.Z)(t,e);var n=t.prototype;return n.createChallengeInfo=function(){this.challengeInfo=new wv(this.scene),this.challengeInfo.setDepth(Go.Z.ON_TOP),Phaser.Display.Align.In.Center(this.challengeInfo,this.scene.gameZone,0,0),this.challengeInfo.kill()},n.createScoreBlock=function(){this.scoreBlock=new hv(this.scene),this.add(this.scoreBlock),Phaser.Display.Align.In.Center(this.scoreBlock,this,-30,-3)},n.createFriendScoreBlock=function(){this.friendScoreBlock=new vv(this.scene),this.add(this.friendScoreBlock),Phaser.Display.Align.In.Center(this.friendScoreBlock,this,30,-3)},n.showAvatars=function(){var e=(0,s.Z)(d().mark((function e(){var t,n,r,a,i,s,o,c,u,l,h,p,f,m,g,v;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.challengeInfo.revive(),this.scoreBlock.revive(),this.friendScoreBlock.revive(),t=this.scene.storage.getState(),n=this.scene.player.getPlayer(),r=n.playerId,a=n.photo,i=n.name,s=Gc(t),o=s.playerId,c=s.photo,u=s.name,this.challengeInfo.setTopPlayerData(r,a,i),this.challengeInfo.setBottomPlayerData(o,c,u),l=Gc(t),h=l.playerId,p=l.photo,this.scoreBlock.loadPhoto(r,a,100),this.friendScoreBlock.loadPhoto(h,p,100),f=Vc(t),m=f[h]||{},g=m.score,v=void 0===g?0:g,this.friendScoreBlock.setScore(v),e.next=16,this.challengeInfo.runAnimation();case 16:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.updateScoreWhenMatch3InModeSocial=function(){var e;null==(e=this.scoreBlock)||e.updateScoreWhenMatch3()},n.resetScoreBlock=function(){var e;this.isRunMatch3Timer=!1,null==(e=this.scoreBlock)||e.resetTexts()},n.getScoreChallenge=function(){var e;return null==(e=this.scoreBlock)?void 0:e.getScore()},n.runMatch3Timer=function(){var e;this.isRunMatch3Timer||(this.isRunMatch3Timer=!0,null==(e=this.scoreBlock)||e.runMatch3Timer())},n.pauseTimer=function(){var e;null==(e=this.scoreBlock)||e.pauseTimer()},n.resumeTimer=function(){var e;null==(e=this.scoreBlock)||e.resumeTimer()},t}(Phaser.GameObjects.Container),Cv=Av,Tv=function(e){function t(t){var n;return(n=e.call(this,t)||this).scene=void 0,n.bigText=void 0,n.smallText=void 0,n.challengeBlock=void 0,n.scene=t,n.setSize(375,65),n.setDepth(Go.Z.UI),n.createChallengeBlock(),n.createBigText(),n.createSmallText(),t.add.existing((0,Ca.Z)(n)),n}(0,o.Z)(t,e);var n=t.prototype;return n.createChallengeBlock=function(){this.challengeBlock=new Cv(this.scene),this.challengeBlock.setDepth(Go.Z.ON_TOP),this.add(this.challengeBlock),Phaser.Display.Align.In.Center(this.challengeBlock,this,0,0),this.challengeBlock.kill()},n.setTextLevel=function(e){var t=this.scene.lang.Text.LEVEL;this.bigText.setText(t+" "+e),this.bigText.style.setFontSize("20px")},n.updateTournamentText=function(e){this.bigText.setText(e.toUpperCase());var t=15;do{this.bigText.style.setFontSize(t+"px"),t--}while(this.isBigTextToBig())},n.isBigTextToBig=function(){var e=this.bigText;return e.getWorldPosition().x-e.displayWidth/2<=this.scene.navigation.getGameplaySettingButtonRightEdgeWorldX()},n.setSmallText=function(e){if("number"===typeof e)this.smallText.setText("SCORE: "+e);else{var t=this.scene.lang.Text[e];this.smallText.setText(t.toUpperCase())}},n.updateTextDate=function(){var e,t=new Date,n=["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"][t.getMonth()]+" "+Gs()(e=String(t.getDate())).call(e,2,"0")+", "+t.getFullYear();this.smallText.setText(n)},n.prepareFadeIn=function(){this.bigText.setAlpha(0),this.smallText.setAlpha(0)},n.fadeIn=function(){var e=(0,s.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ya([this.bigText,this.smallText],200,300));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.fadeOut=function(){var e=(0,s.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ja([this.bigText,this.smallText],100,150));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.createBigText=function(){var e=this.scene.make.text({style:{fontFamily:Ee.Z.FONT_FAMILY,fontSize:"20px"},text:"LEVEL 999",origin:{x:.5,y:.5}});e.setHighQuality(),this.add(e);var t=e.context.createLinearGradient(0,0,0,e.height);t.addColorStop(0,"#ffffff"),t.addColorStop(1,"#cce5f9"),e.setFill(t),e.setShadow(0,6,"#0000003F",0,!1,!0),Phaser.Display.Align.In.Center(e,this,0,-10),this.bigText=e},n.createSmallText=function(){var e=this.scene.make.text({style:{fontFamily:Ee.Z.FONT_FAMILY,fontSize:"10px"},text:"EXCEL",origin:{x:.5,y:.5}});e.setHighQuality(),this.add(e);var t=e.context.createLinearGradient(0,0,0,e.height);t.addColorStop(0,"#ffffff"),t.addColorStop(1,"#cce5f9"),e.setFill(t),e.setShadow(0,6,"#0000003F",0,!1,!0),Phaser.Display.Align.In.Center(e,this,0,10),this.smallText=e},n.setupCurGameMode=function(){var e=(0,s.Z)(d().mark((function e(){var t,n,r,a,i,s,o,c,u,l,h,p,f,m,g,v,k,b,E,x,S,w,A,C,T,L,I,P,_;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.scene.storage.getState(),a=oa(r),this.resetScoreBlock(),!y()(t=[aa]).call(t,a)){e.next=11;break}return e.next=6,this.scene.tournament.getCurrentTournament();case 6:s=e.sent,o=null!=(i=null==s?void 0:s.title)?i:"WORLD TOURNAMENT",this.updateTournamentText(o),e.next=13;break;case 11:c=this.scene.level.getLevel(),this.setTextLevel(c);case 13:if(!window.levelCustom||na!=a){e.next=34;break}return this.bigText.setVisible(!1),this.smallText.setVisible(!1),this.challengeBlock.revive(),u=this.challengeBlock,l=u.scoreBlock,h=u.friendScoreBlock,(p=u.challengeInfo).revive(),f=this.scene.storage.getState(),m=this.scene.player.getPlayer(),g=m.playerId,v=m.photo,k=m.name,b=Gc(f),E=b.playerId,x=b.photo,S=b.name,p.setTopPlayerData(g,v,k),p.setBottomPlayerData(E,x,S),w=Gc(f),A=w.playerId,C=w.photo,l.loadPhoto(g,v,100),h.loadPhoto(A,C,100),T=Vc(f),L=T[A]||{},I=L.score,P=void 0===I?0:I,h.setScore(P),e.next=32,p.runAnimation();case 32:e.next=38;break;case 34:this.bigText.setVisible(!0),this.smallText.setVisible(!0),null==(_=this.challengeBlock)||_.challengeInfo.kill(),this.challengeBlock.kill();case 38:y()(n=[ia]).call(n,a)&&(this.bigText.setText("Daily Challenge"),this.updateTextDate());case 39:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.updateScoreWhenMatch3InModeSocial=function(){var e;null==(e=this.challengeBlock.scoreBlock)||e.updateScoreWhenMatch3()},n.resetScoreBlock=function(){var e;this.challengeBlock.isRunMatch3Timer=!1,null==(e=this.challengeBlock.scoreBlock)||e.resetTexts()},n.getScoreChallenge=function(){var e,t;return null!=(e=null==(t=this.challengeBlock.scoreBlock)?void 0:t.getScore())?e:0},n.runMatch3Timer=function(){var e;this.challengeBlock.isRunMatch3Timer||(this.challengeBlock.isRunMatch3Timer=!0,null==(e=this.challengeBlock.scoreBlock)||e.runMatch3Timer())},n.pauseTimer=function(){var e;null==(e=this.challengeBlock.scoreBlock)||e.pauseTimer()},n.resumeTimer=function(){var e;null==(e=this.challengeBlock.scoreBlock)||e.resumeTimer()},t}(Phaser.GameObjects.Container),Lv=Tv,Iv=function(e){function t(t){var n;return(n=e.call(this,t)||this).scene=void 0,n.starterBlock=void 0,n.otherPackBlock=void 0,n.handleWatchAd=function(e,t){return(0,s.Z)(d().mark((function r(){return d().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,to(n.name);case 2:if(r.sent){r.next=5;break}return r.abrupt("return");case 5:n.scene.handleReceivePack(e,t),n.scene.analytics.event(sn._.SHOP_WATCH_ADS,{items:e,coin:t});case 7:case"end":return r.stop()}}),r)})))},n.handleIAP=function(e,t){return(0,s.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))},n.scene=t,n.updateSize(),n}(0,o.Z)(t,e);var n=t.prototype;return n.updateSize=function(){var e=Rv.WIDTH,t=Rv.HEIGHT;this.setSize(e,t)},n.createStarterBlock=function(){if(!this.starterBlock){var e=this.starterBlockPool.spawn();this.add(e),this.starterBlock=e}},n.createOtherPackBlock=function(){if(!this.otherPackBlock){var e=this.otherPackBlockPool.spawn();this.add(e),this.otherPackBlock=e}},n.updateInfo=function(e){var t,n,r,a,i,s,o,c,u,l,d,h,p,f,m,g,v=this,y=e.idx,k=this.getPackPayload(y),b=k.type,E=k.itemsWithCounts,x=k.coinCount,S=k.endTime,w=k.button;"starter"===b?(this.createStarterBlock(),this.returnOtherPackToPool(),null==(p=this.starterBlock)||p.revive(),null==(f=this.otherPackBlock)||f.kill()):(this.returnStaterToPool(),this.createOtherPackBlock(),null==(m=this.starterBlock)||m.kill(),null==(g=this.otherPackBlock)||g.revive());var A,C=this.scene.lang.Text.SUPER_PACK;switch(b){case"super":null==(t=this.otherPackBlock)||t.title.setText(C),this.setName("SUPER PACK"),null==(n=this.otherPackBlock)||n.superChest.revive(),null==(r=this.otherPackBlock)||r.megaChest.kill(),null==(a=this.otherPackBlock)||a.setBackgroundColor("blue");break;case"mega":null==(i=this.otherPackBlock)||i.title.setText("MEGA PACK"),null==(s=this.otherPackBlock)||s.superChest.kill(),null==(o=this.otherPackBlock)||o.megaChest.revive(),null==(c=this.otherPackBlock)||c.setBackgroundColor("blue");break;case"brilliant":null==(u=this.otherPackBlock)||u.title.setText("BRILLIANT PACK"),null==(l=this.otherPackBlock)||l.superChest.kill(),null==(d=this.otherPackBlock)||d.megaChest.revive(),null==(h=this.otherPackBlock)||h.setBackgroundColor("violet")}([this.starterBlock,this.otherPackBlock].forEach((function(e){if(e){e.setCoinPileCount(x);var t=e.itemWithCountGroup,n=e.buttonContainer;if(t.showItems(E),"ad"===w)return n.showButton("orange"),void(n.onClick=v.handleWatchAd(E,x));var r=w.price,a=w.currency;n.showButton("blue"),n.setPriceText(r,a),n.onClick=v.handleIAP(E,x)}})),"number"===typeof S)&&(null==(A=this.starterBlock)||A.startCountDown(S))},n.getPackPayload=function(e){return this.getShopScreen().packPayloads[e]},n.returnStaterToPool=function(){this.starterBlock&&(this.starterBlockPool.kill(this.starterBlock),this.starterBlock=void 0)},n.returnOtherPackToPool=function(){this.otherPackBlock&&(this.otherPackBlockPool.kill(this.otherPackBlock),this.otherPackBlock=void 0)},n.getShopScreen=function(){return this.scene.screen.get(tn.o4.SHOP_SCREEN)},(0,le.Z)(t,[{key:"starterBlockPool",get:function(){return this.getShopScreen().starterBlockPool}},{key:"otherPackBlockPool",get:function(){return this.getShopScreen().otherPackBlockPool}}]),t}(Phaser.GameObjects.Container),Pv=Iv,_v=co()(.38,1.37,.64,1),Bv=function(e){function t(t){var n;return(n=e.call(this,t)||this).scene=void 0,n.inside=void 0,n.blocksAnimation=void 0,n.scene=t,n.updateSize(),n.createInside(),n}(0,o.Z)(t,e);var n=t.prototype;return n.updateInfo=function(e){this.inside.updateInfo(e),this.setInsideBlockAlpha(1)},n.updateSize=function(){this.setSize(t.WIDTH,t.HEIGHT)},n.createInside=function(){var e=new Pv(this.scene);this.add(e),this.inside=e},n.playEntranceAnimation=function(){var e=(0,s.Z)(d().mark((function e(t){var n,r=this;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null==(n=this.blocksAnimation)||n.remove(),this.inside.setScale(0),this.inside.setAlpha(1),this.blocksAnimation=this.scene.add.tween({targets:this.inside,ease:_v,duration:500,delay:100*t,props:{scale:1},onUpdate:function(){r.alignInTopCenter(r.inside)}}),e.abrupt("return",this.blocksAnimation.waitForCompletion());case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),n.playExitAnimation=function(){var e=(0,s.Z)(d().mark((function e(){var t,n=this;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null==(t=this.blocksAnimation)||t.remove(),this.blocksAnimation=this.scene.add.tween({targets:this.inside,duration:200,props:{alpha:0},onComplete:function(){n.inside.returnStaterToPool(),n.inside.returnOtherPackToPool()}}),e.abrupt("return",this.blocksAnimation.waitForCompletion());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.alignInTopCenter=function(e){e.setY((e.displayHeight-this.displayHeight)/2)},n.setInsideBlockAlpha=function(e){this.inside.setAlpha(e)},t}(Phaser.GameObjects.Container);Bv.WIDTH=357.5,Bv.HEIGHT=193.5;var Ov,Rv=Bv,Mv=function(){function e(e,t,n){this.pool=[],this.scene=void 0,this.type=void 0,this.scene=e,this.type=t,this.createReadyItems(n)}var t=e.prototype;return t.createReadyItems=function(e){var t=this;this.pool=w()({length:e},(function(){var e=new t.type(t.scene);return e.kill(),e}))},t.spawn=function(){var e,t=B()(e=this.pool).call(e,(function(e){return!e.active}));return t?(t.revive(),t):new this.type(this.scene)},t.kill=function(e){var t,n;e.kill(),null==(t=e.parentContainer)||t.remove(e),y()(n=this.pool).call(n,e)||this.pool.push(e)},e}(),Nv=Mv,Dv=Na.Z.DEFAULT,Fv=Dv.KEY,Gv=Dv.FRAME,Zv=function(e){function t(t){var n;return(n=e.call(this,t)||this).blueButton=void 0,n.priceText=void 0,n.orangeButton=void 0,n.onClick=void 0,n.createBlueButtonWithPrice(),n.createOrangeButton(),n.showButton("orange"),n}(0,o.Z)(t,e);var n=t.prototype;return n.createBlueButtonWithPrice=function(){var e=this,t=new io.Z(this.scene,Fv,Gv.SHOP_SCREEN_BTN_BLUE,107,38),n=this.scene.make.bitmapText({font:Ee.Z.NUMBERS.KEY,size:this.scene.fontSize(45),text:"29000",origin:{x:.5,y:.5}});t.add(n),this.add(t),t.onClick=function(){null==e.onClick||e.onClick()},this.blueButton=t,this.priceText=n},n.createOrangeButton=function(){var e=this,t=new io.Z(this.scene,Fv,Gv.SHOP_SCREEN_BTN_ORANGE,134.5,37),n=this.scene.make.image({key:Fv,frame:Gv.SHOP_SCREEN_ICON_AD});n.setWorldSize(22,17);var r=this.scene.make.image({key:Fv,frame:Gv.SHOP_SCREEN_WATCH_AD});r.setSizeBasedOnDpr(),t.add([n,r]),n.setX(-40),r.setX(13),this.add(t),t.onClick=function(){null==e.onClick||e.onClick()},this.orangeButton=t},n.showButton=function(e){var t=this.blueButton,n=this.orangeButton;"blue"===e?(t.revive(),n.kill(),t.setName(so.SHOP_IAP)):(t.kill(),n.revive(),n.setName(so.SHOP_ADS))},n.setPriceText=function(e,t){var n=this.addDots(e.toString()),r=this.currencyToSymbol(t);this.priceText.setText(r+" "+n)},n.currencyToSymbol=function(e){return"\u0111"},n.addDots=function(e){return e.replace(/\B(?=(\d{3})+(?!\d))/g,".")},t}(Phaser.GameObjects.Container),Uv=Zv,Kv=Na.Z.DEFAULT,Hv=Kv.KEY,Wv=Kv.FRAME,Vv=((Ov={})[Wv.SHOP_SCREEN_ICON_HELP]={width:22,height:28.5},Ov[Wv.SHOP_SCREEN_ICON_SHUFFLE]={width:24.5,height:26.5},Ov[Wv.SHOP_SCREEN_ICON_UNDO]={width:26.5,height:27},Ov[Wv.SHOP_SCREEN_ICON_THUNDER]={width:18,height:29},Ov),Yv=function(e){function t(t,n){var r;return(r=e.call(this,t)||this).icon=void 0,r.countText=void 0,r.createIcon(),r.createCount(),r.setIcon(n),r}(0,o.Z)(t,e);var n=t.prototype;return n.createIcon=function(){var e=this.scene.make.image({key:Hv,frame:Wv.SHOP_SCREEN_ICON_HELP});e.setWorldSize(22,28.5),this.add(e),e.setY(-12),this.icon=e},n.createCount=function(){var e=this.scene.make.text({text:"x25",style:{fontFamily:Ee.Z.FONT_FAMILY,fontSize:"16px"},origin:{x:.5,y:.5}});e.setHighQuality();var t=e.context.createLinearGradient(0,0,0,e.height);t.addColorStop(0,"#ffffff"),t.addColorStop(1,"#cce5f9"),e.setFill(t),e.setShadow(0,2,"#000000",0,!1,!0),this.add(e),e.setY(10),this.countText=e},n.setIcon=function(e){var t=Vv[e],n=t.width,r=t.height;this.icon.setTexture(Hv,e),this.icon.setWorldSize(n,r)},n.setCount=function(e){this.countText.setText("x"+e)},t}(Phaser.GameObjects.Container),zv=Yv,jv=Na.Z.DEFAULT.FRAME,Xv={undo:jv.SHOP_SCREEN_ICON_UNDO,magicWand:jv.SHOP_SCREEN_ICON_HELP,shuffle:jv.SHOP_SCREEN_ICON_SHUFFLE,return:jv.SHOP_SCREEN_ICON_THUNDER,extraSlot:jv.SHOP_SCREEN_ICON_THUNDER},qv=function(e){function t(t){var n;return(n=e.call(this,t)||this).itemsWithCounts=void 0,n.createItemsWithCounts(),n}(0,o.Z)(t,e);var n=t.prototype;return n.createItemsWithCounts=function(){this.itemsWithCounts={undo:new zv(this.scene,Xv.undo),magicWand:new zv(this.scene,Xv.magicWand),shuffle:new zv(this.scene,Xv.shuffle),return:new zv(this.scene,Xv.return),extraSlot:new zv(this.scene,Xv.extraSlot)},this.add(xr()(this.itemsWithCounts))},n.showItems=function(e){var t=this;xr()(this.itemsWithCounts).forEach((function(e){e.kill()})),e.forEach((function(e,n,r){var a=e.item,i=e.count,s=r.length,o=t.itemsWithCounts[a];o.setCount(i),o.revive(),o.setX(45*(n-(s-1)/2))}))},t}(Phaser.GameObjects.Container),Qv=qv,Jv=Na.Z.DEFAULT,$v=Jv.KEY,ey=Jv.FRAME,ty=function(e){function t(t){var n;return(n=e.call(this,t)||this).scene=void 0,n.coinPileCountText=void 0,n.itemWithCountGroup=void 0,n.chestContainer=void 0,n.timeLeftText=void 0,n.countDownEvent=void 0,n.buttonContainer=void 0,n.chestPulsateAnimation=void 0,n.updateCountDown=function(e){var t=1e3*e-Date.now();t=Math.max(t,0);var r=Math.floor(Math.abs(t)/864e5);t-=864e5*r,t=Math.max(t,0);var a=Math.floor(Math.abs(t)/36e5);t-=36e5*a,t=Math.max(t,0);var i=Math.floor(Math.abs(t)/6e4);t-=6e4*i,t=Math.max(t,0);var s,o=Math.round(Math.abs(t)/1e3),c=a;0===c&&(60*i+o>0?c=1:(null==(s=n.countDownEvent)||s.remove(),n.countDownEvent=void 0));var u="Limited time:\n"+r+"d "+c+"h";n.timeLeftText.setText(u)},n.scene=t,n.updateSize(),n.createBackground(),n.createTagValue(),n.createRibbon(),n.createCoinPile(),n.createCoinPileCount(),n.createItemWithCountGroup(),n.createStarterChest(),n.createTimeLeft(),n.createButtonContainer(),n.playChestPulsateAnimation(),n}(0,o.Z)(t,e);var n=t.prototype;return n.updateSize=function(){var e=Rv.WIDTH,t=Rv.HEIGHT;this.setSize(e,t)},n.createBackground=function(){var e=this.scene.make.image({key:$v,frame:ey.SHOP_SCREEN_POPUP_BLUE});e.setWorldSize(Rv.WIDTH,Rv.HEIGHT),this.add(e)},n.createTagValue=function(){var e=this.scene.add.container();e.setSize(56,58);var t=this.scene.make.image({key:$v,frame:ey.SHOP_SCREEN_TAG_VALUE});t.setWorldSize(56,58);var n=this.scene.make.text({text:"Value\nx3",style:{fontFamily:Ee.Z.FONT_FAMILY,fontSize:"12px",align:"center"},origin:{x:.5,y:.5}});n.setHighQuality();var r=n.context.createLinearGradient(0,0,0,n.height);r.addColorStop(0,"#ffffff"),r.addColorStop(1,"#cce5f9"),n.setFill(r),n.setShadow(0,2,"#000000",0,!1,!0),e.add([t,n]),n.setY(-3),this.add(e),Phaser.Display.Align.In.TopLeft(e,this,5,20)},n.createRibbon=function(){var e=this.scene.add.container();e.setSize(214,43.5);var t=this.scene.make.image({key:$v,frame:ey.SHOP_SCREEN_RIBBON_PINK});t.setWorldSize(214,43.5);var n=this.scene.make.text({style:{fontFamily:Ee.Z.FONT_FAMILY,fontSize:"20px"},text:"STARTER PACK",origin:{x:.5,y:.5}});n.setHighQuality();var r=n.context.createLinearGradient(0,0,0,n.height);r.addColorStop(0,"#ffffff"),r.addColorStop(1,"#cce5f9"),n.setFill(r),n.setShadow(0,2,"#000000",0,!1,!0),e.add([t,n]),n.setY(-7),this.add(e),Phaser.Display.Align.In.TopCenter(e,this,0,10)},n.createCoinPile=function(){var e=this.scene.make.image({key:$v,frame:ey.SHOP_SCREEN_COIN_PILE});e.setWorldSize(40,36.5),this.add(e),e.setPosition(-90,-35)},n.createCoinPileCount=function(){var e=this.scene.make.text({text:"x 500",style:{fontFamily:Ee.Z.FONT_FAMILY,fontSize:"16px"},origin:{x:0,y:.5}});e.setHighQuality();var t=e.context.createLinearGradient(0,0,0,e.height);t.addColorStop(0,"#ffffff"),t.addColorStop(1,"#cce5f9"),e.setFill(t),e.setShadow(0,2,"#000000",0,!1,!0),this.add(e),e.setPosition(-65,-35),this.coinPileCountText=e},n.setCoinPileCount=function(e){this.coinPileCountText.setText("x "+e)},n.createItemWithCountGroup=function(){var e=new Qv(this.scene);e.showItems([{item:"magicWand",count:5}]),this.add(e),e.setPosition(-62.5,15),this.itemWithCountGroup=e},n.createStarterChest=function(){var e=this.scene.add.container();e.setSize(157,153);var t=this.scene.make.image({key:$v,frame:ey.SHOP_SCREEN_SUN_RAY_YELLOW});t.setWorldSize(157,152);var n=this.scene.make.image({key:$v,frame:ey.SHOP_SCREEN_ITEM_STARTER});n.setWorldSize(102.5,121.5),n.setPosition(15,-5),e.add([t,n]),this.add(e),Phaser.Display.Align.In.RightCenter(e,this),this.chestContainer=e},n.createTimeLeft=function(){var e=this.scene.make.text({text:"Limited time:\n1d 23h",style:{fontFamily:Ee.Z.FONT_FAMILY,fontSize:"15px",align:"center"},origin:{x:.5,y:.5}});e.setHighQuality(),this.add(e),e.setPosition(-129,70),this.timeLeftText=e},n.createButtonContainer=function(){var e=new Uv(this.scene);this.add(e),e.setY(70),this.buttonContainer=e},n.startCountDown=function(e){var t,n=this;null==(t=this.countDownEvent)||t.remove(),this.countDownEvent=this.scene.time.addEvent({delay:1e3,loop:!0,startAt:1e3,callback:function(){n.updateCountDown(e)}})},n.playChestPulsateAnimation=function(){var e;null==(e=this.chestPulsateAnimation)||e.remove(),this.chestPulsateAnimation=new Wh({targets:[this.chestContainer],duration:1400,repeatDelay:200,props:{scale:1.05}}),this.chestPulsateAnimation.play()},t}(Phaser.GameObjects.Container),ny=ty,ry=Na.Z.DEFAULT,ay=ry.KEY,iy=ry.FRAME,sy=function(e){function t(t){var n;return(n=e.call(this,t)||this).scene=void 0,n.background=void 0,n.title=void 0,n.coinPileCountText=void 0,n.itemWithCountGroup=void 0,n.sunRayChestContainer=void 0,n.superChest=void 0,n.megaChest=void 0,n.buttonContainer=void 0,n.chestPulsateAnimation=void 0,n.scene=t,n.updateSize(),n.createBackground(),n.createTitle(),n.createCoinPile(),n.createCoinPileCountText(),n.createItemWithCountGroup(),n.createSunRayChestContainer(),n.createSunRay(),n.createSuperChest(),n.createMegaChest(),n.createButtonContainer(),n.playChestPulsateAnimation(),n}(0,o.Z)(t,e);var n=t.prototype;return n.updateSize=function(){var e=Rv.WIDTH,t=Rv.HEIGHT;this.setSize(e,t)},n.createBackground=function(){var e=this.scene.make.image({key:ay,frame:iy.SHOP_SCREEN_POPUP_BLUE});e.setWorldSize(Rv.WIDTH,Rv.HEIGHT),this.add(e),this.background=e},n.createTitle=function(){var e=this.scene.lang.Text.SUPER_PACK,t=this.scene.make.text({text:e,style:{fontFamily:Ee.Z.FONT_FAMILY,fontSize:"20px",color:"#ffffff"},origin:{x:.5,y:.5}});t.setHighQuality();var n=t.context.createLinearGradient(0,0,0,t.height);n.addColorStop(0,"#ffffff"),n.addColorStop(1,"#cce5f9"),t.setFill(n),t.setShadow(0,2,"#000000",0,!1,!0),this.add(t),t.setY(-80),this.title=t},n.createCoinPile=function(){var e=this.scene.make.image({key:ay,frame:iy.SHOP_SCREEN_COIN_PILE});e.setWorldSize(40,36.5),this.add(e),e.setPosition(-90,-35)},n.createCoinPileCountText=function(){var e=this.scene.make.text({text:"x 500",style:{fontFamily:Ee.Z.FONT_FAMILY,fontSize:"16px"},origin:{x:0,y:.5}});e.setHighQuality();var t=e.context.createLinearGradient(0,0,0,e.height);t.addColorStop(0,"#ffffff"),t.addColorStop(1,"#cce5f9"),e.setFill(t),e.setShadow(0,2,"#000000",0,!1,!0),this.add(e),e.setPosition(-65,-35),this.coinPileCountText=e},n.setCoinPileCount=function(e){this.coinPileCountText.setText("x "+e)},n.createItemWithCountGroup=function(){var e=new Qv(this.scene);e.showItems([{item:"undo",count:5},{item:"magicWand",count:5},{item:"shuffle",count:5},{item:"return",count:5}]),this.add(e),e.setPosition(-62.5,15),this.itemWithCountGroup=e},n.createSunRayChestContainer=function(){var e=this.scene.add.container();e.setSize(157,153),this.add(e),Phaser.Display.Align.In.RightCenter(e,this),this.sunRayChestContainer=e},n.createSunRay=function(){var e=this.scene.make.image({key:ay,frame:iy.SHOP_SCREEN_SUN_RAY_BLUE});e.setWorldSize(157,153),this.sunRayChestContainer.add(e)},n.createSuperChest=function(){var e=this.scene.make.image({key:ay,frame:iy.SHOP_SCREEN_ITEM_SUPER_PACK});e.setWorldSize(106,111.5),this.sunRayChestContainer.add(e),e.setPosition(15,-5),this.superChest=e},n.createMegaChest=function(){var e=this.scene.make.image({key:ay,frame:iy.SHOP_SCREEN_ITEM_MEGA_PACK});e.setWorldSize(118,114.5),this.sunRayChestContainer.add(e),e.setPosition(15,-5),this.megaChest=e},n.createButtonContainer=function(){var e=new Uv(this.scene);this.add(e),e.setY(70),this.buttonContainer=e},n.setBackgroundColor=function(e){var t=iy.SHOP_SCREEN_POPUP_BLUE;this.background.setFrame(t),this.background.setWorldSize(Rv.WIDTH,Rv.HEIGHT)},n.playChestPulsateAnimation=function(){var e;null==(e=this.chestPulsateAnimation)||e.remove(),this.chestPulsateAnimation=new Wh({targets:[this.sunRayChestContainer],duration:1400,repeatDelay:200,props:{scale:1.05}}),this.chestPulsateAnimation.play()},t}(Phaser.GameObjects.Container),oy=sy,cy=Na.Z.DEFAULT,uy=cy.KEY,ly=cy.FRAME,dy=function(e){function t(t,n,r,a){var i;return(i=e.call(this,t,n,r,a)||this).scene=void 0,i.header=void 0,i.headerOriginalY=void 0,i.scroller=void 0,i.packPayloads=[],i.backgroundAnimation=void 0,i.headerAnimation=void 0,i.starterBlockPool=void 0,i.otherPackBlockPool=void 0,i.scene=t,i.background.setAlpha(.8),i.createPools(),i.createScroller(),i.createHeader(),i.initPackPayloads(),i.setDepth(tn.Ks.POPUP),i}(0,o.Z)(t,e);var n=t.prototype;return n.open=function(){var t=(0,s.Z)(d().mark((function t(n){var r,a,i,s,o;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.prototype.open.call(this,n),a=this.packPayloads,i=this.scroller,s=De()(a).call(a,(function(e,t){return{idx:t}})),i.stopScrolling(),i.setEnable(!1),i.updateConfig(s),(o=i.getChildren()).forEach((function(e){return e.setInsideBlockAlpha(0)})),t.next=10,u().all([this.playBackgroundEntranceAnimation(),this.playHeaderEntranceAnimation()]);case 10:return t.next=12,u().all(P()(r=[]).call(r,De()(o).call(o,(function(e,t){return e.playEntranceAnimation(t)}))));case 12:i.setEnable(!0);case 13:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),n.close=function(){var t=(0,s.Z)(d().mark((function t(){var n,r,a,i,s,o;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=this.scroller.getChildren(),this.scroller.stopScrolling(),this.scroller.setEnable(!1),t.next=5,u().all([De()(a).call(a,(function(e){return e.playExitAnimation()})),this.playBackgroundExitAnimation(),this.playHeaderExitAnimation(),this.scene.navigation.fadeOut()]);case 5:i=this.scene.screen.get(tn.o4.DASHBOARD_SCREEN),s=i.isOpening,o=null!=(n=null==(r=this.scene.screen.get(tn.o4.RESULT_SCREEN))?void 0:r.visible)&&n,s?(i.fadeIn(),this.fadeInDashboardNavigation()):o?this.fadeInDashboardNavigation():this.scene.navigation.fadeIn("Gameplay",!1),e.prototype.close.call(this);case 10:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),n.fadeInDashboardNavigation=function(){return this.scene.navigation.fadeIn("Dashboard",!1)},n.createHeader=function(){var e=this.scene.add.container();e.setSize(375,60);var t=this.scene.make.image({key:uy,frame:ly.SHOP_SCREEN_HEADER});t.setWorldSize(375,60);var n=this.scene.lang.Text.SHOP,r=this.scene.make.text({style:{fontFamily:Ee.Z.FONT_FAMILY,fontSize:"30px"},text:n,origin:{x:.5,y:.5}});r.setHighQuality();var a=r.context.createLinearGradient(0,0,0,r.height);a.addColorStop(0,"#ffffff"),a.addColorStop(1,"#cce5f9"),r.setFill(a),r.setShadow(0,4,"#000000",0,!1,!0),this.add(e),e.add([t,r]),Phaser.Display.Align.In.TopCenter(e,this),r.setY(-2),this.headerOriginalY=e.y,this.header=e},n.createPools=function(){this.starterBlockPool=new Nv(this.scene,ny,0),this.otherPackBlockPool=new Nv(this.scene,oy,1)},n.createScroller=function(){var e=new dh(this.scene,{classType:Rv,width:Rv.WIDTH,height:this.height-60,listConfigs:[],padding:10,marginTop:30,marginBottom:10+this.scene.ads.getBannerHeight(),maxScrollOver:.3});this.add(e),Phaser.Display.Align.In.BottomCenter(e,this),this.scroller=e},n.initPackPayloads=function(){this.packPayloads=[{type:"super",coinCount:100,itemsWithCounts:[{item:"undo",count:2},{item:"magicWand",count:2},{item:"shuffle",count:2}],button:"ad"}]},n.playBackgroundEntranceAnimation=function(){var e=(0,s.Z)(d().mark((function e(){var t,n=this;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null==(t=this.backgroundAnimation)||t.remove(),this.background.setAlpha(0),e.abrupt("return",new(u())((function(e){n.backgroundAnimation=n.scene.tweens.add({targets:n.background,duration:300,props:{alpha:.8},onUpdate:function(){n.updateAppDbOverlayOpacity()},onComplete:e})})));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.playHeaderEntranceAnimation=function(){var e=(0,s.Z)(d().mark((function e(){var t,n=this;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null==(t=this.headerAnimation)||t.remove(),this.header.setAlpha(0),e.abrupt("return",new(u())((function(e){n.headerAnimation=n.scene.add.tween({targets:n.header,duration:200,props:{alpha:1,y:{from:n.headerOriginalY-n.header.displayHeight/2,to:n.headerOriginalY,ease:Phaser.Math.Easing.Cubic.Out}},onComplete:e})})));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.playBackgroundExitAnimation=function(){var e=(0,s.Z)(d().mark((function e(){var t,n=this;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null==(t=this.backgroundAnimation)||t.remove(),e.abrupt("return",new(u())((function(e){n.backgroundAnimation=n.scene.tweens.add({targets:n.background,duration:300,props:{alpha:0},onUpdate:function(){n.updateAppDbOverlayOpacity()},onComplete:e})})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.playHeaderExitAnimation=function(){var e=(0,s.Z)(d().mark((function e(){var t,n=this;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null==(t=this.headerAnimation)||t.remove(),e.abrupt("return",new(u())((function(e){n.headerAnimation=n.scene.add.tween({targets:n.header,duration:200,ease:Phaser.Math.Easing.Cubic.In,props:{y:n.headerOriginalY-n.header.displayHeight},onComplete:e})})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.updateAppDbOverlayOpacity=function(){Ih.Z.setAppBgOverlayAlpha(this.background.alpha)},t}(GameCore.Screen),hy=dy,py=function(e){function t(t,n,r,a){var i;return(i=e.call(this,t,n,r,a)||this).scene=void 0,i.textTitle=void 0,i.textSubTitle=void 0,i.textLevels=void 0,i.initPositionY=[],i.open=(0,s.Z)(d().mark((function t(){return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.prototype.open.call((0,Ca.Z)(i)),i.prepareFadeIn(),t.next=4,i.fadeIn();case 4:i.emitOpenCompleted();case 5:case"end":return t.stop()}}),t)}))),i.scene=t,i.background.setAlpha(0),i.setDepth(tn.Ks.POPUP),i.createTitle(),i.createSubTitle(),i.createTextLevels(),i.alignUI(),i}(0,o.Z)(t,e);var n=t.prototype;return n.createTitle=function(){var e=this.scene.make.text({style:{fontFamily:Ee.Z.FONT_FAMILY,fontSize:"36px"}});e.setHighQuality(),e.setOrigin(.5,.5),this.add(e);var t=e.context.createLinearGradient(0,0,0,e.height);t.addColorStop(0,"#ffffff"),t.addColorStop(1,"#cce5f9"),e.setFill(t),e.setShadow(0,6,"#0000003F",0,!1,!0),this.textTitle=e},n.createSubTitle=function(){var e=this.scene.make.text({style:{fontFamily:Ee.Z.FONT_FAMILY,fontSize:"28px"}});e.setHighQuality(),e.setOrigin(.5,.5),this.add(e);var t=e.context.createLinearGradient(0,0,0,e.height);t.addColorStop(0,"#ffffff"),t.addColorStop(1,"#cce5f9"),e.setFill(t),e.setShadow(0,6,"#0000003F",0,!1,!0),this.textSubTitle=e},n.createTextLevels=function(){var e=this.scene.make.text({style:{fontFamily:Ee.Z.FONT_FAMILY,fontSize:"24px"}});e.setHighQuality(),e.setOrigin(.5,.5),this.add(e);var t=e.context.createLinearGradient(0,0,0,e.height);t.addColorStop(0,"#ffffff"),t.addColorStop(1,"#cce5f9"),e.setFill(t),e.setShadow(0,6,"#0000003F",0,!1,!0),this.textLevels=e},n.alignUI=function(){Phaser.Display.Align.In.Center(this.textTitle,this,0,-113),Phaser.Display.Align.In.Center(this.textSubTitle,this,0,-67),Phaser.Display.Align.In.Center(this.textLevels,this,0,8),this.initPositionY=[this.textTitle.y,this.textSubTitle.y,this.textLevels.y]},n.close=function(){var t=(0,s.Z)(d().mark((function t(){return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.fadeOut();case 2:e.prototype.close.call(this);case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),n.prepareFadeIn=function(){this.textTitle.y=this.initPositionY[0],this.textSubTitle.y=this.initPositionY[1],this.textLevels.y=this.initPositionY[2],this.textLevels.setAlpha(0),this.textSubTitle.setAlpha(0),this.textTitle.setAlpha(0),this.loadContent()},n.loadContent=function(){var e=this.scene.level.getLevel(),t=De()(this.scene).getMapContentByLevel(e);if(t){var n=t.title,r=t.subtitle,a=t.startLevel,i=t.endLevel,s=t.gameplayBackgroundKey,o=this.scene.lang.Text[n],c=this.scene.lang.Text[r];this.textTitle.setText(o),this.shrinkTitleToFitScreen();var u=this.scene.lang.Text.Levels;this.textSubTitle.setText(c),this.textLevels.setText(u+" "+a+" - "+i),this.scene.bgHandler.prepareSwitchAnim(s)}},n.shrinkTitleToFitScreen=function(){for(var e=36;this.textTitle.width>this.width;)this.textTitle.setFontSize(e+"px"),e--},n.fadeIn=function(){var e=(0,s.Z)(d().mark((function e(){var t,n,r=this;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.scene.bgHandler,this.scene.time.delayedCall(300,(function(){r.scene.audio.playSound(nn.Z.SWITCH_MAP)})),e.next=4,t.tweenHideCurBg();case 4:return e.next=6,(0,ai.Z)(this.scene,150);case 6:return e.next=8,t.tweenMoveLeftBgs();case 8:return e.next=10,(0,ai.Z)(this.scene,150);case 10:return n=[this.tweenFadeInTitle(),this.tweenFadeInSubTitle(),this.tweenFadeInTextLevels(),t.tweenScaleUpBackgroundRight()],e.next=13,u().all(n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.fadeOut=function(){var e=(0,s.Z)(d().mark((function e(){var t;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[this.tweenFadeOutTitle(),this.tweenFadeOutSubTitle(),this.tweenFadeOutTextLevels()],e.next=3,u().all(t);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.tweenFadeInTitle=function(){var e=(0,s.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.textTitle.y-=this.textTitle.height,e.abrupt("return",Da(this.scene,{targets:this.textTitle,y:"+="+this.textTitle.height,alpha:{from:0,to:1},duration:1e3,delay:650,ease:Phaser.Math.Easing.Sine.InOut}));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.tweenFadeInSubTitle=function(){var e=(0,s.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.textSubTitle.y+=.5*this.textSubTitle.height,e.abrupt("return",Da(this.scene,{targets:this.textSubTitle,y:"-="+.5*this.textSubTitle.height,alpha:{from:.5,to:1},duration:500,delay:1400,ease:Phaser.Math.Easing.Sine.InOut}));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.tweenFadeInTextLevels=function(){var e=(0,s.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.textLevels.y+=.25*this.textLevels.height,e.abrupt("return",Da(this.scene,{targets:this.textLevels,y:"-="+.25*this.textLevels.height,alpha:{from:.5,to:1},duration:500,delay:1400,ease:Phaser.Math.Easing.Sine.InOut}));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.tweenFadeOutTitle=function(){var e=(0,s.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Da(this.scene,{targets:this.textTitle,y:"-="+this.textTitle.height,alpha:{from:1,to:0},duration:300,ease:Phaser.Math.Easing.Cubic.Out}));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.tweenFadeOutSubTitle=function(){var e=(0,s.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Da(this.scene,{targets:this.textSubTitle,y:"+="+.5*this.textSubTitle.height,alpha:{from:1,to:0},duration:300,ease:Phaser.Math.Easing.Cubic.Out}));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.tweenFadeOutTextLevels=function(){var e=(0,s.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Da(this.scene,{targets:this.textLevels,y:"+="+.25*this.textLevels.height,alpha:{from:1,to:0},duration:300,ease:Phaser.Math.Easing.Cubic.Out}));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t}(GameCore.Screen),fy=py;function my(e,t,n,r,a){return gy.apply(this,arguments)}function gy(){return gy=(0,s.Z)(d().mark((function e(t,n,r,a,i){var s,o;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===a&&(a=0),void 0===i&&(i=0),s=1,a>0&&(s+=a),r.textures.get(t).key!==t&&""!==t){e.next=7;break}return e.abrupt("return",!0);case 7:o=!1;case 8:if(!(s>0)){e.next=24;break}return e.prev=9,e.next=12,vy(t,n,r.load);case 12:return o=!0,e.abrupt("break",24);case 16:e.prev=16,e.t0=e.catch(9),s--;case 19:if(!(s>0)){e.next=22;break}return e.next=22,new(u())((function(e){return setTimeout(e,i)}));case 22:e.next=8;break;case 24:return e.abrupt("return",o);case 25:case"end":return e.stop()}}),e,null,[[9,16]])}))),gy.apply(this,arguments)}function vy(e,t,n){return new(u())((function(r,a){var i=Phaser.Loader.Events.FILE_KEY_COMPLETE+"image-"+e,s=Phaser.Loader.Events.FILE_LOAD_ERROR,o=function e(t){n.off(i,e),n.off(s,c),r()},c=function t(r){r.key===e&&(n.off(i,o),n.off(s,t),a())};n.on(i,o),n.on(s,c),n.image(e,t),n.start()}))}var yy=function(){function e(e){this.scene=void 0,this.currentBg=void 0,this.nextBg=void 0,this.originalScaleX=void 0,this.originalScaleY=void 0,this.scene=e,this.createBgs()}var t=e.prototype;return t.prepareFadeIn=function(){this.currentBg.revive(),this.currentBg.setAlpha(1),Ih.Z.setAppGpCurrentBgAlpha(1)},t.fadeOut=function(){var e=(0,s.Z)(d().mark((function e(){var t=this;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Da(this.scene,{targets:this.currentBg,props:{alpha:0},duration:200,onUpdate:function(){Ih.Z.setAppGpCurrentBgAlpha(t.currentBg.alpha)}});case 2:this.currentBg.kill();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.prepareSwitchAnim=function(e){var t=this.currentBg,n=t.x,r=t.y,a=this.scene.gameZone.width;this.nextBg.setAlpha(1),this.nextBg.setPosition(n+a,r),this.setBgTexture(e,this.nextBg),this.originalScaleX=this.nextBg.scaleX,this.originalScaleY=this.nextBg.scaleY,this.nextBg.setScale(0),Ih.Z.prepareSwitchAnim(e)},t.tweenHideCurBg=function(){var e=(0,s.Z)(d().mark((function e(){var t,n,r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.currentBg,n=t.scaleX,r=t.scaleY,e.abrupt("return",Da(this.scene,{targets:this.currentBg,scaleX:.65*n,scaleY:.65*r,duration:720,ease:Phaser.Math.Easing.Quadratic.InOut,onUpdate:function(e){var t=1-e.progress;Ih.Z.setAppGpCurrentBgAlpha(t)}}));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.tweenMoveLeftBgs=function(){var e=(0,s.Z)(d().mark((function e(){var t,n,r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.currentBg,n=t.displayWidth,r=t.displayHeight,this.nextBg.setWorldSize(n,r),e.next=4,u().all([Da(this.scene,{targets:[this.currentBg],x:"-="+this.scene.gameZone.width,alpha:{from:1,to:0},duration:960,ease:Phaser.Math.Easing.Quadratic.InOut}),Da(this.scene,{targets:[this.nextBg],x:"-="+this.scene.gameZone.width,duration:960,ease:Phaser.Math.Easing.Quadratic.InOut})]);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.tweenScaleUpBackgroundRight=function(){var e=(0,s.Z)(d().mark((function e(){var t,n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.nextBg,n=[this.nextBg,this.currentBg],this.currentBg=n[0],this.nextBg=n[1],Ih.Z.swapCurrentNextBg(),e.abrupt("return",Da(this.scene,{targets:t,scaleX:this.originalScaleX,scaleY:this.originalScaleY,duration:960,ease:Phaser.Math.Easing.Quadratic.InOut,onUpdate:function(e){Ih.Z.setAppGpCurrentBgAlpha(e.progress)},onComplete:function(){Ih.Z.setAppDbBgVisibility(!0)}}));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.setCurrentBg=function(e){this.setBgTexture(e,this.currentBg),Phaser.Display.Align.In.Center(this.currentBg,this.scene.gameZone);var t=$r.Z.LANDSCAPE_GP_BACKGROUND.PATH+$r.Z.LANDSCAPE_GP_BACKGROUND.KEYS[e];Ih.Z.setAppGpCurrentBgBackgroundImage(t),this.preloadNextUnlockBg(),this.preloadNextUnlockLandscapeBg()},t.createBgs=function(){this.currentBg=this.scene.add.image(0,0,""),this.currentBg.setDepth(Go.Z.BACKGROUND),this.nextBg=this.scene.add.image(0,0,""),this.nextBg.setDepth(Go.Z.BACKGROUND),this.nextBg.setAlpha(0),Ih.Z.setAppGpNextBgAlpha(0)},t.setBgTexture=function(e,t){t.setTexture(e),t.setSizeBasedOnDpr();var n=t.displayWidth,r=t.displayHeight,a=this.scene.gameZone.height/r;t.setWorldSize(n*a,r*a)},t.preloadNextUnlockBg=function(){var e=De()(this.scene).getNextBgKeyOfCurrentBlock();if(!this.scene.textures.exists(e)){var t=$r.Z.GP_BACKGROUND,n=t.KEYS;return my(e,t.PATH+n[e],this.scene)}},t.preloadNextUnlockLandscapeBg=function(){if(GameCore.Utils.Device.isDesktop()){var e=De()(this.scene).getNextBgKeyOfCurrentBlock(),t="landscape-"+e;if(!this.scene.textures.exists(t)){var n=$r.Z.LANDSCAPE_GP_BACKGROUND,r=n.KEYS;return my(t,n.PATH+r[e],this.scene)}}},e}(),ky=yy,by=Na.Z.DEFAULT,Ey=by.KEY,xy=by.FRAME,Sy=function(e){function t(t){var n;return(n=e.call(this,t)||this).scene=void 0,n.background=void 0,n.title=void 0,n.closeButton=void 0,n.musicToggleButton=void 0,n.soundToggleButton=void 0,n.vibrationToggleButton=void 0,n.handleSoundChange=function(e){n.scene.player.setSetting("sound",e)},n.handleMusicChange=function(e){n.scene.player.setSetting("music",e),e?n.scene.audio.playMusic():n.scene.audio.pauseMusic()},n.handleVibrationChange=function(e){n.scene.player.setSetting("vibrate",e),e&&Zm(50)},n.scene=t,n.createBackground(),n.updateSize(),n.createTitle(),n.createCloseButton(),n.createIconLabelToggles(),n}(0,o.Z)(t,e);var n=t.prototype;return n.setMusicStatus=function(e){this.musicToggleButton.setStatus(e)},n.setSoundStatus=function(e){this.soundToggleButton.setStatus(e)},n.setVibrationStatus=function(e){var t;null==(t=this.vibrationToggleButton)||t.setStatus(e)},n.createBackground=function(){var e=Ey,t=new Op(this.scene,{initialHeight:200,sliceTextures:{top:{key:e,frame:xy.SETTINGS_SCREEN_POPUP_TOP},middle:{key:e,frame:xy.SETTINGS_SCREEN_POPUP_MIDDLE},bottom:{key:e,frame:xy.SETTINGS_SCREEN_POPUP_BOTTOM}}});this.add(t),this.background=t,Dm()||t.setSize(t.width,140)},n.updateSize=function(){var e=this.background,t=e.width,n=e.height;this.setSize(t,n)},n.createTitle=function(){var e=-18;"ru"===this.scene.facebook.getLocale()&&(e=-15);var t=this.scene.make.image({key:Ey,frame:xy.SETTINGS_SCREEN_TITLE});t.setSizeBasedOnDpr(),this.add(t),Phaser.Display.Align.In.TopCenter(t,this,2,e),this.title=t},n.createCloseButton=function(){var e=new io.Z(this.scene,Ey,xy.SETTINGS_SCREEN_BTN_CANCEL,23,23);e.setName(so.SETTINGS_CLOSE),this.add(e),Phaser.Display.Align.In.TopRight(e,this,-17,-15),this.closeButton=e},n.createIconLabelToggles=function(){var e=this,t=this.scene.player.getPlayerSettings(),n=t.sound,r=void 0===n||n,a=t.music,i=void 0===a||a,s=t.vibrate,o=void 0===s||s,c=this.scene.lang.Text,u=c.Music,l=c.Sound,d=c.Vibration,h=[[u,xy.SETTINGS_SCREEN_ICON_MUSIC,r,this.handleMusicChange,so.SETTINGS_MUSIC],[l,xy.SETTINGS_SCREEN_ICON_SOUND,i,this.handleSoundChange,so.SETTINGS_SOUND],[d,xy.SETTINGS_SCREEN_ICON_VIBRATE,o,this.handleVibrationChange,so.SETTINGS_VIBRATION]],p=Dm()?h:x()(h).call(h,0,2),f=De()(p).call(p,(function(t,n,r){var a=t[0],i=t[1],s=t[2],o=t[3],c=t[4],u=(r.length,e.createIcon(i)),l=e.createLabel(a),d=e.createToggleButton(s,o),h=e.createLine();return e.add([u,l,d,h]),Phaser.Display.Align.In.TopLeft(u,e,-11,-68-45*n),l.setPosition(-126,u.y),d.setPosition(126,u.y),h.setY(u.y+23.5),d.setName(c),d})),m=f[0],g=f[1],v=f[2];this.musicToggleButton=m,this.soundToggleButton=g,this.vibrationToggleButton=v},n.createIcon=function(e){var t=this.scene.make.image({key:Ey,frame:e});return t.setSizeBasedOnDpr(),t},n.createLabel=function(e){var t=this.scene.make.text({text:e,style:{fontFamily:Ee.Z.FONT_FAMILY,fontSize:"16px",align:"left"},origin:{x:0,y:.5}});t.setHighQuality();var n=t.context.createLinearGradient(0,0,0,t.height);return n.addColorStop(0,"#ffffff"),n.addColorStop(1,"#cce5f9"),t.setFill(n),t.setShadow(0,2,"#000000",0,!1,!0),t},n.createToggleButton=function(e,t){var n=new Xl(this.scene);return n.updateStatus(e),n.onClick=t,n},n.createLine=function(){var e=this.scene.make.image({key:Ey,frame:xy.SETTINGS_SCREEN_BTN_DIVINE_LINE});return e.setSizeBasedOnDpr(),e},(0,le.Z)(t,[{key:"onCloseClick",set:function(e){this.closeButton.onClick=e}}]),t}(Phaser.GameObjects.Container),wy=Sy,Ay=function(e){function t(t,n,r,a){var i;return(i=e.call(this,t,n,r,a)||this).scene=void 0,i.interactiveBackground=void 0,i.popup=void 0,i.screenAnimation=void 0,i.popupAnimation=void 0,i.handleClose=function(){i.scene.screen.close(i.name)},i.scene=t,i.createInteractiveBackground(),i.createPopup(),i.background.setAlpha(.8),i.setDepth(tn.Ks.POPUP),i.listenEvents(),i}(0,o.Z)(t,e);var n=t.prototype;return n.open=function(){var t=(0,s.Z)(d().mark((function t(n){var r,a,i,s,o,c,u;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.prototype.open.call(this,n),r=this.scene.player.getPlayerSettings(),a=r.sound,i=void 0===a||a,s=r.music,o=void 0===s||s,c=r.vibrate,u=void 0===c||c,this.popup.setSoundStatus(i),this.popup.setMusicStatus(o),this.popup.setVibrationStatus(u),t.next=7,this.runEntranceAnimation();case 7:this.emitOpenCompleted();case 8:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),n.close=function(){var t=(0,s.Z)(d().mark((function t(){var n,r,a,i,s;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.scene.setGlobalSceneInputEnabled(!1),t.next=3,this.runExitAnimation();case 3:a=this.scene.screen.get(tn.o4.DASHBOARD_SCREEN),i=a.isOpening,s=null!=(n=null==(r=this.scene.screen.get(tn.o4.RESULT_SCREEN))?void 0:r.visible)&&n,i?(a.fadeIn(),this.fadeInDashboardNavigation()):s?this.fadeInDashboardNavigation():this.scene.navigation.fadeIn("Gameplay",!1),this.scene.setGlobalSceneInputEnabled(!0),e.prototype.close.call(this),this.scene.handleResumePWF();case 10:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),n.fadeInDashboardNavigation=function(){return this.scene.navigation.fadeIn("Dashboard",!1)},n.createInteractiveBackground=function(){var e=new Pg(this.scene,this.width,this.height);e.setName(so.SETTINGS_BG),this.add(e),this.interactiveBackground=e},n.createPopup=function(){var e=new wy(this.scene);this.add(e),this.popup=e},n.listenEvents=function(){this.popup.setInteractive({useHandCursor:!1}),this.popup.onCloseClick=this.handleClose,this.interactiveBackground.onClick=this.handleClose},n.inviteFriends=function(){var e=(0,s.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.scene.setGlobalSceneInputEnabled(!1),!GameCore.Utils.Device.isAndroid()){e.next=6;break}return e.next=4,this.scene.storage.dispatch((0,s.Z)(d().mark((function e(){var t,n,a,i;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=window.game,n=t.analytics,a=t.facebook,e.prev=1,e.next=4,eu();case 4:return i=e.sent,uu({imageShare:i}),e.next=8,a.inviteAsync({cta:{default:"Play",localizations:{en_US:"Play",vi_VN:"Ch\u01a1i ngay"}},text:{default:"I am playing this game, it is so fun!",localizations:{en_US:"I am playing this game, it is so fun!",vi_VN:"Ch\u01a1i ngay!"}},image:i||"",data:{type:qr}});case 8:n.event(sn._.INVITE,{share_content_type:"Invite",success:!0}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),n.event(sn._.INVITE,{share_content_type:"Invite",success:!1}),(0,r.tO)(e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,11]])}))));case 4:e.next=8;break;case 6:return e.next=8,this.scene.storage.dispatch((0,s.Z)(d().mark((function e(){var t,n,a,i,s,o,c,u,l,h;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=window.game,n=t.player,a=t.analytics,i=t.facebook,s=t.globalScene,e.prev=1,s.screen.open(tn.o4.NOTIFY_SCREEN,{message:"Loading...",loading:!0}),e.next=5,eu();case 5:return o=e.sent,$c(o),c=n.getPlayer(),u=c.playerId,l=c.name,h=c.photo,e.next=10,i.shareAsync({text:"Great! I have a best score!",intent:"SHARE",image:o||"",data:{playerId:u,playerName:l,playerPhoto:h,type:qr}});case 10:a.event(sn._.SHARE,{share_content_type:"BestScore",success:!0}),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),a.event(sn._.SHARE,{share_content_type:"BestScore",success:!1}),(0,r.tO)(e.t0);case 17:return e.prev=17,s.screen.close(tn.o4.NOTIFY_SCREEN),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[1,13,17,20]])}))));case 8:this.scene.setGlobalSceneInputEnabled(!0);case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.runEntranceAnimation=function(){var e=(0,s.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",u().all([this.runScreenEntranceAnimation(),this.runPopupEntranceAnimation()]));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.runExitAnimation=function(){var e=(0,s.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",u().all([this.runScreenExitAnimation(),this.runPopupExitAnimation()]));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.runScreenEntranceAnimation=function(){var e=(0,s.Z)(d().mark((function e(){var t,n,r=this;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null==(t=this.screenAnimation)||t.remove(),this.screenAnimation=this.scene.tweens.add({targets:this,duration:250,props:{alpha:{from:0,to:1}},onUpdate:function(){r.updateAppDbOverlayOpacity()}}),e.abrupt("return",null==(n=this.screenAnimation)?void 0:n.waitForCompletion());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.runScreenExitAnimation=function(){var e=(0,s.Z)(d().mark((function e(){var t,n,r=this;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null==(t=this.screenAnimation)||t.remove(),this.screenAnimation=this.scene.tweens.add({targets:this,duration:250,props:{alpha:0},onUpdate:function(){r.updateAppDbOverlayOpacity()}}),e.abrupt("return",null==(n=this.screenAnimation)?void 0:n.waitForCompletion());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.runPopupEntranceAnimation=function(){var e=(0,s.Z)(d().mark((function e(){var t,n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null==(t=this.popupAnimation)||t.remove(),this.popupAnimation=this.scene.tweens.add({targets:this.popup,duration:300,props:{scale:{from:.5,to:1,ease:Phaser.Math.Easing.Back.Out,easeParams:[1.5]}}}),e.abrupt("return",null==(n=this.popupAnimation)?void 0:n.waitForCompletion());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.runPopupExitAnimation=function(){var e=(0,s.Z)(d().mark((function e(){var t,n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null==(t=this.popupAnimation)||t.remove(),this.popupAnimation=this.scene.tweens.add({targets:this.popup,duration:300,props:{scale:{value:.5,ease:Phaser.Math.Easing.Back.In}}}),e.abrupt("return",null==(n=this.popupAnimation)?void 0:n.waitForCompletion());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.updateAppDbOverlayOpacity=function(){Ih.Z.setAppBgOverlayAlpha(this.alpha*this.background.alpha)},t}(GameCore.Screen),Cy=Ay,Ty=Na.Z.GAMEPLAY,Ly=Ty.KEY,Iy=Ty.FRAME,Py=function(e){function t(t){var n,r=(n=e.call(this,t)||this).createRibbon(),a=r.width,i=r.height;return n.setSize(a,i),n.createText(),n}(0,o.Z)(t,e);var n=t.prototype;return n.createRibbon=function(){var e=this.scene.make.image({key:Ly,frame:Iy.TUTORIAL_SCREEN_RIBBON_TURQUOISE});return e.setSizeBasedOnDpr(),this.add(e),{width:e.displayWidth,height:e.displayHeight}},n.createText=function(){var e=this.scene.lang.Text.HOW_TO_PLAY,t=this.scene.make.text({style:{fontFamily:Ee.Z.FONT_FAMILY,fontSize:"23px"},text:e,origin:{x:.5,y:.5}});t.setHighQuality(),this.add(t);var n=t.context.createLinearGradient(0,0,0,t.height);n.addColorStop(0,"#ffffff"),n.addColorStop(1,"#cce5f9"),t.setFill(n),t.setShadow(0,6,"#0000003F",0,!1,!0),t.setY(-4)},t}(Phaser.GameObjects.Container),_y=Py,By=Na.Z.GAMEPLAY,Oy=By.KEY,Ry=By.FRAME,My=function(e){function t(t){var n;return(n=e.call(this,t,Oy,Ry.NO_MORE_SCREEN_BTN_BLUE,136,39)||this).setName(so.TUT_OK),n.createText(),n}return(0,o.Z)(t,e),t.prototype.createText=function(){var e=this.scene.lang.Text.OK,t=this.scene.make.text({style:{fontFamily:Ee.Z.FONT_FAMILY,fontSize:"23px"},text:e,origin:{x:.5,y:.5}});t.setHighQuality(),this.add(t);var n=t.context.createLinearGradient(0,0,0,t.height);n.addColorStop(0,"#ffffff"),n.addColorStop(1,"#cce5f9"),t.setFill(n),t.setShadow(0,6,"#0000003F",0,!1,!0),t.setY(-1)},t}(io.Z),Ny=My,Dy=function(){function e(e){this.miniGame=void 0,this.solution=[],this.nextStepTimer=void 0,this.miniGame=e}var t=e.prototype;return t.init=function(e){var t;null==(t=this.nextStepTimer)||t.remove(),this.initSolution(e)},t.play=function(){var e=(0,s.Z)(d().mark((function e(){var t,n,r,a,i,o,c,l=this;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null==(t=this.nextStepTimer)||t.remove(),n=0,r=this.miniGame,a=r.board,i=r.rack,o=r.popup,c=o.hand,e.abrupt("return",new(u())((function(e){l.nextStepTimer=l.miniGame.scene.time.addEvent({delay:100,loop:!0,callback:function(){var t=(0,s.Z)(d().mark((function t(){var r,s,o;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=l.solution[n]){t.next=4;break}return i.isPlayingTweens()||(null==(s=l.nextStepTimer)||s.remove(),delete l.nextStepTimer,e()),t.abrupt("return");case 4:if(!l.miniGame.popup.hand.isMoving()){t.next=6;break}return t.abrupt("return");case 6:if(o=a.getTileViewByPosition(r.position)){t.next=9;break}return t.abrupt("return");case 9:return t.next=11,c.reachThenClick(o.x,o.y);case 11:l.miniGame.moveTileViewBoardToRack(o)&&n++;case 13:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()})})));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.stop=function(){var e;null==(e=this.nextStepTimer)||e.remove(),delete this.nextStepTimer},t.initSolution=function(e){var t=e.tiles,n={};t.forEach((function(e){var t=e.icon;n[t]||(n[t]=[]),n[t].push(e)}));var r=[];xr()(n).forEach((function(e){r.push.apply(r,e)})),this.solution=r},e}(),Fy=Dy,Gy=function(){function e(e){this.miniGame=void 0,this.boardMap={},this.miniGame=e}var t=e.prototype;return t.forEach=function(e){for(var t in this.boardMap)for(var n in this.boardMap[t])e(this.boardMap[t][n])},t.getTileViewByPosition=function(e){var t,n=e.x,r=e.y;return null==(t=this.boardMap[r])?void 0:t[n]},t.detachTileView=function(e){var t=e.tileModel;if(!this.existPosition(t))return!1;var n=t.x,r=t.y;return delete this.boardMap[r][n],0===te()(this.boardMap[r]).length&&delete this.boardMap[r],!0},t.init=function(e){var t,n=this;this.forEach((function(e){n.miniGame.tilePool.hideTileView(e)}));wr()(t=e.tiles).call(t,(function(e,t){return e.position.y-t.position.y||e.position.x-t.position.x})),e.tiles.forEach((function(t){var r=t.position,a=t.icon,i=r.x,s=r.y,o=new bi(i+","+s+","+a,i,s,0,a,"tutorial-id","uncovered"),c=n.miniGame.tilePool.spawnTileView(o);c.refresh(e),n.addTileView(c)}))},t.fadeIn=function(){var e=(0,s.Z)(d().mark((function e(){var t,n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],this.forEach((function(e){e.setScale(0),t.push(e)})),n=this.miniGame.scene.add.tween({targets:t,duration:100,ease:Phaser.Math.Easing.Back.Out,delay:this.miniGame.scene.tweens.stagger(50,{start:0}),props:{scale:1}}),e.abrupt("return",n.waitForCompletion());case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.clear=function(){var e=this;this.forEach((function(t){e.miniGame.tilePool.hideTileView(t)})),this.boardMap={}},t.addTileView=function(e){var t=e.tileModel,n=t.x,r=t.y,a=this.boardMap;a[r]||(a[r]={}),a[r][n]=e},t.existPosition=function(e){var t,n=e.x,r=e.y;return null==(t=this.boardMap[r])?void 0:t[n]},e}(),Zy=Gy,Uy=function(e){function t(t,n){var r;return(r=e.call(this)||this).miniGame=void 0,r.icon=void 0,r.tileViewRackPayloads=[],r.match3State="none",r.onCompleteAddTileView=void 0,r.miniGame=t,r.icon=n,r}(0,o.Z)(t,e);var n=t.prototype;return n.isPlayingTweens=function(){return!!this.isMatching3()||this.tileViewRackPayloads.some((function(e){var t=e.moveData;return"fall"===(null==t?void 0:t.type)}))},n.isMatching3=function(){return"playing"===this.match3State||"ready"===this.match3State},n.canAddTileView=function(e){return this.icon===e.tileModel.icon},n.addTileView=function(e,t,n){var r=this.tileViewRackPayloads,a={tileView:e,slotIdx:t,isFallCompleted:!1};r.push(a),3===r.length&&(this.match3State="ready"),this.onCompleteAddTileView=n,this.updateNewFallData(a)},n.getRightMostPayload=function(){var e=this.tileViewRackPayloads;if(0!==e.length)return e[e.length-1]},n.canMatch3AfterFallCompleted=function(){var e;return 3===Me()(e=this.tileViewRackPayloads).call(e,(function(e){return e.isFallCompleted})).length},n.playMatch3Animation=function(){var e=(0,s.Z)(d().mark((function e(){var t,n,r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=De()(t=this.tileViewRackPayloads).call(t,(function(e){return e.tileView})),r=this.miniGame.scene.add.tween({targets:n,duration:100,props:{scale:0}}),e.abrupt("return",r.waitForCompletion());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.clear=function(){var e=this;this.tileViewRackPayloads.forEach((function(t){var n=t.tileView,r=t.moveData;null==r||r.tween.stop(),e.miniGame.tilePool.hideTileView(n)})),this.tileViewRackPayloads=[]},n.updateNewFallData=function(e){var t,n=this,r=e.tileView,a=e.slotIdx,i=this.miniGame.rack;null==(t=e.moveData)||t.tween.stop(),delete e.moveData;var s=i.getSlotPosition(a),o=s.x,c=s.y,u=this.miniGame.scene.add.tween({targets:r,duration:500,ease:Phaser.Math.Easing.Sine.InOut,props:{x:o,y:c},onComplete:function(){delete e.moveData,e.isFallCompleted=!0,null==n.onCompleteAddTileView||n.onCompleteAddTileView()}});e.moveData={tween:u,targetSlotIdx:a,type:"fall"}},t}(Phaser.Events.EventEmitter),Ky=Uy,Hy=Na.Z.GAMEPLAY_COLORFUL,Wy=Hy.KEY,Vy=Hy.FRAME,Yy=function(){function e(e){this.miniGame=void 0,this.rackImage=void 0,this.slotPositions=[],this.rackSegment=void 0,this.miniGame=e,this.createRackImage(),this.createSlotPositions()}var t=e.prototype;return t.addTileView=function(e){var t=e.tileModel.icon;if(this.rackSegment||(this.rackSegment=new Ky(this.miniGame,t)),!this.rackSegment.canAddTileView(e))return!1;var n=this.getNewSlotIdx();return this.rackSegment.addTileView(e,n,this.handleNewSegmentFallCompleted.bind(this)),!0},t.isPlayingTweens=function(){return!!this.rackSegment&&this.rackSegment.isPlayingTweens()},t.getSlotPosition=function(e){return this.slotPositions[e]},t.clear=function(){var e;null==(e=this.rackSegment)||e.clear(),delete this.rackSegment},t.getNewSlotIdx=function(){var e,t=null==(e=this.rackSegment)?void 0:e.getRightMostPayload();return t?this.getCorrectSlotIdx(t)+1:0},t.getCorrectSlotIdx=function(e){var t=e.slotIdx,n=e.moveData;return n?n.targetSlotIdx:t},t.handleNewSegmentFallCompleted=function(){var e=(0,s.Z)(d().mark((function e(){var t;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.rackSegment){e.next=3;break}return e.abrupt("return");case 3:if(t.canMatch3AfterFallCompleted()){e.next=5;break}return e.abrupt("return");case 5:return t.match3State="playing",e.next=8,t.playMatch3Animation();case 8:t.clear(),t.match3State="done",delete this.rackSegment,t.emit(cs.MATCH_3_COMPLETED);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.createRackImage=function(){var e=this.miniGame.scene.make.image({key:Wy,frame:Vy.TILE_CONTAINER});e.setSizeBasedOnDpr(),e.scale*=.6,this.miniGame.add(e),e.setY(80),this.rackImage=e},t.createSlotPositions=function(){var e=this,t=.6*_s.SLOT_DISTANCE,n=_s.SLOT_COUNT;this.slotPositions=w()({length:n},(function(r,a){return{x:e.rackImage.x+t*(a-(n-1)/2),y:e.rackImage.y-5.1}}))},e}(),zy=Yy,jy=function(){function e(e){this.miniGame=void 0,this.tileViews=[],this.miniGame=e}var t=e.prototype;return t.spawnTileView=function(e){var t,n,r=B()(t=this.tileViews).call(t,(function(e){return!e.active}));if(r)(n=r).setTileModel(e),n.resetProperty(),this.miniGame.bringToTop(r);else{var a=new Qi(this.miniGame.scene,e);this.tileViews.push(a),this.miniGame.add(a),n=a}return n},t.hideTileView=function(e){e.kill(),e.scene.tweens.killTweensOf(e),this.tileViews.some((function(t){return t===e}))||this.tileViews.push(e)},e}(),Xy=function(e){function t(t){var n;return(n=e.call(this,t.scene)||this).scene=void 0,n.popup=void 0,n.tilePool=void 0,n.board=void 0,n.rack=void 0,n.autoPlay=void 0,n.playing=!1,n.popup=t,n.scene=t.scene,n.setSize(330,270),n.tilePool=new jy((0,Ca.Z)(n)),n.board=new Zy((0,Ca.Z)(n)),n.rack=new zy((0,Ca.Z)(n)),n.autoPlay=new Fy((0,Ca.Z)(n)),n}(0,o.Z)(t,e);var n=t.prototype;return n.init=function(){var e=this.scene.gameManager.levelDataManager.getTutorialBoardData();this.board.init(e),this.autoPlay.init(e)},n.playEndlessly=function(){var e=(0,s.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.playing){e.next=2;break}return e.abrupt("return");case 2:this.playing=!0;case 3:if(!this.playing){e.next=11;break}return this.init(),e.next=7,this.board.fadeIn();case 7:return e.next=9,this.autoPlay.play();case 9:e.next=3;break;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.stop=function(){this.playing=!1,this.autoPlay.stop(),this.board.clear(),this.rack.clear()},n.moveTileViewBoardToRack=function(e){return!this.rack.isPlayingTweens()&&(!!this.board.detachTileView(e)&&(!!this.rack.addTileView(e)&&(this.bringToTop(e),!0)))},t}(Phaser.GameObjects.Container),qy=Xy,Qy=Na.Z.GAMEPLAY,Jy=Qy.KEY,$y=Qy.FRAME,ek=100,tk=0,nk=function(e){(0,o.Z)(n,e);var t=n.prototype;function n(t){var n;return(n=e.call(this,t)||this).hand=void 0,n.originalHandScale=void 0,n.moving=!1,n.setSize(330,270),n.createHand(),n}return t.isMoving=function(){return this.moving},t.clickOnGameplayTile=function(){this.hand.setVisible(!0),this.scene.add.tween({targets:this.hand,duration:600,yoyo:!0,loopDelay:200,repeat:-1,repeatDelay:200,ease:Kh,props:{scale:1.12*this.originalHandScale}})},t.stopClickOnGameplayTile=function(){this.scene.tweens.killTweensOf(this.hand),this.hand.setScale(this.originalHandScale)},t.reachThenClick=function(){var e=(0,s.Z)(d().mark((function e(t,n){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.hand.setVisible(!0),e.next=3,this.reachTo(t,n);case 3:return e.next=5,this.click();case 5:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),t.returnToRestPosition=function(){var e=(0,s.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.moving=!1,this.scene.tweens.killTweensOf(this.hand),this.hand.setPosition(ek,tk),this.hand.setScale(this.originalHandScale);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.reachTo=function(){var e=(0,s.Z)(d().mark((function e(t,n,r){var a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===r&&(r=500),this.moving=!0,this.scene.tweens.killTweensOf(this.hand),a=this.scene.add.tween({targets:this.hand,duration:r,ease:Phaser.Math.Easing.Sine.InOut,props:{x:t,y:n}}),e.next=6,a.waitForCompletion();case 6:this.moving=!1;case 7:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}(),t.click=function(){var e=(0,s.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.moving=!0,this.scene.tweens.killTweensOf(this.hand),e.next=4,this.scaleHandToNormal();case 4:return e.next=6,this.scaleHandDown();case 6:return e.next=8,this.scaleHandToNormal();case 8:this.moving=!1;case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.scaleHandDown=function(){var e=(0,s.Z)(d().mark((function e(){var t;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.scene.add.tween({targets:this.hand,duration:100,props:{scale:.8*this.originalHandScale}}),e.abrupt("return",t.waitForCompletion());case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.scaleHandToNormal=function(){var e=(0,s.Z)(d().mark((function e(){var t;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.hand.scale!==this.originalHandScale){e.next=2;break}return e.abrupt("return");case 2:return t=this.scene.add.tween({targets:this.hand,duration:100,props:{scale:this.originalHandScale}}),e.abrupt("return",t.waitForCompletion());case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.createHand=function(){var e=this.scene.make.image({key:Jy,frame:$y.HAND});e.setSizeBasedOnDpr(),e.setVisible(!1),e.setOrigin(.5,0),this.add(e),e.setPosition(ek,tk),this.hand=e,this.originalHandScale=e.scale},n}(Phaser.GameObjects.Container),rk=nk,ak=Na.Z.GAMEPLAY,ik=ak.KEY,sk=ak.FRAME,ok=function(e){function t(t){var n;return(n=e.call(this,t)||this).background=void 0,n.ribbon=void 0,n.miniGame=void 0,n.text=void 0,n.okButton=void 0,n.hand=void 0,n.scene=t,n.createBackground(),n.setSize(n.background.width,n.background.height),n.createRibbon(),n.createMiniGame(),n.createText(),n.createOkButton(),n.createTutorialHand(),n.alignUI(),n}(0,o.Z)(t,e);var n=t.prototype;return n.playMiniGame=function(){this.miniGame.playEndlessly()},n.stopMiniGame=function(){this.miniGame.stop(),this.hand.returnToRestPosition()},n.runOkButtonEntranceAnimation=function(){var e=(0,s.Z)(d().mark((function e(){var t;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.okButton.setScale(0),t=this.scene.add.tween({targets:this.okButton,duration:300,delay:300,props:{scale:{from:.7,to:1,ease:Phaser.Math.Easing.Back.Out},alpha:{from:0,to:1}}}),e.abrupt("return",t.waitForCompletion());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.createBackground=function(){var e=ik,t=new Op(this.scene,{initialHeight:405.5,sliceTextures:{top:{key:e,frame:sk.NO_MORE_SCREEN_POPUP_TOP},middle:{key:e,frame:sk.NO_MORE_SCREEN_POPUP_MIDDLE},bottom:{key:e,frame:sk.NO_MORE_SCREEN_POPUP_BOTTOM}}});this.add(t),this.background=t},n.createRibbon=function(){var e=new _y(this.scene);this.add(e),this.ribbon=e},n.createMiniGame=function(){var e=new qy(this);this.add(e),this.miniGame=e},n.createTutorialHand=function(){var e=new rk(this.scene);this.add(e),this.hand=e},n.createText=function(){var e=this.scene.lang.Text.Collect_3_same_tiles_to_eliminate,t=this.scene.make.text({style:{fontFamily:Ee.Z.FONT_FAMILY,fontSize:"16px",align:"center"},text:e,origin:{x:.5,y:.5}});t.setHighQuality(),this.add(t);var n=t.context.createLinearGradient(0,0,0,t.height);n.addColorStop(0,"#ffffff"),y()(e).call(e,"\n")&&(n.addColorStop(.5,"#cce5f9"),n.addColorStop(.5,"#ffffff")),n.addColorStop(1,"#cce5f9"),t.setFill(n),t.setShadow(0,6,"#0000003F",0,!1,!0),this.text=t},n.createOkButton=function(){var e=new Ny(this.scene);this.add(e),this.okButton=e},n.alignUI=function(){var e=this.background,t=this.ribbon,n=this.miniGame,r=this.text,a=this.okButton,i=this.hand;Phaser.Display.Align.In.TopCenter(t,e,0,t.displayHeight/2-10),Phaser.Display.Align.In.TopCenter(n,e),Phaser.Display.Align.In.TopCenter(r,e,0,-295),Phaser.Display.Align.In.TopCenter(a,e,0,-340),Phaser.Display.Align.In.Center(i,n,0,0)},(0,le.Z)(t,[{key:"onCloseClick",set:function(e){this.okButton.onClick=e}}]),t}(Phaser.GameObjects.Container),ck=ok,uk=function(e){function t(t,n,r,a){var i;return(i=e.call(this,t,n,r,a)||this).scene=void 0,i.popup=void 0,i.screenAnimation=void 0,i.popupAnimation=void 0,i.scene=t,i.createPopup(),i.background.setAlpha(.8),i.setDepth(tn.Ks.POPUP),i}(0,o.Z)(t,e);var n=t.prototype;return n.open=function(){var t=(0,s.Z)(d().mark((function t(n){return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.prototype.open.call(this,n),t.next=3,this.runEntranceAnimation();case 3:this.popup.playMiniGame(),this.emitOpenCompleted();case 5:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),n.close=function(){var t=(0,s.Z)(d().mark((function t(){return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.runExitAnimation();case 2:this.popup.stopMiniGame(),e.prototype.close.call(this);case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),n.createPopup=function(){var e=new ck(this.scene);this.add(e),this.popup=e,this.popup.onCloseClick=this.scene.tutorialHandler.handleTutorialOkClick},n.runEntranceAnimation=function(){var e=(0,s.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",u().all([this.runScreenEntranceAnimation(),this.runPopupEntranceAnimation(),this.popup.runOkButtonEntranceAnimation()]));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.runExitAnimation=function(){var e=(0,s.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",u().all([this.runScreenExitAnimation(),this.runPopupExitAnimation()]));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.runScreenEntranceAnimation=function(){var e=(0,s.Z)(d().mark((function e(){var t,n,r=this;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null==(t=this.screenAnimation)||t.remove(),this.screenAnimation=this.scene.tweens.add({targets:this,duration:250,props:{alpha:{from:0,to:1}},onUpdate:function(){r.updateAppDbOverlayOpacity()}}),e.abrupt("return",null==(n=this.screenAnimation)?void 0:n.waitForCompletion());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.runScreenExitAnimation=function(){var e=(0,s.Z)(d().mark((function e(){var t,n,r=this;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null==(t=this.screenAnimation)||t.remove(),this.screenAnimation=this.scene.tweens.add({targets:this,duration:250,props:{alpha:0},onUpdate:function(){r.updateAppDbOverlayOpacity()}}),e.abrupt("return",null==(n=this.screenAnimation)?void 0:n.waitForCompletion());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.runPopupEntranceAnimation=function(){var e=(0,s.Z)(d().mark((function e(){var t,n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null==(t=this.popupAnimation)||t.remove(),this.popupAnimation=this.scene.tweens.add({targets:this.popup,duration:300,props:{scale:{from:.5,to:1,ease:Phaser.Math.Easing.Back.Out,easeParams:[1.5]}}}),e.abrupt("return",null==(n=this.popupAnimation)?void 0:n.waitForCompletion());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.runPopupExitAnimation=function(){var e=(0,s.Z)(d().mark((function e(){var t,n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null==(t=this.popupAnimation)||t.remove(),this.popupAnimation=this.scene.tweens.add({targets:this.popup,duration:300,props:{scale:{value:.5,ease:Phaser.Math.Easing.Back.In}}}),e.abrupt("return",null==(n=this.popupAnimation)?void 0:n.waitForCompletion());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.updateAppDbOverlayOpacity=function(){Ih.Z.setAppBgOverlayAlpha(this.alpha*this.background.alpha)},t}(GameCore.Screen),lk=uk;function dk(e,t){var n="undefined"!==typeof C()&&L()(e)||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){var n;if(!e)return;if("string"===typeof e)return hk(e,t);var r=x()(n=Object.prototype.toString.call(e)).call(n,8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return w()(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hk(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function hk(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}for(var pk=function(){function e(e){var t=this;this.scene=void 0,this.handFadeAnimation=void 0,this.handContainer=void 0,this.tileViewsOnRack=[],this.handleTutorialOkClick=(0,s.Z)(d().mark((function e(){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=1,Ks&&window.game.analytics.event(sn._.TUTORIAL_STEP,{step:r}),t.scene.setGlobalSceneInputEnabled(!1),t.tileViewsOnRack.forEach((function(e){e.setAlpha(1)})),t.tileViewsOnRack=[],e.next=6,u().all([t.scene.navigation.fadeIn("Gameplay"),t.scene.screen.closeAsync(tn.o4.TUTORIAL_SCREEN)]);case 6:t.scene.setGlobalSceneInputEnabled(!0),null==(n=t.handContainer)||n.clickOnGameplayTile();case 8:case"end":return e.stop()}var r}),e)}))),this.fadeOutTutorialHand=(0,s.Z)(d().mark((function e(){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Xs(),e.next=3,t.fadeTutorialHand("out");case 3:null==(n=t.handContainer)||n.stopClickOnGameplayTile();case 4:case"end":return e.stop()}}),e)}))),this.scene=e,this.createHandContainer()}var t=e.prototype;return t.showTutorialEarly=function(){var e=(0,s.Z)(d().mark((function e(){var t,n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isGameInTutorialLevels()){e.next=2;break}return e.abrupt("return",!1);case 2:return Hs(this.scene.level.getLevel()),Vs(this.scene.level.getLevel()),this.scene.stepLogHandler.reset(this.scene.level.getLevel()),this.incUserGuideDisplays(),null==(t=this.handContainer)||t.kill(),null==(n=this.handFadeAnimation)||n.remove(),this.softDisableFooterItems(),this.scene.setGlobalSceneInputEnabled(!1),Ih.Z.moveAppDbBg(!1),this.scene.prepareFadeIn(),e.next=14,this.scene.fadeIn();case 14:return e.next=16,u().all([this.setupTutorialGameplay(),this.scene.navigation.fadeIn("Tutorial"),this.scene.screen.openAsync(tn.o4.TUTORIAL_SCREEN)]);case 16:return this.scene.setGlobalSceneInputEnabled(!0),js(),e.abrupt("return",!0);case 19:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.showTutorialLate=function(){var e=(0,s.Z)(d().mark((function e(){var t,n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.scene.gameManager.getRescued()){e.next=2;break}return e.abrupt("return",!1);case 2:if(this.isGameInTutorialLevels()){e.next=4;break}return e.abrupt("return",!1);case 4:return this.incUserGuideDisplays(),null==(t=this.handContainer)||t.kill(),null==(n=this.handFadeAnimation)||n.remove(),this.softDisableFooterItems(),e.next=10,u().all([this.scene.navigation.fadeIn("Tutorial"),this.scene.screen.openAsync(tn.o4.TUTORIAL_SCREEN)]);case 10:return e.next=12,this.setupTutorialGameplay();case 12:return js(),e.abrupt("return",!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.fadeOut=function(){var e=(0,s.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.tileViewsOnRack=[],this.scene.gameManager.board.off(Ko.MOVE_TILE_TO_RACK,this.fadeOutTutorialHand),e.abrupt("return",this.fadeOutTutorialHand());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.isGameInTutorialLevels=function(){return 1===this.scene.level.getLevel()},t.setHandContainerPosition=function(e,t){var n;null==(n=this.handContainer)||n.setPosition(e,t)},t.createHandContainer=function(){if(this.isGameInTutorialLevels()){var e=new rk(this.scene);e.setDepth(Go.Z.TUTORIAL_HAND),this.scene.add.existing(e),this.handContainer=e}},t.incUserGuideDisplays=function(){this.scene.player.getPlayerIsNew()&&this.scene.player.incUserGuideDisplays()},t.softDisableFooterItems=function(){var e=this.scene.footer;[e.undoItem,e.shuffleItem,e.magicWandItem].forEach((function(e){e.softDisableItem()}))},t.setupTutorialGameplay=function(){var e=(0,s.Z)(d().mark((function e(){var t,n,r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.tileViewsOnRack=[],0!==(t=this.scene.gameManager.levelDataManager.getTutorialTripleTilePayloads()).length){e.next=4;break}return e.abrupt("return");case 4:return n=t[0],r=x()(t).call(t,1),e.abrupt("return",u().all([this.moveTutorialTilesToRack(r),this.showTutorialGameplayHand(n)]));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.moveTutorialTilesToRack=function(){var e=(0,s.Z)(d().mark((function e(t){var n,r,a,i,s,o,c,u,l,h,p;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.scene.gameManager.rack.isEmpty()){e.next=2;break}return e.abrupt("return");case 2:n=[],r=dk(t);case 4:if((a=r()).done){e.next=13;break}if(i=a.value,s=i.clusterId,o=i.position,c=this.scene.gameManager.board.clusters[s],u=c.getTileViewByPosition(o)){e.next=10;break}return e.abrupt("return");case 10:n.push(u);case 11:e.next=4;break;case 13:this.tileViewsOnRack=n,l=0;case 15:if(!(l<n.length)){e.next=25;break}return h=l===n.length-1,(p=n[l]).setAlpha(0),p.invokeCallback(),e.next=22,(0,ai.Z)(this.scene,h?140:10);case 22:l++,e.next=15;break;case 25:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.showTutorialGameplayHand=function(){var e=(0,s.Z)(d().mark((function e(t){var n,r,a,i,s,o,c,l,h;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=t.position,s=t.clusterId,o=this.scene.gameManager.board.clusters[s],c=o.getTileViewByPosition(i),null==(n=this.handContainer)||n.setAlpha(0),null==(r=this.handContainer)||r.revive(),c){e.next=10;break}return(l=this.scene.gameManager.board).off(Ko.MOVE_TILE_TO_RACK,Xs),l.once(Ko.MOVE_TILE_TO_RACK,Xs),e.abrupt("return");case 10:return e.next=12,u().all([null==(a=this.handContainer)?void 0:a.reachTo(c.x,c.y,140),this.fadeTutorialHand("in")]);case 12:(h=this.scene.gameManager.board).off(Ko.MOVE_TILE_TO_RACK,this.fadeOutTutorialHand),h.once(Ko.MOVE_TILE_TO_RACK,this.fadeOutTutorialHand);case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.fadeTutorialHand=function(){var e=(0,s.Z)(d().mark((function e(t){var n,r,a,i;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==(n=this.handFadeAnimation)||n.remove(),"in"===t&&(null==(a=this.handContainer)||a.setAlpha(0)),i="in"===t?1:0,(null==(r=this.handContainer)?void 0:r.alpha)!==i){e.next=5;break}return e.abrupt("return");case 5:return this.handFadeAnimation=this.scene.add.tween({targets:this.handContainer,duration:200,props:{alpha:i}}),e.abrupt("return",this.handFadeAnimation.waitForCompletion());case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),e}(),fk=pk,mk=[0,1,25,50,75,100],gk=function(){function e(e){this.scene=void 0,this.level=0,this.currentEvent=sn._.LEVEL_PROGRESS,this.currentIdx=0,this.scene=e}var t=e.prototype;return t.logStep=function(e,t){if(!(e<=mk[this.currentIdx]||this.currentIdx===mk.length-1))for(;e>=mk[this.currentIdx+1]&&this.currentIdx+1<mk.length;)this.currentIdx++,this.scene.analytics.event(this.currentEvent,{step:mk[this.currentIdx],level:this.level,is_skip_log:t})},t.logAllRemainingSteps=function(){for(var e=this.currentIdx+1;e<mk.length;e++)this.scene.analytics.event(this.currentEvent,{step:mk[e],level:this.level,is_skip_log:!0});this.currentIdx=mk.length-1},t.reset=function(e){this.level=e,this.currentIdx=0,this.currentEvent=sn._.LEVEL_PROGRESS},e}(),vk=gk,yk=Na.Z.DEFAULT,kk=yk.KEY,bk=yk.FRAME,Ek=GameCore.Utils.Image.getImageScale(),xk=function(e){function t(t){var n;return(n=e.call(this,t,kk,bk.BUTTON_BLUE_LONG_2,229,68)||this).icon=void 0,n.text=void 0,n.particleManager=void 0,n.particle=void 0,n.scene=t,n.setName(so.DB_LEVEL),n.createIcon(),n.createText(),n.createParticle(),n.alignUI(),n}(0,o.Z)(t,e);var n=t.prototype;return n.createIcon=function(){this.icon=this.scene.make.image({key:kk,frame:bk.DAILY_CHALLENGE_SCREEN_ICON_PLAY}),this.icon.setSizeBasedOnDpr(),this.add(this.icon)},n.createText=function(){var e=this.scene.make.text({style:{fontFamily:Ee.Z.FONT_FAMILY,fontSize:"34px"},text:"PLAY",origin:{x:.5,y:.5}});e.setHighQuality(),this.add(e);var t=e.context.createLinearGradient(0,0,0,e.height);t.addColorStop(0,"#ffffff"),t.addColorStop(1,"#cce5f9"),e.setFill(t),e.setShadow(0,6,"#0000003F",0,!1,!0),this.text=e,this.add(this.text)},n.createParticle=function(){this.particleManager=this.scene.add.particles(Na.Z.EFFECTS.KEY,Na.Z.EFFECTS.FRAME.FX_STAR_WHITE),this.particleManager.setDepth(Go.Z.ON_TOP),this.add(this.particleManager);var e=new Phaser.Geom.Rectangle(-this.width/1.5/2,-this.height/1.5/2,this.width/1.5,this.height/1.5);this.particle=this.particleManager.createEmitter({on:!1,frame:Na.Z.EFFECTS.FRAME.FX_STAR_WHITE,lifespan:{min:1e3,max:1500},frequency:500,quantity:1,maxParticles:10,rotate:{start:1/0,end:0},alpha:{start:2,end:.3,ease:Phaser.Math.Easing.Expo.In},accelerationY:-20,blendMode:Phaser.BlendModes.ADD,particleClass:ri,emitZone:{type:"random",source:e,quantity:1},emitCallback:function(e){e.scaleX=0,e.scaleY=0;var t=Math.random()>.5?1:-1;e.data.rotate.min=180*t,e.setScale({min:1/Ek,max:1.3/Ek},e.life)}})},n.alignUI=function(){var e=this.icon.width,t=this.text.width,n=e+t;this.icon.setPosition(-n/2+e/2-7,-2),this.text.setPosition(n/2-t/2+7,-3)},n.emitParticle=function(){var e=this;this.particle.start(),this.scene.time.delayedCall(2e3,(function(){e.particle.stop()}))},t}(Yh),Sk=xk,wk=Na.Z.DEFAULT,Ak=wk.KEY,Ck=wk.FRAME,Tk=function(e){function t(t,n){var r;(r=e.call(this,t)||this).scene=void 0,r.dayIndex=void 0,r.background=void 0,r.textDay=void 0,r.textDayIndex=void 0,r.iconCompleted=void 0,r.scene=t,r.dayIndex=n;var a=r.createBackground(n),i=a.width,s=a.height;return r.setSize(i,s),r.createTextDay(),r.createTextDayIndex(),r.createIconCompleted(),r}(0,o.Z)(t,e);var n=t.prototype;return n.createBackground=function(e){return this.background=this.scene.make.image({key:Ak,frame:Ck.DAILY_CHALLENGE_SCREEN_DAY_PREFIX+e}),this.background.setSizeBasedOnDpr(),this.add(this.background),{width:this.background.displayWidth,height:this.background.displayHeight}},n.createTextDay=function(){var e=this.scene.make.text({style:{fontFamily:Ee.Z.FONT_FAMILY,fontSize:"16px"},text:"Day",origin:{x:.5,y:.5}});e.setHighQuality(),this.add(e);var t=e.context.createLinearGradient(0,0,0,e.height);t.addColorStop(0,"#ffffff"),t.addColorStop(1,"#cce5f9"),e.setFill(t),e.setShadow(0,6,"#0000003F",0,!1,!0),Phaser.Display.Align.In.Center(e,this,2,-14),this.add(e),this.textDay=e,this.textDay.kill()},n.createTextDayIndex=function(){var e=this.scene.make.text({style:{fontFamily:Ee.Z.FONT_FAMILY,fontSize:"23px"},origin:{x:.5,y:.5}});e.setHighQuality(),this.add(e);var t=e.context.createLinearGradient(0,0,0,e.height);t.addColorStop(0,"#ffffff"),t.addColorStop(1,"#cce5f9"),e.setFill(t),e.setShadow(0,6,"#0000003F",0,!1,!0),Phaser.Display.Align.In.Center(e,this,2,10),this.add(e),this.textDayIndex=e,this.textDayIndex.kill()},n.createIconCompleted=function(){var e=this.scene.make.image({key:Ak,frame:Ck.DAILY_CHALLENGE_SCREEN_ICON_COMPLETED});e.setSizeBasedOnDpr(),Phaser.Display.Align.In.Center(e,this,2,0),this.add(e),this.iconCompleted=e,e.kill()},n.setTextDay=function(){this.textDay.revive(),this.textDayIndex.revive(),this.textDayIndex.setText(this.dayIndex.toString()),1==this.dayIndex&&(this.textDay.setX(-5),this.textDayIndex.setX(-5)),5==this.dayIndex&&(this.textDay.setX(5),this.textDayIndex.setX(5))},n.markCompleted=function(){this.textDayIndex.kill(),this.textDay.kill(),this.iconCompleted.revive(),1==this.dayIndex&&this.iconCompleted.setX(-5),5==this.dayIndex&&this.iconCompleted.setX(5)},t}(Phaser.GameObjects.Container),Lk=Tk,Ik=n(420),Pk=Na.Z.DEFAULT,_k=Pk.KEY,Bk=Pk.FRAME,Ok=[-117,-59.5,1,61,117.5],Rk=function(e){function t(t){var n;(n=e.call(this,t)||this).scene=void 0,n.textInfo=void 0,n.dayBlocks=[],n.arrowDown=void 0,n.timer=void 0,n.setTextInfoCompleted=function(){var e=new Date,t=86400-(3600*e.getHours()+60*e.getMinutes()+e.getSeconds()),r=Math.floor(t/3600),a=Math.floor(t%3600/60),i=t%60;n.textInfo.setText("Next daily puzzle available in\n"+(0,Ik.Z)(r,2)+":"+(0,Ik.Z)(a,2)+":"+(0,Ik.Z)(i,2))},n.scene=t;var r=n.createPanel(),a=r.width,i=r.height;return n.setSize(a,i),n.createText(),n.createFiveDays(),n.createArrowDown(),n.updateTextInfo(),n}(0,o.Z)(t,e);var n=t.prototype;return n.prepareEntranceAnimation=function(){this.dayBlocks.forEach((function(e,t){e.setAlpha(0),0!==t&&e.setX(Ok[t]-e.displayWidth/2)})),this.arrowDown.setAlpha(0)},n.runEntranceAnimation=function(){var e=(0,s.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",u().all([this.runBlockAnimations(),this.runArrowAnimation()]));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.runBlockAnimations=function(){var e=(0,s.Z)(d().mark((function e(){var t,n,r=this;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=De()(t=this.dayBlocks).call(t,(function(e,t){return r.scene.tweens.add({targets:e,ease:Phaser.Math.Easing.Expo.Out,duration:458.5,delay:117*t*.5,props:{x:Ok[t],alpha:1}}).waitForCompletion()})),e.abrupt("return",u().all(n));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.runArrowAnimation=function(){var e=(0,s.Z)(d().mark((function e(){var t;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.scene.tweens.add({targets:this.arrowDown,ease:Phaser.Math.Easing.Back.Out,duration:200,delay:234,props:{alpha:1,y:{from:-13,to:13}}}),e.abrupt("return",t.waitForCompletion());case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.createPanel=function(){var e=this.scene.make.image({key:_k,frame:Bk.DAILY_CHALLENGE_SCREEN_PANEL});return e.setSizeBasedOnDpr(),this.add(e),Phaser.Display.Align.In.Center(e,this,0,0),{width:e.displayWidth,height:e.displayHeight}},n.createText=function(){var e=this.scene.make.text({style:{fontFamily:Ee.Z.FONT_FAMILY,fontSize:"22px",align:"center"},text:"Collect the trophy when you\ncomplete 5 days!",origin:{x:.5,y:.5}});e.setHighQuality(),this.add(e);var t=e.context.createLinearGradient(0,0,0,e.height);t.addColorStop(0,"#3a5185"),t.addColorStop(1,"#3a5185"),e.setFill(t),e.setShadow(0,6,"#0000003F",0,!1,!0),Phaser.Display.Align.In.Center(e,this,0,-40),this.add(e),this.textInfo=e},n.createArrowDown=function(){this.arrowDown=this.scene.make.image({key:_k,frame:Bk.DAILY_CHALLENGE_SCREEN_ARROW_DOWN}),this.arrowDown.setSizeBasedOnDpr(),this.add(this.arrowDown),Phaser.Display.Align.In.Center(this.arrowDown,this,0,13)},n.createFiveDays=function(){for(var e=1;e<=5;e++){var t=new Lk(this.scene,e);t.setTextDay(),this.add(t),Phaser.Display.Align.In.Center(t,this,Ok[e-1],43),this.dayBlocks.push(t)}for(var n=this.dayBlocks.length;n>=0;n--)this.bringToTop(this.dayBlocks[n])},n.updateDaysCompleted=function(){var e=this.scene.player.getCustomData("dailyChallenge"),t=e.daysCompleted,n=e.isTodayCompleted,r=[-4.5,2,2,2,4.5];this.arrowDown.setX(this.dayBlocks[0].x+r[0]);for(var a=0;a<t;a++){var i=this.dayBlocks[a];i.markCompleted(),this.arrowDown.setX(i.x+r[a])}n||0==t||this.arrowDown.setX(this.dayBlocks[t].x+r[t])},n.updateTextInfo=function(){var e,t;this.scene.player.getCustomData("dailyChallenge").isTodayCompleted?(this.setTextInfoCompleted(),null==(e=this.timer)||e.remove(),this.timer=this.scene.time.addEvent({loop:!0,delay:1e3,callback:this.setTextInfoCompleted})):null==(t=this.timer)||t.remove()},n.stopTimer=function(){var e;null==(e=this.timer)||e.remove()},t}(Phaser.GameObjects.Container),Mk=Rk,Nk=Na.Z.DEFAULT,Dk=Nk.KEY,Fk=Nk.FRAME,Gk=function(e){function t(t){var n;(n=e.call(this,t)||this).scene=void 0,n.background=void 0,n.trophy=void 0,n.scene=t;var r=n.createBackground(),a=r.width,i=r.height;return n.setSize(a,i),n}(0,o.Z)(t,e);var n=t.prototype;return n.createBackground=function(){return this.background=this.scene.make.image({key:Dk,frame:Fk.RESULT_SCREEN_ICON_GIFT_ACTIVE}),this.background.setSizeBasedOnDpr(),this.add(this.background),{width:this.background.displayWidth,height:this.background.displayHeight}},n.createCircle=function(){this.trophy=this.scene.make.image({key:Dk,frame:Fk.SETTINGS_SCREEN_S_OFF}),this.trophy.setWorldSize(85,85),this.trophy.setTintFill(0),this.trophy.setAlpha(.6),this.add(this.trophy),Phaser.Display.Align.In.Center(this.trophy,this,0,-25)},t}(Phaser.GameObjects.Container),Zk=Gk,Uk=function(e){function t(t){var n;(n=e.call(this,t)||this).scene=void 0,n.gift=void 0,n.rewardCoins=void 0,n.panelChallenge=void 0,n.playButton=void 0,n.scene=t;var r=n.scene.gameZone,a=r.width,i=r.height;return n.setSize(a,i),n.createTrophyBlock(),n.createRewardCoin(),n.createPanelChallengeButton(),n.createPlayButton(),n.alignUI(),n}(0,o.Z)(t,e);var n=t.prototype;return n.createTrophyBlock=function(){this.gift=new Zk(this.scene),this.add(this.gift),Phaser.Display.Align.In.Center(this.gift,this,0,-127)},n.createRewardCoin=function(){var e=new mf(this.scene);e.setText(500),this.add(e),e.kill(),this.rewardCoins=e},n.createPanelChallengeButton=function(){this.panelChallenge=new Mk(this.scene),this.add(this.panelChallenge),Phaser.Display.Align.In.Center(this.panelChallenge,this,0,10)},n.createPlayButton=function(){this.playButton=new Sk(this.scene),this.add(this.playButton)},n.alignUI=function(){var e=this.scene.ads.getBannerHeight();Phaser.Display.Align.In.BottomCenter(this.playButton,this,0,-93-e)},n.updatePopup=function(){this.panelChallenge.updateDaysCompleted(),this.panelChallenge.updateTextInfo()},n.stopTimer=function(){this.panelChallenge.stopTimer()},n.emitParticlesPlayButton=function(){this.playButton.emitParticle()},n.resetPlayButtonScale=function(){this.playButton.setScale(1)},n.stopPlayButtonAnimation=function(){this.playButton.stopAnimation()},n.runPlayButtonAnimation=function(){this.playButton.runAnimation()},n.prepareAnimationOpenGift=function(){this.gift.setScale(1),this.gift.setAlpha(1),this.rewardCoins.revive(),this.rewardCoins.setAlpha(0),this.rewardCoins.setY(-117),this.rewardCoins.setScale(.5)},n.runAnimationOpenGift=function(){var e=(0,s.Z)(d().mark((function e(){var t,n,r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.playAnimationScaleUpGift();case 2:return t=this.gift.getWorldPosition(),n=t.x,r=t.y,this.scene.screenParticleHandler.effectCollectCoin.handleShowStarFirework(n,r),this.scene.audio.playSound(nn.Z.OPEN_CHEST),e.next=7,u().all([this.playAnimationFadeInRewardCoin(),this.playAnimationFadeOutGift()]);case 7:return e.next=9,(0,ai.Z)(this.scene,200);case 9:return e.abrupt("return",this.playAnimationScaleUpRewardCoin());case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.preparePanelEntranceAnimation=function(){this.panelChallenge.prepareEntranceAnimation()},n.runPanelEntranceAnimation=function(){var e=(0,s.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.panelChallenge.runEntranceAnimation());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.playAnimationScaleUpGift=function(){var e=(0,s.Z)(d().mark((function e(){var t;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.scene.add.tween({targets:this.gift,scale:1.5,duration:600,ease:Phaser.Math.Easing.Sine.Out}),e.abrupt("return",t.waitForCompletion());case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.playAnimationFadeInRewardCoin=function(){var e=(0,s.Z)(d().mark((function e(){var t;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.scene.add.tween({targets:this.rewardCoins,alpha:{from:.5,to:1,duration:300},y:{from:-117,to:-157,delay:200},scale:{from:.5,to:1,delay:200},duration:600,ease:Phaser.Math.Easing.Sine.InOut}),e.abrupt("return",t.waitForCompletion());case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.playAnimationFadeOutGift=function(){var e=(0,s.Z)(d().mark((function e(){var t;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.scene.add.tween({targets:this.gift,alpha:0,duration:250,ease:Phaser.Math.Easing.Sine.In}),e.abrupt("return",t.waitForCompletion());case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.playAnimationScaleUpRewardCoin=function(){var e=(0,s.Z)(d().mark((function e(){var t;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.scene.add.tween({targets:this.rewardCoins,y:{from:-157,to:-117},scale:{from:1,to:1.2,duration:150,ease:Phaser.Math.Easing.Cubic.Out},duration:500,ease:Phaser.Math.Easing.Expo.In}),e.abrupt("return",t.waitForCompletion());case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),(0,le.Z)(t,[{key:"onPlayClick",set:function(e){this.playButton.onClick=e}}]),t}(Phaser.GameObjects.Container),Kk=Uk,Hk=[{key:"daily-level-0",mapJson:"./assets/daily-levels/level-0.json"}],Wk=function(e,t,n){void 0===n&&(n="0");for(var r=e.toString(),a=r.length,i=0;i<t-a;i++)r=n+r;return r},Vk=1;Vk<=366;Vk++)Hk.push({key:"daily-level-"+Vk,mapJson:"./assets/daily-levels/level_"+Wk(Vk,5)+".json"});var Yk=function(){var e=new Date("01/01/2024"),t=(new Date).getTime()-e.getTime();return Math.floor(t/864e5)%(Hk.length-1)+1},zk=function(){var e=Yk();return Hk[e]},jk=Na.Z.DEFAULT,Xk=jk.KEY,qk=jk.FRAME,Qk=function(e){function t(t,n,r,a){var i;return(i=e.call(this,t,n,r,a)||this).scene=void 0,i.bg=void 0,i.title=void 0,i.popup=void 0,i.screenAnimation=void 0,i.popupAnimation=void 0,i.canUpdateAppDbBgAlpha=!1,i.handlePlay=(0,s.Z)(d().mark((function e(){var t,n,r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i.scene.setGlobalSceneInputEnabled(!1),e.next=3,i.loadLevelDailyChallengeWithRetryAsync();case 3:if(e.sent){e.next=7;break}return i.scene.setGlobalSceneInputEnabled(!0),e.abrupt("return");case 7:return t=i.getDashboard(),n=Yk(),i.scene.level.setMode(ia),i.scene.level.setLevel(n),i.scene.storage.dispatch(la(ia)),i.showLoading(),e.next=15,i.loadBgWithRetryAsync(n);case 15:return i.hideLoading(),i.scene.startLevel(),Hs(n),Vs(n),i.scene.prepareFadeIn(),e.next=22,i.scene.screen.closeAsync(i.name);case 22:return r=[i.scene.navigation.fadeOut()],t.isOpening&&r.push(t.closeAsync()),e.next=26,u().all(r);case 26:return e.next=28,u().all([i.scene.navigation.fadeIn("Gameplay"),i.scene.fadeIn()]);case 28:i.scene.setGlobalSceneInputEnabled(!0);case 29:case"end":return e.stop()}}),e)}))),i.scene=t,i.createBackground(),i.createTitle(),i.createPopup(),i.background.setAlpha(0),i.setDepth(tn.Ks.POPUP),i.listenEvents(),i}(0,o.Z)(t,e);var n=t.prototype;return n.createBackground=function(){var e=this.scene.make.image({key:$r.Z.DB_BACKGROUND.KEY});e.setWorldSize(this.width,this.height),this.add(e),this.bg=e},n.trySettingCorrectBg=function(){this.bg.setTexture($r.Z.DB_BACKGROUND.KEY),this.bg.setWorldSize(this.width,this.height)},n.prepareFadeInFromGameplay=function(){this.trySettingCorrectBg(),Ih.Z.moveAppDbBg(!0),Ih.Z.setAppDbBgAlpha(0),this.canUpdateAppDbBgAlpha=!0},n.open=function(){var t=(0,s.Z)(d().mark((function t(n){return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.prototype.open.call(this,n),this.trySettingCorrectBg(),this.bg.setAlpha(1),this.popup.updatePopup(),this.popup.prepareAnimationOpenGift(),this.popup.stopPlayButtonAnimation(),this.popup.resetPlayButtonScale(),this.popup.preparePanelEntranceAnimation(),t.next=10,this.runEntranceAnimation();case 10:this.popup.runPlayButtonAnimation(),this.popup.emitParticlesPlayButton(),this.emitOpenCompleted();case 13:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),n.close=function(){var t=(0,s.Z)(d().mark((function t(){return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.popup.stopTimer(),this.popup.stopPlayButtonAnimation(),t.next=4,this.runExitAnimation(this.canUpdateAppDbBgAlpha);case 4:this.canUpdateAppDbBgAlpha=!1,this.popup.resetPlayButtonScale(),e.prototype.close.call(this);case 7:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),n.runAnimationOpenGift=function(){return this.popup.runAnimationOpenGift()},n.createTitle=function(){var e=this.scene.make.image({key:Xk,frame:qk.DAILY_CHALLENGE_SCREEN_TEXT_DAILY_PUZZLE});e.setSizeBasedOnDpr(),this.add(e),Phaser.Display.Align.In.TopCenter(e,this,0,-19),this.title=e},n.createPopup=function(){var e=new Kk(this.scene);this.add(e),this.popup=e},n.listenEvents=function(){this.popup.setInteractive({useHandCursor:!1}),this.popup.onPlayClick=this.handlePlay},n.showLoading=function(){this.scene.game.globalScene.screen.open(tn.o4.NOTIFY_SCREEN,{message:"Loading...",loading:!0})},n.hideLoading=function(){this.scene.game.globalScene.screen.close(tn.o4.NOTIFY_SCREEN)},n.loadLevelDailyChallengeWithRetryAsync=function(){var e=(0,s.Z)(d().mark((function e(t,n){var r,a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===t&&(t=1e3),void 0===n&&(n=500),!this.scene.level.hasLevelDailyChallengeData()){e.next=4;break}return e.abrupt("return",!0);case 4:r=this.scene.game.globalScene,a=1,t>0&&(a+=t),r.screen.open(tn.o4.NOTIFY_SCREEN,{message:"\nRetrieving puzzle data.\nThis may take a bit longer\non slower networks.",duration:0,loading:!0});case 8:if(!(a>0)){e.next=26;break}return e.prev=9,e.next=12,this.scene.level.loadDataLevelDailyChallengeAsync();case 12:if(this.scene.level.hasLevelDailyChallengeData()){e.next=14;break}throw new Error("Failed");case 14:return r.screen.close(tn.o4.NOTIFY_SCREEN),e.abrupt("return",!0);case 18:e.prev=18,e.t0=e.catch(9),a--;case 21:if(!(a>0)){e.next=24;break}return e.next=24,new(u())((function(e){return setTimeout(e,n)}));case 24:e.next=8;break;case 26:return r.screen.open(tn.o4.NOTIFY_SCREEN,{message:"\nOops!\nSomething went wrong.\nLet's try again soon!",duration:3e3}),e.abrupt("return",!1);case 28:case"end":return e.stop()}}),e,this,[[9,18]])})));return function(t,n){return e.apply(this,arguments)}}(),n.loadBgWithRetryAsync=function(){var e=(0,s.Z)(d().mark((function e(t){var n,r,a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=De()(this.scene).getMapContentByLevel(t)){e.next=3;break}return e.abrupt("return",!1);case 3:return r=n.gameplayBackgroundKey,a=$r.Z.GP_BACKGROUND.PATH+$r.Z.GP_BACKGROUND.KEYS[r],e.abrupt("return",my(r,a,this.scene,3));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),n.runEntranceAnimation=function(){var e=(0,s.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u().all([this.runScreenEntranceAnimation(),this.runPopupEntranceAnimation()]);case 2:return e.next=4,this.popup.runPanelEntranceAnimation();case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.runExitAnimation=function(){var e=(0,s.Z)(d().mark((function e(t){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[this.runPopupExitAnimation()],t&&n.push(this.runBackgroundFadeOut()),e.abrupt("return",u().all(n));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),n.runScreenEntranceAnimation=function(){var e=(0,s.Z)(d().mark((function e(){var t,n,r=this;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null==(t=this.screenAnimation)||t.remove(),this.screenAnimation=this.scene.tweens.add({targets:this,duration:250,props:{alpha:{from:0,to:1}},onUpdate:function(){r.canUpdateAppDbBgAlpha&&Ih.Z.setAppDbBgAlpha(r.alpha)}}),e.abrupt("return",null==(n=this.screenAnimation)?void 0:n.waitForCompletion());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.runPopupEntranceAnimation=function(){var e=(0,s.Z)(d().mark((function e(){var t,n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null==(t=this.popupAnimation)||t.remove(),this.popupAnimation=this.scene.tweens.add({targets:this.popup,duration:300,props:{scale:{from:.5,to:1,ease:Phaser.Math.Easing.Back.Out,easeParams:[1.5]}}}),e.abrupt("return",null==(n=this.popupAnimation)?void 0:n.waitForCompletion());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.runPopupExitAnimation=function(){var e=(0,s.Z)(d().mark((function e(){var t,n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null==(t=this.popupAnimation)||t.remove(),this.popupAnimation=this.scene.tweens.add({targets:this.popup,duration:300,props:{scale:{value:.5,ease:Phaser.Math.Easing.Back.In}}}),e.abrupt("return",null==(n=this.popupAnimation)?void 0:n.waitForCompletion());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.runBackgroundFadeOut=function(){var e=(0,s.Z)(d().mark((function e(){var t,n=this;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.scene.add.tween({targets:this.bg,duration:300,props:{alpha:0},onUpdate:function(){Ih.Z.setAppDbBgAlpha(n.bg.alpha)}}),e.abrupt("return",t.waitForCompletion());case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.getDashboard=function(){return this.scene.screen.get(tn.o4.DASHBOARD_SCREEN)},t}(GameCore.Screen),Jk=Qk,$k=Na.Z.DEFAULT,eb=$k.KEY,tb=$k.FRAME,nb=function(e){function t(t){var n;(n=e.call(this,t)||this).textLevel=void 0;var r=n.createRibbon(),a=r.width,i=r.height;return n.setSize(a,i),n.createText(),n}(0,o.Z)(t,e);var n=t.prototype;return n.createRibbon=function(){var e=this.scene.make.image({key:eb,frame:tb.RESULT_CHALLENGE_RIBBON_BLUE});return e.setSizeBasedOnDpr(),this.add(e),{width:e.displayWidth,height:e.displayHeight}},n.createText=function(){var e=this.scene.make.text({style:{fontFamily:Ee.Z.FONT_FAMILY,fontSize:"23px"},text:"PLAY WITH FRIENDS"});e.setHighQuality(),e.setOrigin(.5,.5),this.add(e);var t=e.context.createLinearGradient(0,0,0,e.height);t.addColorStop(0,"#ffffff"),t.addColorStop(1,"#cce5f9"),e.setFill(t),e.setLineSpacing,e.setShadow(0,6,"#0000003F",0,!1,!0),Phaser.Display.Align.In.Center(e,this,0,-4.5),this.textLevel=e},t}(Phaser.GameObjects.Container),rb=nb,ab=function(){function e(e){this.vs=void 0,this.isPlaying=!1,this.originalScaleXY=void 0,this.vs=e,this.originalScaleXY={scaleX:e.scaleX,scaleY:e.scaleY}}var t=e.prototype;return t.playAnimation=function(){var e=(0,s.Z)(d().mark((function e(){var t;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPlaying){e.next=2;break}return e.abrupt("return");case 2:return this.isPlaying=!0,t=this.originalScaleXY,e.next=6,this.backToNormal(t);case 6:return e.next=8,this.stretchHorizontally1(t);case 8:return e.next=10,this.stretchVertically(t);case 10:return e.next=12,this.stretchHorizontally2(t);case 12:return e.next=14,this.backToNormal(t);case 14:this.isPlaying=!1;case 15:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.stretchHorizontally1=function(){var e=(0,s.Z)(d().mark((function e(t){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.scene.add.tween({targets:this.vs,duration:34,ease:Phaser.Math.Easing.Linear,props:{scaleX:{value:127.5*t.scaleX/106},scaleY:{value:106*t.scaleY/117.3}}}),e.abrupt("return",n.waitForCompletion());case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.stretchVertically=function(){var e=(0,s.Z)(d().mark((function e(t){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.scene.add.tween({targets:this.vs,duration:83,ease:Phaser.Math.Easing.Sine.In,props:{scaleX:{value:103.8*t.scaleX/106},scaleY:{value:141*t.scaleY/117.3}}}),e.abrupt("return",n.waitForCompletion());case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.stretchHorizontally2=function(){var e=(0,s.Z)(d().mark((function e(t){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.scene.add.tween({targets:this.vs,duration:133,ease:Phaser.Math.Easing.Sine.InOut,props:{scaleX:{value:120*t.scaleX/106},scaleY:{value:t.scaleY}}}),e.abrupt("return",n.waitForCompletion());case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.backToNormal=function(){var e=(0,s.Z)(d().mark((function e(t){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.scene.add.tween({targets:this.vs,duration:150,ease:Phaser.Math.Easing.Sine.InOut,props:{scaleX:{value:t.scaleX},scaleY:{value:t.scaleY}}}),e.abrupt("return",n.waitForCompletion());case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),(0,le.Z)(e,[{key:"scene",get:function(){return this.vs.scene}}]),e}(),ib=ab,sb=n(596),ob=function(e){function t(){return e.apply(this,arguments)||this}return(0,o.Z)(t,e),t.prototype.setPhoto=function(t){e.prototype.setPhoto.call(this,t),Phaser.Display.Align.In.Center(this.photo,this.background,0,-2)},t}(ov),cb=ob,ub=function(e){function t(t){var n;return(n=e.call(this,t)||this).scale=void 0,n.alpha0=1,n.accelerationY=5,n}(0,o.Z)(t,e);var n=t.prototype;return n.update=function(t,n,r){var a=e.prototype.update.call(this,t,n,r);return this.updateScale(),this.updateAlpha(),a},n.updateScale=function(){var e=1-this.lifeCurrent%this.life/this.life;this.scaleX=.5*this.scale*Math.sin(e*Math.PI),this.scaleY=.5*this.scale*Math.sin(e*Math.PI)},n.updateAlpha=function(){var e=1-this.lifeCurrent%this.life/this.life;this.alpha=this.alpha0*Math.sin(e*Math.PI)},n.init=function(){this.scale=Phaser.Math.FloatBetween(.5,1),this.alpha=0,Phaser.Math.Between(0,1)&&(this.data.rotate.max=-180)},t}(Phaser.GameObjects.Particles.Particle),lb=ub,db=function(e){function t(t,n){var r;return(r=e.call(this,t,Na.Z.EFFECTS.KEY,Na.Z.EFFECTS.FRAME.FX_STAR_YELLOW)||this).twinkleStar=void 0,r.titleWin=void 0,r.titleWin=n,r.scene.add.existing((0,Ca.Z)(r)),r.createTwinkleStar(),r}(0,o.Z)(t,e);var n=t.prototype;return n.show=function(){this.revive();var e=this.titleWin,t=e.x,n=e.y,r=e.displayWidth,a=e.displayHeight,i=new Phaser.Geom.Rectangle(t-r/2,n-a/2,r,a);this.twinkleStar.setEmitZone({type:"random",source:i}),this.twinkleStar.start()},n.stop=function(){this.twinkleStar.stop(),this.kill()},n.createTwinkleStar=function(){this.twinkleStar=this.createEmitter({on:!1,timeScale:1,lifespan:{min:1e3,max:2e3},quantity:1,frequency:250,particleClass:lb,speedY:{min:-5,max:-10},rotate:{start:0,end:180},accelerationY:{min:-5,max:-10},emitCallback:function(e){e.init()}})},t}(Phaser.GameObjects.Particles.ParticleEmitterManager),hb=db,pb=Na.Z.DEFAULT,fb=pb.KEY,mb=pb.FRAME,gb=function(e){function t(t,n,r,a){var i;return(i=e.call(this,t,n,r,a)||this).scene=void 0,i.backgroundInteractive=void 0,i.contentContainer=void 0,i.ribbonBlue=void 0,i.iconContinue=void 0,i.textTapContainer=void 0,i.sunRay=void 0,i.textWaiting=void 0,i.textTitle=void 0,i.vs=void 0,i.avatarMe=void 0,i.textScoreMe=void 0,i.textNameMe=void 0,i.avatarOpponent=void 0,i.textScoreOpponent=void 0,i.textNameOpponent=void 0,i.isPlayerWin=void 0,i.myInfoBlock=void 0,i.opponentInfoBlock=void 0,i.sunRayOriginalScale=void 0,i.textTitleOriginalScale=void 0,i.vsOriginalScale=void 0,i.myInfoBlockOriginalPosition=void 0,i.opponentInfoBlockOriginalPosition=void 0,i.textTapOriginalY=void 0,i.vsPulsateTween=void 0,i.textTapPulsateTween=void 0,i.backgroundTween=void 0,i.sunRayRotateTween=void 0,i.vsWobbleAnimator=void 0,i.leftRightConfettiEffects=[],i.tweenCounterConfetti=void 0,i.winVFX=void 0,i.open=function(){var t=(0,s.Z)(d().mark((function t(n){return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.prototype.open.call((0,Ca.Z)(i),n),i.scene.audio.playMusic("win_music",{volume:.1}),i.loadAvatars(),i.updateInfo(),i.prepareFadeIn(),t.next=7,i.fadeIn();case 7:i.emitOpenCompleted();case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),i.handleClose=(0,s.Z)(d().mark((function e(){var t;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i.scene.setGlobalSceneInputEnabled(!1),i.stopEmitter(),i.stopWinVFX(),e.next=5,i.scene.quickSetSingleMode();case 5:return t=e.sent,e.next=8,i.handleClosePopup();case 8:return i.scene.screen.open(tn.o4.DASHBOARD_SCREEN),e.next=11,i.scene.navigation.fadeIn("Dashboard");case 11:t(),i.scene.setGlobalSceneInputEnabled(!0);case 13:case"end":return e.stop()}}),e)}))),i.handleClosePopup=(0,s.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.fadeOut();case 2:i.scene.screen.close(i.name);case 3:case"end":return e.stop()}}),e)}))),i.scene=t,i.setDepth(tn.Ks.POPUP),i.background.setAlpha(0),i.createBackground(),i.createContentContainer(),i.createTextTapContainer(),i.createRibbonBlue(),i.createSunRay(),i.createTexts(),i.createTextWaiting(),i.createMyInfoBlock(),i.createOpponentInfoBlock(),i.createLeftRightConfettiEffects(),i.createWinVFX(),i.alignUI(),i.backgroundInteractive.onHandlePointerUp=i.handleClose,i}(0,o.Z)(t,e);var n=t.prototype;return n.createBackground=function(){this.backgroundInteractive=new Pg(this.scene,this.width,this.height),this.backgroundInteractive.setName(so.RESULT_CHALLENGE_BG),this.add(this.backgroundInteractive)},n.createContentContainer=function(){var e=this.scene.add.container();e.setSize(this.width,this.height),this.add(e),this.contentContainer=e},n.createRibbonBlue=function(){this.ribbonBlue=new rb(this.scene),this.contentContainer.add(this.ribbonBlue)},n.createSunRay=function(){this.sunRay=this.scene.make.image({key:fb,frame:mb.RESULT_CHALLENGE_SUN_RAY}),this.sunRay.setSizeBasedOnDpr(),this.sunRay.kill(),this.contentContainer.add(this.sunRay),this.sunRayOriginalScale=this.sunRay.scale},n.createTextWaiting=function(){var e=this.scene.make.text({style:{fontFamily:Ee.Z.FONT_FAMILY,fontSize:"20px"},text:"Waiting your opponent...",origin:{x:.5,y:.5}});e.setHighQuality(),this.contentContainer.add(e),Phaser.Display.Align.In.Center(e,this.contentContainer,0,-100),this.textWaiting=e},n.createTextTapContainer=function(){var e=this.scene.make.text({style:{fontFamily:Ee.Z.FONT_FAMILY,fontSize:"20px"},text:"Tap to continue",origin:{x:.5,y:.5}});e.setHighQuality();var t=this.scene.add.container(),n=this.scene.make.image({key:fb,frame:mb.RESULT_CHALLENGE_ICON_CONTINUE});n.setSizeBasedOnDpr(),t.add([e,n]),t.setSize(e.width+n.width+10,e.height),Phaser.Display.Align.In.RightCenter(e,t),Phaser.Display.Align.In.LeftCenter(n,t,0,2),this.iconContinue=n,this.contentContainer.add(t),this.textTapContainer=t},n.createMyInfoBlock=function(){this.myInfoBlock=this.scene.add.container(),this.avatarMe=new cb(this.scene,{key:fb,frame:mb.AVATAR_BORDER,background:mb.AVATAR_BACKGROUND,width:78,height:78}),this.myInfoBlock.add(this.avatarMe),Phaser.Display.Align.In.Center(this.avatarMe,this.myInfoBlock,0,0),this.textNameMe=this.scene.make.text({style:{fontFamily:Ee.Z.FONT_FAMILY,fontSize:"20px"},origin:{x:.5,y:.5}}),this.textNameMe.setHighQuality(),this.myInfoBlock.add(this.textNameMe),Phaser.Display.Align.In.Center(this.textNameMe,this.myInfoBlock,0,60),this.textScoreMe=this.scene.make.bitmapText({font:Ee.Z.NUMBERS.KEY,size:this.scene.fontSize(70),text:"0",origin:{x:.5,y:.5}}),this.myInfoBlock.add(this.textScoreMe),Phaser.Display.Align.In.Center(this.textScoreMe,this.myInfoBlock,0,90),this.contentContainer.add(this.myInfoBlock),Phaser.Display.Align.In.Center(this.myInfoBlock,this.contentContainer,-90,0),this.myInfoBlockOriginalPosition={x:this.myInfoBlock.x,y:this.myInfoBlock.y}},n.createOpponentInfoBlock=function(){this.opponentInfoBlock=this.scene.add.container(),this.avatarOpponent=new cb(this.scene,{key:fb,frame:mb.AVATAR_BORDER,background:mb.AVATAR_BACKGROUND,width:78,height:78}),this.opponentInfoBlock.add(this.avatarOpponent),Phaser.Display.Align.In.Center(this.avatarOpponent,this.opponentInfoBlock,0,0),this.textNameOpponent=this.scene.make.text({style:{fontFamily:Ee.Z.FONT_FAMILY,fontSize:"20px"},origin:{x:.5,y:.5}}),this.textNameOpponent.setHighQuality(),this.opponentInfoBlock.add(this.textNameOpponent),Phaser.Display.Align.In.Center(this.textNameOpponent,this.opponentInfoBlock,0,60),this.textScoreOpponent=this.scene.make.bitmapText({font:Ee.Z.NUMBERS.KEY,size:this.scene.fontSize(70),text:"0",origin:{x:.5,y:.5}}),this.opponentInfoBlock.add(this.textScoreOpponent),Phaser.Display.Align.In.Center(this.textScoreOpponent,this.opponentInfoBlock,0,90),this.contentContainer.add(this.opponentInfoBlock),Phaser.Display.Align.In.Center(this.opponentInfoBlock,this.contentContainer,90,0),this.opponentInfoBlockOriginalPosition={x:this.opponentInfoBlock.x,y:this.opponentInfoBlock.y}},n.createTexts=function(){this.textTitle=this.scene.make.image({key:fb,frame:mb.RESULT_CHALLENGE_WIN}),this.textTitle.setSizeBasedOnDpr(),this.contentContainer.add(this.textTitle),this.textTitleOriginalScale=this.textTitle.scale,Phaser.Display.Align.In.Center(this.textTitle,this.contentContainer,0,-100);var e=this.scene.make.image({key:fb,frame:mb.RESULT_CHALLENGE_VS});e.setSizeBasedOnDpr();var t=new ib(e);this.vsWobbleAnimator=t,this.contentContainer.add(e),this.vs=e,Phaser.Display.Align.In.Center(e,this.contentContainer,0,0),this.vsOriginalScale=e.scale},n.createLeftRightConfettiEffects=function(){var e=new sb.Z(this.scene,{speedX:{min:-20,max:100},rotate:{start:-1080,end:0}}),t=new sb.Z(this.scene,{speedX:{min:20,max:-100},rotate:{start:0,end:1080}});this.leftRightConfettiEffects=[e,t],this.leftRightConfettiEffects.forEach((function(e){e.setDepth(Go.Z.ON_TOP),e.kill()}))},n.createWinVFX=function(){this.winVFX=new hb(this.scene,this.textTitle),this.add(this.winVFX)},n.alignUI=function(){var e=this.scene.ads.getBannerHeight(),t=0;this.scene.gameZone.height<667&&(t=20),Phaser.Display.Align.In.TopCenter(this.ribbonBlue,this.contentContainer,0,-105),Phaser.Display.Align.In.BottomCenter(this.textTapContainer,this.contentContainer,0,-73-e+t),this.textTapOriginalY=this.textTapContainer.y},n.updateInfo=function(){var e=this.scene.storage.getState(),t=Vc(e),n=this.scene.player.getPlayer().playerId,r=Gc(e).playerId,a=Kc(e,{playerId:n}),i=Hc(e,{opponentId:r}),s=(t[n]||{}).score,o=void 0===s?0:s,c=(t[r]||{}).score,u=void 0===c?0:c;if(this.textScoreMe.setText(a?String(o):"..."),this.textScoreOpponent.setText(i?String(u):"..."),this.avatarMe.changeAvatarFrame(mb.AVATAR_BORDER),this.avatarOpponent.changeAvatarFrame(mb.AVATAR_BORDER),this.sunRay.kill(),this.textWaiting.setVisible(!1),this.isPlayerWin=!1,!a||!i)return this.textTitle.setVisible(!1),void this.textWaiting.setVisible(!0);if(o===u)return this.textTitle.setVisible(!0),this.textTitle.setFrame(mb.RESULT_CHALLENGE_DRAW),void this.textTitle.setSizeBasedOnDpr();if(o>u){this.avatarMe.changeAvatarFrame(mb.AVATAR_BORDER_WIN),this.textTitle.setVisible(!0),this.textTitle.setFrame(mb.RESULT_CHALLENGE_WIN),this.textTitle.setSizeBasedOnDpr(),this.isPlayerWin=!0,this.sunRay.revive();var l=this.myInfoBlock,d=l.x,h=l.y;this.sunRay.setPosition(d,h)}else if(o<u){this.avatarOpponent.changeAvatarFrame(mb.AVATAR_BORDER_WIN),this.textTitle.setVisible(!0),this.textTitle.setFrame(mb.RESULT_CHALLENGE_LOSE),this.textTitle.setSizeBasedOnDpr(),this.sunRay.revive();var p=this.opponentInfoBlock,f=p.x,m=p.y;this.sunRay.setPosition(f,m)}else;},n.loadAvatars=function(){var e=this.scene.storage.getState(),t=this.scene.player.getPlayer(),n=t.name,r=t.photo,a=t.playerId,i=Gc(e),s=i.name,o=i.playerId,c=i.photo;this.textNameMe.setText(n),this.textNameOpponent.setText(s),this.avatarMe.loadPhoto(a,r,5),this.avatarOpponent.loadPhoto(o,c,5)},n.fadeIn=function(){var e=(0,s.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.scene.audio.playSound(nn.Z.STAR_2,{volume:.6}),e.next=3,u().all([this.runBackgroundFadeIn(),this.runRibbonFadeIn()]);case 3:return this.isPlayerWin&&this.runConfettiEffects(),e.next=6,this.runTextWaitingFadeIn();case 6:return e.next=8,this.runTextTitleFadeIn();case 8:return this.isPlayerWin&&this.showWinVFX(),e.next=11,this.vsWobbleAnimator.playAnimation();case 11:return e.next=13,u().all([this.runAvatarsFadeIn(),this.runPopupFadeInScale()]);case 13:this.runVsPulsateAnimation(),this.runTextTapPulsateAnimation();case 15:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.prepareFadeIn=function(){var e,t,n,r;null==(e=this.backgroundTween)||e.remove(),this.contentContainer.setScale(1),this.ribbonBlue.setScale(0),this.textWaiting.setScale(0),this.textTitle.setScale(0),null==(t=this.sunRayRotateTween)||t.remove(),this.sunRay.setScale(0),this.sunRay.setAngle(0),null==(n=this.textTapPulsateTween)||n.remove(),this.textTapContainer.setScale(1),this.textTapContainer.setAlpha(0),this.textTapContainer.setY(this.textTapOriginalY),this.background.setAlpha(0),[this.myInfoBlock,this.opponentInfoBlock].forEach((function(e){e.setAlpha(0)})),null==(r=this.vsPulsateTween)||r.remove(),this.vs.setScale(0)},n.runSunRayFadeIn=function(){var e=(0,s.Z)(d().mark((function e(){var t;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.scene.tweens.add({targets:this.sunRay,duration:500,scale:this.sunRayOriginalScale,ease:Phaser.Math.Easing.Cubic.Out}),e.abrupt("return",t.waitForCompletion());case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.runSunRayRotateAnimation=function(){var e;null==(e=this.sunRayRotateTween)||e.remove(),this.sunRayRotateTween=this.scene.tweens.add({targets:this.sunRay,duration:3e4,angle:360,repeat:-1})},n.runConfettiEffects=function(){var e=this,t=this.scene.gameZone.width;this.leftRightConfettiEffects.forEach((function(t){t.revive(),t.stop(),e.scene.children.bringToTop(t)}));var n=this.leftRightConfettiEffects,r=n[0],a=n[1];r.run(1,0,-100),a.run(1,0+t,-100),this.tweenCounterConfetti=this.scene.tweens.addCounter({delay:1e4,from:100,to:0,ease:Phaser.Math.Easing.Cubic.Out,duration:400,onUpdate:function(t){var n=t.getValue()/100;e.leftRightConfettiEffects.forEach((function(e){var t;null==(t=e.emitter)||t.setAlpha(n)}))},onComplete:function(){e.stopEmitter()}})},n.stopEmitter=function(){var e;null==(e=this.tweenCounterConfetti)||e.stop(),this.leftRightConfettiEffects.forEach((function(e){var t,n;null==(t=e.emitter)||t.killAll(),null==(n=e.emitter)||n.setAlpha(1),e.stop(),e.kill()}))},n.runBackgroundFadeIn=function(){var e=(0,s.Z)(d().mark((function e(){var t,n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null==(t=this.backgroundTween)||t.remove(),n=this.scene.add.tween({targets:this.background,duration:200,props:{alpha:.8}}),this.backgroundTween=n,e.abrupt("return",n.waitForCompletion());case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.runRibbonFadeIn=function(){var e=(0,s.Z)(d().mark((function e(){var t,n,r=this;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.ribbonBlue,n=this.scene.add.tween({targets:t,ease:co()(.44,1.68,.64,1),duration:487,props:{scale:{from:0,to:1}},onUpdate:function(){Phaser.Display.Align.In.TopCenter(r.ribbonBlue,r.contentContainer,0,-105)},onComplete:function(){Zm(100)}}),e.abrupt("return",n.waitForCompletion());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.runTextWaitingFadeIn=function(){var e=(0,s.Z)(d().mark((function e(){var t;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.scene.add.tween({targets:this.textWaiting,ease:co()(.44,1.68,.64,1),duration:487,props:{scale:{from:0,to:1}},onComplete:function(){Zm(100)}}),e.abrupt("return",t.waitForCompletion());case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.runTextTitleFadeIn=function(){var e=(0,s.Z)(d().mark((function e(){var t;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.scene.add.tween({targets:this.textTitle,ease:co()(.44,1.68,.64,1),duration:487,props:{scale:{from:0,to:this.textTitleOriginalScale}},onComplete:function(){Zm(100)}}),e.abrupt("return",t.waitForCompletion());case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.runPopupFadeInScale=function(){var e=(0,s.Z)(d().mark((function e(){var t,n,r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.scene.add.tween({targets:this.contentContainer,duration:300,delay:100,ease:Phaser.Math.Easing.Quadratic.In,props:{scale:849/926.8}}),e.next=3,t.waitForCompletion();case 3:return Zm(100),n=this.scene.add.tween({targets:this.contentContainer,duration:233,ease:co()(.42,2.22,.45,1.12),props:{scale:918.3/926.8}}),e.next=7,n.waitForCompletion();case 7:return r=this.scene.add.tween({targets:this.contentContainer,duration:167,ease:co()(.83,.28,.65,1.28),props:{scale:1}}),e.next=10,r.waitForCompletion();case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.runAvatarsFadeIn=function(){var e=(0,s.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u().all([this.runMyInfoBlockFadeIn(),this.runOpponentInfoBlockFadeIn()]);case 2:return e.next=4,this.runSunRayFadeIn();case 4:this.runSunRayRotateAnimation();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.runMyInfoBlockFadeIn=function(){var e=(0,s.Z)(d().mark((function e(){var t,n,r,a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.myInfoBlockOriginalPosition,n=t.x,r=t.y,a=this.scene.add.tween({targets:this.myInfoBlock,duration:400,props:{x:{from:0,to:n,ease:Phaser.Math.Easing.Back.Out,duration:500},y:{from:r+154,to:r,ease:co()(.44,1.68,.64,1)},alpha:{from:0,to:1,ease:Phaser.Math.Easing.Cubic.Out},scale:{from:.5,to:1,ease:Phaser.Math.Easing.Elastic.Out,easeParams:[.1,.45],duration:1e3}}}),e.abrupt("return",a.waitForCompletion());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.runOpponentInfoBlockFadeIn=function(){var e=(0,s.Z)(d().mark((function e(){var t,n,r,a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.opponentInfoBlockOriginalPosition,n=t.x,r=t.y,a=this.scene.add.tween({targets:this.opponentInfoBlock,duration:400,props:{x:{from:0,to:n,ease:Phaser.Math.Easing.Back.Out,duration:500},y:{from:r+154,to:r,ease:co()(.44,1.68,.64,1)},alpha:{from:0,to:1,ease:Phaser.Math.Easing.Cubic.Out},scale:{from:.5,to:1,ease:Phaser.Math.Easing.Elastic.Out,easeParams:[.1,.45],duration:1e3}}}),e.abrupt("return",a.waitForCompletion());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.runVsPulsateAnimation=function(){var e;null==(e=this.vsPulsateTween)||e.remove(),this.vsPulsateTween=this.scene.add.tween({targets:this.vs,duration:834,yoyo:!0,repeat:-1,repeatDelay:200,ease:Kh,easeParams:[0,.9],props:{scale:{from:this.vsOriginalScale,to:105.2*this.vsOriginalScale/95.11}}})},n.runTextTapPulsateAnimation=function(){var e;null==(e=this.textTapPulsateTween)||e.remove(),this.textTapPulsateTween=this.scene.add.tween({targets:this.textTapContainer,duration:850,yoyo:!0,repeat:-1,repeatDelay:200,ease:Kh,easeParams:[0,.9],props:{alpha:{from:.2,to:1},y:{from:this.textTapOriginalY,to:this.textTapOriginalY-1}}})},n.fadeOut=function(){var e=(0,s.Z)(d().mark((function e(){var t,n,r,a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.scene.add.tween({targets:this.contentContainer,duration:200,ease:Phaser.Math.Easing.Cubic.In,scale:0}),e.next=3,u().all([a.waitForCompletion(),this.runBackgroundFadeOut()]);case 3:null==(t=this.textTapPulsateTween)||t.remove(),null==(n=this.vsPulsateTween)||n.remove(),null==(r=this.sunRayRotateTween)||r.remove();case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.runBackgroundFadeOut=function(){var e=(0,s.Z)(d().mark((function e(){var t,n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null==(t=this.backgroundTween)||t.remove(),n=this.scene.add.tween({targets:this.background,duration:200,props:{alpha:0}}),this.backgroundTween=n,e.abrupt("return",n.waitForCompletion());case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.showWinVFX=function(){this.winVFX.show()},n.stopWinVFX=function(){this.winVFX.stop()},t}(GameCore.Screen),vb=gb,yb=Na.Z.DEFAULT,kb=yb.KEY,bb=yb.FRAME,Eb=function(e){function t(t){var n;return(n=e.call(this,t)||this).scene=void 0,n.scene=t,n.setSize(292.5,79),n.createRibbon(),n.createText(),n}(0,o.Z)(t,e);var n=t.prototype;return n.createRibbon=function(){var e=this.scene.make.image({key:kb,frame:bb.WORLD_TOURNAMENT_SCREEN_RIBBON_PINK});e.setSizeBasedOnDpr(),this.add(e)},n.createText=function(){var e=this.scene.make.text({style:{fontFamily:Ee.Z.FONT_FAMILY,fontSize:"22px"},text:"WORLD TOURNAMENT"});e.setHighQuality(),e.setOrigin(.5,.5),this.add(e);var t=e.context.createLinearGradient(0,0,0,e.height);t.addColorStop(0,"#ffffff"),t.addColorStop(1,"#cce5f9"),e.setFill(t),e.setShadow(0,6,"#0000003F",0,!1,!0),e.setY(-3.5)},t}(Phaser.GameObjects.Container),xb=Eb,Sb=Na.Z.DEFAULT,wb=Sb.KEY,Ab=Sb.FRAME,Cb={normal:{key:wb,background:Ab.WORLD_TOURNAMENT_SCREEN_AVATAR,frame:Ab.WORLD_TOURNAMENT_SCREEN_AVATAR_FRAME,width:80.5,height:80.5},small:{key:wb,background:Ab.WORLD_TOURNAMENT_SCREEN_AVATAR_SMALL,frame:Ab.WORLD_TOURNAMENT_SCREEN_AVATAR_FRAME_SMALL,width:75,height:75}},Tb=function(e){function t(t,n){var r;return(r=e.call(this,t,(0,i.Z)({},Cb[n],{loadDelay:100}))||this).background.setSizeBasedOnDpr(),r.avtFrame.setSizeBasedOnDpr(),r}(0,o.Z)(t,e);var n=t.prototype;return n.loadPhoto=function(t,n,r){void 0===r&&(r=100),t===this.payload.id&&n===this.payload.url||e.prototype.loadPhoto.call(this,t,n,r)},n.setPhoto=function(t){e.prototype.setPhoto.call(this,t);var n=this.background,r=n.width,a=n.height;this.photo.setWorldSize(r,a)},n.showDefaultPhoto=function(){this.loadPhoto($r.Z.AVATAR.KEY,$r.Z.AVATAR.FILE)},t}(ov),Lb=Tb,Ib=function(e){function t(t){var n;return(n=e.call(this,t)||this).scene=void 0,n.avatar=void 0,n.textRank=void 0,n.nameText=void 0,n.scoreText=void 0,n.scene=t,n}(0,o.Z)(t,e);var n=t.prototype;return n.setRank=function(e){this.textRank.setText(this.getCorrectRankString(e))},n.setNameText=function(e){this.nameText.setText(e)},n.setScoreText=function(e){this.scoreText.setText(e.toString())},n.loadPhoto=function(e,t){""!==t?this.avatar.loadPhoto(e,t):this.avatar.showDefaultPhoto()},n.getCorrectRankString=function(e){return e>99?"99+":0==e?"?":e.toString()},t}(Phaser.GameObjects.Container),Pb=Ib,_b=Na.Z.DEFAULT,Bb=_b.KEY,Ob=_b.FRAME,Rb=function(e){function t(t){var n;return(n=e.call(this,t)||this).setSize(107,141),n.createBackground(),n.createAvatar(),n.createDarkBlueTag(),n.createTextRank(),n.createNameText(),n.createScoreText(),n}(0,o.Z)(t,e);var n=t.prototype;return n.createBackground=function(){var e=this.scene.make.image({key:Bb,frame:Ob.WORLD_TOURNAMENT_SCREEN_RANK_BOX});e.setSizeBasedOnDpr(),this.add(e)},n.createAvatar=function(){var e=new Lb(this.scene,"small");this.add(e),e.setY(-24),this.avatar=e},n.createDarkBlueTag=function(){var e=this.scene.make.image({key:Bb,frame:Ob.WORLD_TOURNAMENT_SCREEN_DARK_BLUE_TAG});e.setSizeBasedOnDpr(),this.add(e),e.setPosition(-34,-58)},n.createTextRank=function(){var e=this.scene.make.text({style:{fontFamily:Ee.Z.FONT_FAMILY,fontSize:"17px",align:"center"},text:"1",origin:{x:.5,y:.5}});e.setHighQuality(),e.setShadow(0,2,"#000000",0,!1,!0),this.add(e),e.setPosition(-34,-62),this.textRank=e},n.createNameText=function(){var e=this.scene.make.text({style:{fontFamily:Ee.Z.FONT_FAMILY,fontSize:"16px",align:"center"},text:"Simla",origin:{x:.5,y:.5}});e.setHighQuality();var t=e.context.createLinearGradient(0,0,0,e.height);t.addColorStop(0,"#ffffff"),t.addColorStop(1,"#cce5f9"),e.setFill(t),e.setShadow(0,2,"#000000",0,!1,!0),this.add(e),e.setY(26),this.nameText=e},n.createScoreText=function(){var e=this.scene.make.text({style:{fontFamily:Ee.Z.FONT_FAMILY,fontSize:"16px",align:"center"},text:"1234",origin:{x:.5,y:.5}});e.setHighQuality();var t=e.context.createLinearGradient(0,0,0,e.height);t.addColorStop(0,"#ffffff"),t.addColorStop(1,"#cce5f9"),e.setFill(t),e.setShadow(0,2,"#000000",0,!1,!0),this.add(e),e.setY(54),this.scoreText=e},t}(Pb),Mb=Rb,Nb=Na.Z.DEFAULT,Db=Nb.KEY,Fb=Nb.FRAME,Gb=function(e){function t(t){var n;return(n=e.call(this,t)||this).shareButton=void 0,n.shareButtonOriginalY=void 0,n.handleShare=function(){n.scene.tournament.getCurrentTournamentScore()},n.setSize(124,162.5),n.createShareButton(),n.createBackground(),n.createAvatar(),n.createPinkTag(),n.createTextRank(),n.createNameText(),n.createScoreText(),n}(0,o.Z)(t,e);var n=t.prototype;return n.prepareEntranceAnimation=function(){this.shareButton.setAlpha(0),this.shareButton.setY(this.shareButtonOriginalY-50),this.shareButton.setScale(.3)},n.runEntranceAnimation=function(){var e=(0,s.Z)(d().mark((function e(){var t;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.scene.tweens.add({targets:this.shareButton,duration:328,ease:Phaser.Math.Easing.Back.Out,props:{y:{value:this.shareButtonOriginalY},alpha:{from:.5,to:1},scale:1}}),e.abrupt("return",t.waitForCompletion());case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.createBackground=function(){var e=this.scene.make.image({key:Db,frame:Fb.WORLD_TOURNAMENT_SCREEN_YOU_RANK_BOX});e.setSizeBasedOnDpr(),this.add(e)},n.createAvatar=function(){var e=new Lb(this.scene,"normal");this.add(e),e.setY(-28),this.avatar=e},n.createPinkTag=function(){var e=this.scene.make.image({key:Db,frame:Fb.WORLD_TOURNAMENT_SCREEN_PINK_TAG});e.setSizeBasedOnDpr(),this.add(e),e.setPosition(-37,-66)},n.createTextRank=function(){var e=this.scene.make.text({style:{fontFamily:Ee.Z.FONT_FAMILY,fontSize:"21px",align:"center"},text:"1",origin:{x:.5,y:.5}});e.setHighQuality(),e.setShadow(0,2,"#000000",0,!1,!0),this.add(e),e.setPosition(-37,-72),this.textRank=e},n.createShareButton=function(){var e=new io.Z(this.scene,Db,Fb.WORLD_TOURNAMENT_SCREEN_BTN_BIG,121,39);this.add(e),e.setName(so.WORLD_TOURNAMENT_SHARE),e.onClick=this.handleShare;var t=this.scene.make.image({key:Db,frame:Fb.WORLD_TOURNAMENT_SCREEN_SHARE});t.setSizeBasedOnDpr();var n=this.scene.make.image({key:Db,frame:Fb.WORLD_TOURNAMENT_SCREEN_TEXT_SHARE});n.setSizeBasedOnDpr(),e.add([t,n]),t.setPosition(-31,-1),n.setPosition(12,-2),e.setPosition(0,118),this.shareButton=e,this.shareButtonOriginalY=e.y},n.createNameText=function(){var e=this.scene.make.text({style:{fontFamily:Ee.Z.FONT_FAMILY,fontSize:"17px",align:"center"},text:"Your name",origin:{x:.5,y:.5}});e.setHighQuality();var t=e.context.createLinearGradient(0,0,0,e.height);t.addColorStop(0,"#ffffff"),t.addColorStop(1,"#cce5f9"),e.setFill(t),e.setShadow(0,2,"#000000",0,!1,!0),this.add(e),e.setY(29.5),this.nameText=e},n.createScoreText=function(){var e=this.scene.make.text({style:{fontFamily:Ee.Z.FONT_FAMILY,fontSize:"21px",align:"center"},text:"2828",origin:{x:.5,y:.5}});e.setHighQuality();var t=e.context.createLinearGradient(0,0,0,e.height);t.addColorStop(0,"#fffde8"),t.addColorStop(1,"#ffee92"),e.setFill(t),e.setShadow(0,2,"#000000",0,!1,!0),this.add(e),e.setY(63),this.scoreText=e},t}(Pb),Zb=Gb,Ub=Na.Z.DEFAULT,Kb=Ub.KEY,Hb=Ub.FRAME,Wb=function(e){function t(t){var n,r;return(r=e.call(this,t)||this).scene=void 0,r.ray=void 0,r.otherRankBoxes=[],r.youRankBox=void 0,r.sortedBoxes=[],r.youRankBoxOriginalY=void 0,r.scene=t,r.setSize(352.5,171.5),r.createRay(),r.createOtherRankBoxes(),r.createYouRankBox(),r.alignBoxes(P()(n=[]).call(n,r.otherRankBoxes,[r.youRankBox])),r.alignRay(),r}(0,o.Z)(t,e);var n=t.prototype;return n.updateData=function(e){var t,n=this,r=this.scene.player.getPlayerId(),a=P()(t=[]).call(t,this.otherRankBoxes),i=[];e.forEach((function(e){var t,s=e.playerId,o=e.name,c=e.rank,u=e.score,l=e.photo;if(s==r)t=n.youRankBox;else{var d=a.shift();if(!d)return;t=d}t.setRank(c),t.setNameText(o),t.setScoreText(u),t.loadPhoto(s,l),i.push(t)})),this.alignBoxes(i),this.alignRay(),this.sortedBoxes=i},n.prepareEntranceAnimation=function(){this.sortedBoxes.forEach((function(e){e.setAlpha(0),e.x+=200})),this.youRankBox.setY(0).setScale(214/248),this.youRankBox.prepareEntranceAnimation(),this.ray.setAlpha(0),this.alignRay()},n.runEntranceAnimation=function(){var e=(0,s.Z)(d().mark((function e(){var t,n,r,a,i=this;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=De()(t=this.sortedBoxes).call(t,(function(e,t){return i.scene.tweens.add({targets:e,ease:Phaser.Math.Easing.Expo.Out,delay:117*t,duration:917,props:{x:e.x-200,alpha:1},onUpdate:function(){i.alignRay()}}).waitForCompletion()})),e.next=3,u().all(n);case 3:return r=this.scene.tweens.add({targets:this.youRankBox,props:{y:{value:this.youRankBoxOriginalY,duration:500,ease:Phaser.Math.Easing.Back.Out},scale:{value:1,duration:1e3,ease:Phaser.Math.Easing.Elastic.Out,easeParams:[.1,.45]}},onUpdate:function(){i.alignRay()}}),a=this.scene.tweens.add({targets:this.ray,duration:500,props:{alpha:1}}),e.abrupt("return",u().all([r.waitForCompletion(),this.youRankBox.runEntranceAnimation(),a.waitForCompletion()]));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.alignBoxes=function(e,t){void 0===t&&(t=7.5);var n=sh()(e).call(e,(function(e,t){return e+t.width}),0)+(e.length-1)*t;e.forEach((function(r,a){if(0!==a){var i=e[a-1];r.setX(i.x+i.width/2+r.width/2+t)}else r.setX((r.width-n)/2)}))},n.createRay=function(){var e=this.scene.make.image({key:Kb,frame:Hb.WORLD_TOURNAMENT_SCREEN_RAY});e.setSizeBasedOnDpr(),this.add(e),this.scene.add.tween({targets:e,duration:1e4,repeat:-1,props:{angle:360}}),this.ray=e},n.createOtherRankBoxes=function(){var e=new Mb(this.scene),t=new Mb(this.scene);e.setRank(28),t.setRank(29),this.add([e,t]),Phaser.Display.Align.In.LeftCenter(e,this,-3.5),Phaser.Display.Align.In.Center(t,this,-5),this.otherRankBoxes=[e,t]},n.createYouRankBox=function(){var e=new Zb(this.scene);e.setRank(30),this.add(e),Phaser.Display.Align.In.RightCenter(e,this,3.5,-16),this.youRankBoxOriginalY=e.y,this.youRankBox=e},n.alignRay=function(){this.ray.setPosition(this.youRankBox.x-1,this.youRankBox.y-13)},t}(Phaser.GameObjects.Container),Vb=Wb,Yb=Na.Z.DEFAULT,zb=Yb.KEY,jb=Yb.FRAME,Xb=function(e){function t(t,n,r,a){var i;return(i=e.call(this,t,n,r,a)||this).scene=void 0,i.interactiveBackground=void 0,i.rankBoxRow=void 0,i.continue=void 0,i.continueText=void 0,i.screenAnimation=void 0,i.textTapPulsateTween=void 0,i.leftRightConfettiEffects=[],i.tweenCounterConfetti=void 0,i.handleBackgroundClick=(0,s.Z)(d().mark((function e(){var t,n,r,a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.scene.scene.get(fa.C.LOAD_SCENE),e.next=3,t.waitUntilDashboardResourcesLoaded(!0);case 3:if((n=i.scene.screen.get(tn.o4.DASHBOARD_SCREEN))instanceof dp){e.next=7;break}return console.error("Dashboard screen is not found"),e.abrupt("return");case 7:return i.scene.setGlobalSceneInputEnabled(!1),r=i.scene.player.getCustomData("level"),n.prepareFadeInFromGameplay(),i.scene.navigation.setHybridElementsVisible(r>3),e.next=13,u().all([i.scene.navigation.fadeOut(),i.scene.fadeOut(),i.scene.screen.closeAsync(i.name),i.scene.quickSetSingleMode()]);case 13:return a=e.sent,i.scene.screen.open(tn.o4.DASHBOARD_SCREEN),e.next=17,i.scene.navigation.fadeIn("Dashboard");case 17:a[3](),i.scene.setGlobalSceneInputEnabled(!0);case 19:case"end":return e.stop()}}),e)}))),i.scene=t,i.setDepth(tn.Ks.POPUP),i.background.setAlpha(.8),i.createInteractiveBackground(),i.createRibbon(),i.createRankBoxRow(),i.createContinueIcon(),i.createContinueText(),i.createLeftRightConfettiEffects(),i.listenEvents(),i}(0,o.Z)(t,e);var n=t.prototype;return n.open=function(){var t=(0,s.Z)(d().mark((function t(n){var r;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.prototype.open.call(this,n),this.rankBoxRow.updateData(n.leaderPayloads),this.rankBoxRow.prepareEntranceAnimation(),null==(r=this.textTapPulsateTween)||r.remove(),[this.continue,this.continueText].forEach((function(e){e.setAlpha(0)})),this.runConfettiEffects(),t.next=8,this.runEntranceAnimation();case 8:this.emitOpenCompleted();case 9:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),n.close=function(){var t=(0,s.Z)(d().mark((function t(){var n;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return null==(n=this.textTapPulsateTween)||n.remove(),this.stopEmitter(),t.next=4,this.runExitAnimation();case 4:e.prototype.close.call(this);case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),n.createInteractiveBackground=function(){var e=new Pg(this.scene,this.width,this.height);e.setName(so.WORLD_TOURNAMENT_BG),this.add(e),this.interactiveBackground=e},n.createRibbon=function(){var e=new xb(this.scene);this.add(e),e.setY(-255)},n.createRankBoxRow=function(){var e=new Vb(this.scene);this.add(e),e.setY(-63.5),this.rankBoxRow=e},n.createContinueIcon=function(){var e=this.scene.make.image({key:zb,frame:jb.WORLD_TOURNAMENT_SCREEN_ICON_CONTINUE});e.setSizeBasedOnDpr(),this.add(e),e.setPosition(-78,149),this.continue=e},n.createContinueText=function(){var e=this.scene.make.text({style:{fontFamily:Ee.Z.FONT_FAMILY,fontSize:"22px"},text:"Tap to continue"});e.setHighQuality(),e.setOrigin(.5,.5),this.add(e),e.setPosition(10,146),this.continueText=e},n.createLeftRightConfettiEffects=function(){var e=new sb.Z(this.scene,{speedX:{min:-20,max:100},rotate:{start:-1080,end:0}}),t=new sb.Z(this.scene,{speedX:{min:20,max:-100},rotate:{start:0,end:1080}});this.leftRightConfettiEffects=[e,t],this.leftRightConfettiEffects.forEach((function(e){e.setDepth(Go.Z.ON_TOP),e.kill()}))},n.listenEvents=function(){this.interactiveBackground.onClick=this.handleBackgroundClick},n.runEntranceAnimation=function(){var e=(0,s.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.runScreenEntranceAnimation();case 2:return e.next=4,this.rankBoxRow.runEntranceAnimation();case 4:return e.next=6,this.runContinueEntranceAnimation();case 6:this.runTextTapPulsateAnimation();case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.runExitAnimation=function(){var e=(0,s.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",u().all([this.runScreenExitAnimation()]));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.runScreenEntranceAnimation=function(){var e=(0,s.Z)(d().mark((function e(){var t,n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null==(t=this.screenAnimation)||t.remove(),this.screenAnimation=this.scene.tweens.add({targets:this,duration:250,props:{alpha:{from:0,to:1}}}),e.abrupt("return",null==(n=this.screenAnimation)?void 0:n.waitForCompletion());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.runScreenExitAnimation=function(){var e=(0,s.Z)(d().mark((function e(){var t,n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null==(t=this.screenAnimation)||t.remove(),this.screenAnimation=this.scene.tweens.add({targets:this,duration:250,props:{alpha:0}}),e.abrupt("return",null==(n=this.screenAnimation)?void 0:n.waitForCompletion());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.runContinueEntranceAnimation=function(){var e=(0,s.Z)(d().mark((function e(){var t;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.scene.tweens.add({targets:[this.continue,this.continueText],duration:100,props:{alpha:.2}}),e.abrupt("return",t.waitForCompletion());case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.runTextTapPulsateAnimation=function(){var e;null==(e=this.textTapPulsateTween)||e.remove(),this.textTapPulsateTween=this.scene.add.tween({targets:[this.continue,this.continueText],duration:850,yoyo:!0,repeat:-1,repeatDelay:200,ease:Kh,easeParams:[0,.9],props:{alpha:{from:.2,to:1}}})},n.runConfettiEffects=function(){var e=this,t=this.scene.gameZone.width;this.leftRightConfettiEffects.forEach((function(t){t.revive(),t.stop(),e.scene.children.bringToTop(t)}));var n=this.leftRightConfettiEffects,r=n[0],a=n[1];r.run(1,0,-100),a.run(1,0+t,-100),this.tweenCounterConfetti=this.scene.tweens.addCounter({delay:1e4,from:100,to:0,ease:Phaser.Math.Easing.Cubic.Out,duration:400,onUpdate:function(t){var n=t.getValue()/100;e.leftRightConfettiEffects.forEach((function(e){var t;null==(t=e.emitter)||t.setAlpha(n)}))},onComplete:function(){e.stopEmitter()}})},n.stopEmitter=function(){var e;null==(e=this.tweenCounterConfetti)||e.stop(),this.leftRightConfettiEffects.forEach((function(e){var t,n;null==(t=e.emitter)||t.killAll(),null==(n=e.emitter)||n.setAlpha(1),e.stop(),e.kill()}))},t}(GameCore.Screen),qb=Xb,Qb=function(e){function t(){for(var t,n,a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(n=e.call.apply(e,P()(t=[this]).call(t,i))||this).gameplayMode=void 0,n.header=void 0,n.footer=void 0,n.gameManager=void 0,n.tutorialHandler=void 0,n.bgHandler=void 0,n.gameplayParticleHandler=void 0,n.screenParticleHandler=void 0,n.navigation=void 0,n._stepLogHandler=void 0,n.devToolManager=void 0,n.create=function(){e.prototype.create.call((0,Ca.Z)(n)),n.createBackground(Na.Z.GAMEPLAY.KEY,Na.Z.GAMEPLAY.FRAME.BLANK),n.background.setTintFill(3048429),n.background.setDepth(-100),n.input.setTopOnly(!0),n.createManagers(),n.createScreens(),n.createHeader(),n.createFooter(),n.createScreens(),n.alignDevToolManager(),n.startLevel(),Ih.Z.fadeInHTMLBg((0,Ca.Z)(n),0,"black")},n.run=(0,s.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.checkAndAddShortcut(),n.ads.showBannerAdAsync().catch((function(e){(0,r.tO)(e)})),!n.tutorialHandler.isGameInTutorialLevels()){e.next=10;break}return e.next=5,n.quickSetSingleMode();case 5:return e.next=7,n.tutorialHandler.showTutorialEarly();case 7:if(!e.sent){e.next=10;break}return e.abrupt("return");case 10:return n.setGlobalSceneInputEnabled(!1),e.next=13,u().all([n.navigation.fadeIn("Dashboard"),n.screen.openAsync(tn.o4.DASHBOARD_SCREEN)]);case 13:n.setGlobalSceneInputEnabled(!0);case 14:case"end":return e.stop()}}),e)}))),n.handleCloseBannerAds=function(){n.ads.hideBannerAdAsync().catch((function(e){console.warn(e)}))},n}(0,o.Z)(t,e);var n=t.prototype;return n.preload=function(){if(this.events.on(Phaser.Scenes.Events.WAKE,this.run),this.events.on(Phaser.Scenes.Events.CREATE,this.run),this.events.on(Phaser.Scenes.Events.SLEEP,this.handleCloseBannerAds),"ru"==this.facebook.getLocale()){var e=this.make.text.bind(this.add);this.make.text=function(t,n){return console.log("Using config font ru"),e((0,i.Z)({},t,{padding:{bottom:-3}}),n)}}},n.createScreens=function(){this.screen.add(tn.o4.DASHBOARD_SCREEN,dp),this.screen.add(tn.o4.NO_MORE_MOVES_SCREEN,Zp),this.screen.add(tn.o4.WELL_DONE_SCREEN,$p),this.screen.add(tn.o4.RESULT_SCREEN,Nf),this.screen.add(tn.o4.RESULT_CHALLENGE_SCREEN,vb),this.screen.add(tn.o4.SHOP_SCREEN,hy),this.screen.add(tn.o4.REWARD_SCREEN,Bg),this.screen.add(tn.o4.SWITCH_MAP_SCREEN,fy),this.screen.add(tn.o4.MAP_SCREEN,Rh),this.screen.add(tn.o4.SETTINGS_SCREEN,Cy),this.screen.add(tn.o4.DAILY_CHALLENGE_SCREEN,Jk),this.screen.add(tn.o4.WORLD_TOURNAMENT_SCREEN,qb),this.tutorialHandler.isGameInTutorialLevels()&&this.screen.add(tn.o4.TUTORIAL_SCREEN,lk)},n.createHeader=function(){this.header=new Lv(this),this.header.kill(),Phaser.Display.Align.In.TopCenter(this.header,this.gameZone,0,0)},n.createFooter=function(){this.footer=new Hl(this),this.footer.kill(),this.alignFooter()},n.alignFooter=function(){var e=this.ads.getBannerHeight();Phaser.Display.Align.In.BottomCenter(this.footer,this.gameZone,0,-e)},n.resizeFooter=function(e){Ba.FOOTER_SCALE=e,this.footer.updateResponsiveScale(Ba.FOOTER_SCALE),this.alignFooter()},n.createManagers=function(){if(this.gameManager=new kl(this),this.gameManager.create(),this.tutorialHandler=new fk(this),this.bgHandler=new ky(this),this.gameplayParticleHandler=new ah(this),this.screenParticleHandler=new av(this),this.navigation=new mg(this),Phaser.Display.Align.In.Center(this.navigation,this.gameZone),this._stepLogHandler=new vk(this),GameCore.Utils.Valid.isDebugger()){var e=new md(this);this.devToolManager=e}},n.alignDevToolManager=function(){GameCore.Utils.Valid.isDebugger()&&this.devToolManager&&Phaser.Display.Align.In.TopCenter(this.devToolManager,this.gameZone,0,0)},n.waitUntilImportantLazyResourcesLoaded=function(){var e=(0,s.Z)(d().mark((function e(){var t;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this.scene.get(fa.C.LOAD_SCENE)).importantLazyResourcesLoaded){e.next=3;break}return e.abrupt("return");case 3:return e.abrupt("return",t.waitUntilImportantLazyResourcesLoaded());case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.showLoading=function(){this.game.globalScene.screen.open(tn.o4.NOTIFY_SCREEN,{message:"Loading...",loading:!0})},n.hideLoading=function(){this.game.globalScene.screen.close(tn.o4.NOTIFY_SCREEN)},n.canProcessTournamentMode=function(){var e=this.storage.getState(),t=oa(e);return aa===t},n.canProcessPlayerFinishedChallengeMatch=function(){var e=this.storage.getState(),t=this.player.getPlayerId();return Kc(e,{playerId:t})},n.canProcessFriendsMode=function(){var e=this.storage.getState(),t=oa(e);return na==t},n.handlePlayerFinishedChallengeMatch=function(){var e=(0,s.Z)(d().mark((function e(){var t,n,r,a,i;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.storage.getState(),n=Zc(t),r=n.level,window.levelCustom=r,this.showLoading(),e.next=6,this.loadBgWithRetryAsync(r);case 6:return(a=De()(this).getMapContentByLevel(r))&&(i=a.gameplayBackgroundKey,this.bgHandler.setCurrentBg(i)),e.next=10,this.waitUntilImportantLazyResourcesLoaded();case 10:return this.hideLoading(),this.setGlobalSceneInputEnabled(!1),e.next=14,this.screen.openAsync(tn.o4.RESULT_CHALLENGE_SCREEN);case 14:this.setGlobalSceneInputEnabled(!0);case 15:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.handlePlayCustomLevel=function(){var e=(0,s.Z)(d().mark((function e(t,n){var r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.showLoading(),r=window.levelCustom,e.next=4,this.loadBgWithRetryAsync(r);case 4:return e.next=6,this.waitUntilImportantLazyResourcesLoaded();case 6:return this.setGlobalSceneInputEnabled(!1),this.level.setLevel(r),e.next=10,this.loadLevelAsync(3,r);case 10:return this.hideLoading(),this.restartLevel(),Hs(r),Vs(r),this.stepLogHandler.reset(r),this.logStepProgress(!0),this.prepareFadeIn(),e.next=19,null==t?void 0:t();case 19:return e.next=21,u().all([this.navigation.fadeIn("Gameplay"),this.fadeIn()]);case 21:return this.gameManager.tryWarningRackIsAlmostFull(),e.next=24,null==n?void 0:n();case 24:this.setGlobalSceneInputEnabled(!0);case 25:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),n.loadBgWithRetryAsync=function(){var e=(0,s.Z)(d().mark((function e(t){var n,r,a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=De()(this).getMapContentByLevel(t)){e.next=3;break}return e.abrupt("return",!1);case 3:return r=n.gameplayBackgroundKey,a=$r.Z.GP_BACKGROUND.PATH+$r.Z.GP_BACKGROUND.KEYS[r],e.abrupt("return",my(r,a,this,3));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),n.loadLevelAsync=function(){var e=(0,s.Z)(d().mark((function e(t,n){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===t&&(t=3),e.prev=1,e.next=4,this.level.preloadLevelDataAsync(n);case 4:e.next=12;break;case 6:if(e.prev=6,e.t0=e.catch(1),0!==t){e.next=10;break}return e.abrupt("return");case 10:return e.next=12,this.loadLevelAsync(t-1,n);case 12:case"end":return e.stop()}}),e,this,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}(),n.checkAndAddShortcut=function(){if(!this.game.player.getPlayer().isUserNew){var e=this.storage.getState();oa(e)!=aa&&this.facebook.attemptToAddShortcut()}},n.addShortcut=function(){var e=new Date,t=this.player.getPlayerData().timeAddShortcut;this.areDatesEqual(e,new Date(t))||(console.log("attemptToAddShortcut"),this.player.setTimeAddShortcut(e.getTime()),this.facebook.attemptToAddShortcut())},n.areDatesEqual=function(e,t){return e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()},n.levelUp=function(){this.startLevel()},n.startLevel=function(){this.ads.preloadInterstitialAdAsync().catch((function(){})),this.ads.preloadRewardedVideoAsync().catch((function(){}));var e=this.level.getLevelData();if(e){var t=this.game.storage.getState(),n=oa(t),r=this.level.getLevel();this.header.setupCurGameMode(),this.gameManager.buildLevel(e);var a=De()(this).getMapContentByLevel(r);if(a){var i=a.gameplayBackgroundKey,s=a.subtitle;this.bgHandler.setCurrentBg(i),n!=ia?(n===aa?this.header.setSmallText(0):this.header.setSmallText(s),this.navigation.setHybridElementsVisible(r>3),this.navigation.setCanShowGameplaySettingsButton(!this.tutorialHandler.isGameInTutorialLevels())):this.navigation.setHybridElementsVisible(!0)}}},n.restartLevel=function(){var e=(0,s.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.startLevel(),this.gameManager.setRescued(!1);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.updatePlayerLevel=function(){var e=(0,s.Z)(d().mark((function e(t){var n,r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.player.getCustomData("level"),r=Math.max(t,n),e.abrupt("return",this.player.setCustomData("level",r));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),n.prepareFadeIn=function(){this.header.revive(),this.footer.revive(),[this.header,this.gameManager,this.footer,this.bgHandler].forEach((function(e){e.prepareFadeIn()}))},n.fadeIn=function(){var e=(0,s.Z)(d().mark((function e(){var t,n,r,a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.audio.playMusic("gp",{volume:.35}),this.audio.playSound(nn.Z.START_LEVEL),e.next=4,u().all([this.header.fadeIn(),this.footer.fadeIn(),this.gameManager.fadeIn()]);case 4:this.gameplayParticleHandler.showEmittingParticles(),t=this.storage.getState(),(n=oa(t))===ta||n===ia?null==(r=this.devToolManager)||r.revive():null==(a=this.devToolManager)||a.kill();case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.fadeOut=function(){var e=(0,s.Z)(d().mark((function e(t){var n,r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===t&&(t=!0),null==(n=this.devToolManager)||n.kill(),this.gameplayParticleHandler.hideEmittingParticles(),r=[this.header.fadeOut(),this.gameManager.fadeOut(),this.footer.fadeOut()],t&&r.push(this.bgHandler.fadeOut()),e.next=7,u().all(r);case 7:this.header.kill(),this.footer.kill();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),n.setGlobalSceneInputEnabled=function(e){var t=this.game.globalScene;e?t.enableInput():t.disableInput()},n.setBlockEnableTopZone=function(e){this.game.globalScene.setBlockEnableTopZone(e)},n.handleReceivePack=function(){var e=(0,s.Z)(d().mark((function e(t,n){var r,a,i,s,o;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setGlobalSceneInputEnabled(!1),r=this.player.getCustomData("coins"),a=this.player.getCustomData("items"),i=r+n,s=this.getItemDataAfterPurchase(t),o={coins:i,items:s},this.player.setMultiCustomData(o),e.next=9,u().all([this.navigation.runCoinAnimToCurData(),this.navigation.runItemAnimToCurData(a,s,700)]);case 9:qc.emit(Al.UPDATE_ITEM_AMOUNT),this.setGlobalSceneInputEnabled(!0);case 11:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),n.logStepProgress=function(e){void 0===e&&(e=!1);var t=this.gameManager.levelDataManager.getLevelTileCount(),n=this.gameManager.board.getRemainingAmount(),r=Math.floor(100*(1-n/t));this._stepLogHandler.logStep(r,e),GameCore.Utils.Valid.isDebugger()&&console.log("%c Step Log Handler ","background-color: #9E9689","Board remaining: "+n+"/"+t+", Step: "+r)},n.getItemDataAfterPurchase=function(e){var t=this.player.getCustomData("items"),n=GameCore.Utils.Json.clone(t);return e.forEach((function(e){var t=e.item,r=e.count;n[t]+=r})),n},n.quickSetSingleMode=function(){var e=(0,s.Z)(d().mark((function e(){var t,n,r,a,i,s,o,c=this;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.storage.dispatch({type:rr,payload:{}}),t=this.storage.getState(),n=oa(t),r=window.FBInstant.context.getID(),a=r&&"SOLO"!==r,i=n!==ta||a,n!==aa){e.next=13;break}if(!((s=this.header.getScoreChallenge())>0)){e.next=13;break}return e.next=11,this.storage.dispatch(rl({score:s,level:this.level.getLevel()}));case 11:return e.next=13,this.storage.dispatch(hl());case 13:if(n===ia&&this.level.setMode(ta),window.levelCustom=0,!r||"SOLO"===r){e.next=23;break}return e.prev=16,e.next=19,window.game.facebook.switchAsync("SOLO");case 19:e.next=23;break;case 21:e.prev=21,e.t0=e.catch(16);case 23:return this.storage.dispatch(la(ta)),i&&(o=this.player.getCustomData("level"),this.level.setLevel(o)),e.abrupt("return",u().resolve((function(){i&&c.restartLevel()})));case 26:case"end":return e.stop()}}),e,this,[[16,21]])})));return function(){return e.apply(this,arguments)}}(),n.handlePausePWF=function(){this.header.pauseTimer()},n.handleResumePWF=function(){this.header.resumeTimer()},(0,le.Z)(t,[{key:"stepLogHandler",get:function(){return{reset:this._stepLogHandler.reset.bind(this._stepLogHandler),logAllRemainingSteps:this._stepLogHandler.logAllRemainingSteps.bind(this._stepLogHandler)}}}]),t}(Ta.Z);var Jb=Qb,$b=n(195),eE=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).name="LoadResourceFail",r.message=t||"Load resource fail",r.payload=n,r}return(0,o.Z)(t,e),t}((0,Z.Z)(Error)),tE=function(){return function(e){try{window.game.facebook.getTournamentAsync().then((function(t){e(ol(t))})).catch((function(e){console.warn(e)}))}catch(t){console.warn(t)}}},nE=function(){return function(e,t){try{var n=t(),r=sa(n),a=window.game.player.getPlayer(),i=r.entryPointData||{},s=i.matchId,o=i.opponentId,c=i.playerId,u=i.level;console.log("processChallengeFriendMode",s,o,c,u),window.levelCustom=u;var l=a.playerId===c;e(dl(s,l?o:c))}catch(d){throw new Error("processChallengeFriendMode: "+d)}}},rE=n(435),aE={BACKGROUND:{db:"./assets/music/db_music.ogg",gp:"./assets/music/bg_music.ogg",win_music:"./assets/music/win_music.ogg"},EFFECTS:{button_click:"./assets/sounds/pick-92276.ogg",popup_show:"./assets/sounds/popup-show.ogg",popup_off:"./assets/sounds/popup-off.ogg",shop_popup_show:"./assets/sounds/bike-bell-173588.ogg",theme_popup_show:"./assets/sounds/theme.ogg",start_level:"./assets/sounds/tiles-loading.ogg",tile_tap:"./assets/sounds/tile-guru-tap.ogg",tile_drop:"./assets/sounds/tile-merge.ogg",tile_shake:"./assets/sounds/error-shake.ogg",match_1:"./assets/sounds/match1.ogg",match_2:"./assets/sounds/match2.ogg",match_3:"./assets/sounds/match3.ogg",match_4:"./assets/sounds/match4.ogg",match_5:"./assets/sounds/match5.ogg",win:"./assets/sounds/win.ogg",fail:"./assets/sounds/fail-sfx.ogg",star_1:"./assets/sounds/star-progress-1.ogg",star_2:"./assets/sounds/star-progress-2.ogg",star_3:"./assets/sounds/star-progress-3.ogg",score_increase_single:"./assets/sounds/score-increase-single.ogg",score_increase_end:"./assets/sounds/score-increase-end.ogg",boost:"./assets/sounds/level-button-appear.ogg",level_btn_appear:"./assets/sounds/level-up-on-button.ogg",coins_add:"./assets/sounds/coins-add.ogg",item_appear:"./assets/sounds/goal-progress.ogg",item_receive:"./assets/sounds/star-progress.ogg",coin_appear:"./assets/sounds/gift-received.ogg",open_chest:"./assets/sounds/use-paint.ogg",chest_drop:"./assets/sounds/open-chest.ogg",switch_map:"./assets/sounds/chapter-switch.ogg",dashboard_open:"./assets/sounds/gift-opening.ogg",shuffle_start:"./assets/sounds/tile-match-shorter.ogg",switch:"./assets/sounds/switch.ogg",extra_slot:"./assets/sounds/extra-slot.ogg"}},iE=n(425),sE="How about diving into the game for a relaxing experience?",oE=GameCore.Configs.Notification.DailyNotificationMessages,cE=void 0===oE?{}:oE,uE=function(){function e(){}e.sendNewUserNotification=function(){var e=(0,s.Z)(d().mark((function e(){var t;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.getInstance(),e.abrupt("return",t.sendNewUserNotificationInstance());case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),e.sendDailyNotification=function(){var e=(0,s.Z)(d().mark((function e(){var t;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.getInstance(),e.abrupt("return",t.sendDailyNotificationInstance());case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),e.sendTestDailyNotification=function(){var e=(0,s.Z)(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.getInstance();case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),e.getInstance=function(){return this._instance||(this._instance=new e),this._instance};var t=e.prototype;return t.sendNewUserNotificationInstance=function(){var e=(0,s.Z)(d().mark((function e(){var t,n,r,a,i,s;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=window.game,n=t.player,r=t.facebook,a=t.rollbar,e.prev=1,n.getPlayerIsNew()){e.next=5;break}return e.abrupt("return");case 5:if(n.getPlayerASID()){e.next=8;break}return e.abrupt("return");case 8:return e.next=10,FBInstant.player.getDataAsync(["isNotificationFirstSent"]);case 10:if(e.t0=e.sent,e.t0){e.next=13;break}e.t0={};case 13:if(i=e.t0,!0!==i.isNotificationFirstSent){e.next=17;break}return e.abrupt("return");case 17:return s={message:sE,delayTime:14400,type:iE.Z.NEW_USER_NOTIFICATION},e.next=20,r.sendNotificationAsync(s);case 20:FBInstant.player.setDataAsync({isNotificationFirstSent:!0}),e.next=26;break;case 23:e.prev=23,e.t1=e.catch(1),a.sendException(e.t1);case 26:case"end":return e.stop()}}),e,null,[[1,23]])})));return function(){return e.apply(this,arguments)}}(),t.sendDailyNotificationInstance=function(){var e=(0,s.Z)(d().mark((function e(){var t,n,r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=window.game.rollbar,e.prev=1,n=new Date,r=n.getDay(),e.t0=r,e.next=0===e.t0?7:1===e.t0?10:2===e.t0?13:3===e.t0?16:4===e.t0?19:22;break;case 7:return e.next=9,this.sendMondayNotification();case 9:return e.abrupt("break",22);case 10:return e.next=12,this.sendTuesdayNotification();case 12:return e.abrupt("break",22);case 13:return e.next=15,this.sendWednesdayNotification();case 15:return e.abrupt("break",22);case 16:return e.next=18,this.sendThursdayNotification();case 18:return e.abrupt("break",22);case 19:return e.next=21,this.sendFridayNotification();case 21:return e.abrupt("break",22);case 22:return e.next=24,this.sendSaturdayNotification();case 24:return e.next=26,this.sendSundayNotification();case 26:e.next=31;break;case 28:e.prev=28,e.t1=e.catch(1),t.sendException(e.t1);case 31:case"end":return e.stop()}}),e,this,[[1,28]])})));return function(){return e.apply(this,arguments)}}(),t.sendMondayNotification=function(){var e=(0,s.Z)(d().mark((function e(){var t,n,r,a,i;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=window.game,n=t.facebook,r=t.rollbar,e.prev=1,i={message:null!=(a=cE.MONDAY)?a:sE,delayTime:86400,type:iE.Z.MONDAY_NOTIFICATION},e.next=5,n.sendNotificationAsync(i);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),r.sendException(e.t0);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}(),t.sendTuesdayNotification=function(){var e=(0,s.Z)(d().mark((function e(){var t,n,r,a,i;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=window.game,n=t.facebook,r=t.rollbar,e.prev=1,i={message:null!=(a=cE.TUESDAY)?a:sE,delayTime:86400,type:iE.Z.TUESDAY_NOTIFICATION},e.next=5,n.sendNotificationAsync(i);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),r.sendException(e.t0);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}(),t.sendWednesdayNotification=function(){var e=(0,s.Z)(d().mark((function e(){var t,n,r,a,i;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=window.game,n=t.facebook,r=t.rollbar,e.prev=1,i={message:null!=(a=cE.WEDNESDAY)?a:sE,delayTime:86400,type:iE.Z.WEDNESDAY_NOTIFICATION},e.next=5,n.sendNotificationAsync(i);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),r.sendException(e.t0);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}(),t.sendThursdayNotification=function(){var e=(0,s.Z)(d().mark((function e(){var t,n,r,a,i;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=window.game,n=t.facebook,r=t.rollbar,e.prev=1,i={message:null!=(a=cE.THURSDAY)?a:sE,delayTime:86400,type:iE.Z.THURSDAY_NOTIFICATION},e.next=5,n.sendNotificationAsync(i);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),r.sendException(e.t0);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}(),t.sendFridayNotification=function(){var e=(0,s.Z)(d().mark((function e(){var t,n,r,a,i;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=window.game,n=t.facebook,r=t.rollbar,e.prev=1,i={message:null!=(a=cE.FRIDAY)?a:sE,delayTime:86400,type:iE.Z.FRIDAY_NOTIFICATION},e.next=5,n.sendNotificationAsync(i);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),r.sendException(e.t0);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}(),t.sendSaturdayNotification=function(){var e=(0,s.Z)(d().mark((function e(){var t,n,r,a,i,s;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=window.game,n=t.facebook,r=t.rollbar,e.prev=1,i=this.findDelayTimeForNextDay(6,10),s={message:null!=(a=cE.SATURDAY)?a:sE,delayTime:i,type:iE.Z.SATURDAY_NOTIFICATION},e.next=6,n.sendNotificationAsync(s);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),r.sendException(e.t0);case 11:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),t.sendSundayNotification=function(){var e=(0,s.Z)(d().mark((function e(){var t,n,r,a,i,s;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=window.game,n=t.facebook,r=t.rollbar,e.prev=1,i=this.findDelayTimeForNextDay(0,10),s={message:null!=(a=cE.SUNDAY)?a:sE,delayTime:i,type:iE.Z.SUNDAY_NOTIFICATION},e.next=6,n.sendNotificationAsync(s);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),r.sendException(e.t0);case 11:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),t.findDelayTimeForNextDay=function(e,t){if(e<0||e>6)throw new Error("Invalid day for notification");if(t<0||t>23)throw new Error("Invalid hour for notification");var n=Date.now(),r=new Date(n).getDay(),a=new Date(n).getHours(),i=e,s=t;if(r===i&&a>=s){var o=3600*(168-a+s);if(o>604800)throw new Error("Notification delay time is more than 7 days");return o}var c=i<r?7-r+i:i-r;s<a&&c--;var u=3600*(24*c+(s<a?24-a+s:s-a));if(u>604800)throw new Error("Notification delay time is more than 7 days");return u},t.sendTestDailyNotificationInstance=function(){var e=(0,s.Z)(d().mark((function e(t){var n,r,a,i;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n={0:"SUNDAY",1:"MONDAY",2:"TUESDAY",3:"WEDNESDAY",4:"THURSDAY",5:"FRIDAY",6:"SATURDAY"},e.prev=1,a=sE,!(t<0||t>6)){e.next=5;break}throw new Error("Invalid day for notification. Day must be between 0 (Sunday) and 6 (Saturday)");case 5:return a=null!=(r=cE[n[t]])?r:sE,i={message:a,delayTime:300,type:iE.Z.GENERIC_NOTIFICATION},e.next=9,window.game.facebook.sendNotificationAsync(i);case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.warn(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),e}();uE._instance=void 0;var lE=uE,dE=(GameCore.Configs.Notification.ApiUrl,function(){var e=(0,s.Z)(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),hE=GameCore.Configs,pE=hE.AppId,fE=hE.Notification,mE=hE.Level,gE=function(e){function t(){for(var t,n,r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=e.call.apply(e,P()(t=[this]).call(t,a))||this).preloadedDefaultTextureUrl=void 0,n.loadLevelReadyPromise=void 0,n.loadBgPromise=void 0,n.isImportantLazyResourcesLoaded=!1,n.isDashboardBackgroundPreloaded=!1,n.isDashboardBackgroundLoaded=!1,n.handleFBInstantGameStarted=function(){window.__fbGameReady=!0,window.__fbPlatform=FBInstant.getPlatform(),n.player.requestConnectedPlayers()},n.processAfterUpdatePlayerProfile=function(){fE.Enable&&(n.updatePlayerProfileToNotificationService(),fE.DisableSendNotification||(lE.sendNewUserNotification(),lE.sendDailyNotification()))},n.startGame=(0,s.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.storage.dispatch(ua());case 2:n.analytics.event(sn._.APP_READY),n.storage.dispatch((0,rE.I)(fa.C.LOAD_SCENE)),n.storage.dispatch((function(e,t){var n=window.game,r=n.player,a=n.analytics,i=n.globalScene;try{var s=t(),o=sa(s),c=oa(s),u=r.getPlayer(),l=(o.entryPointData||{}).type;if(u.isUserNew&&a.event(sn._.NEW_USER),console.log("quickProcessContextData",c,l),c===aa)return void e(tE());if(c===na){if(l===qr)return void e(cl());if(l===Qr)return void e(nE())}i.events.emit(fa.K.SWITCH,fa.C.GAME_SCENE)}catch(d){i.events.emit(fa.K.SWITCH,fa.C.GAME_SCENE),console.warn(d)}}));case 5:case"end":return e.stop()}}),e)}))),n.subscribebot=function(){n.facebook.attemptToSubscribeBot()},n}(0,o.Z)(t,e);var n=t.prototype;return n.preload=function(){var e=this,t=this.getLangCode();this.facebook.progressLoading.loadingProgressFbLoadScene(),this.analytics.event(sn._.SCREEN_OPEN,{screen_name:"LoadScene"}),function(){var e=GameCore.Utils.Image.getImageScale(),t=GameCore.Utils.Device.pixelRatio();window.game.analytics.event(sn._.IMAGE_SCALE_DPR_LOAD,{image_scale:e,dpr:t})}(),this.load.on("progress",(function(t){e.facebook.progressLoading.onProgress(t)})),this.load.on(Phaser.Loader.Events.FILE_LOAD_ERROR,(function(e){var t=new eE("Load resources at LoadScene failed.");(0,r.R0)(t,{file:null==e?void 0:e.url})})),this.load.bitmapFont(Ee.Z.NUMBERS.KEY,Ee.Z.NUMBERS.TEXTURE.replace(/{\w+}/g,t),Ee.Z.NUMBERS.DATA.replace(/{\w+}/g,t)),this.load.bitmapFont(Ee.Z.NUMBERS_ORANGE.KEY,Ee.Z.NUMBERS_ORANGE.TEXTURE.replace(/{\w+}/g,t),Ee.Z.NUMBERS_ORANGE.DATA.replace(/{\w+}/g,t)),this.load.image($r.Z.AVATAR.KEY,$r.Z.AVATAR.FILE),this.load.atlas({key:Na.Z.GAMEPLAY.KEY,textureURL:Na.Z.GAMEPLAY.TEXTURE.replace(/{\w+}/g,t),atlasURL:Na.Z.GAMEPLAY.JSON.replace(/{\w+}/g,t)}),this.load.atlas({key:Na.Z.GAMEPLAY_COLORFUL.KEY,textureURL:Na.Z.GAMEPLAY_COLORFUL.TEXTURE,atlasURL:Na.Z.GAMEPLAY_COLORFUL.JSON}),this.load.multiatlas({key:Na.Z.EFFECTS.KEY,path:Na.Z.EFFECTS.PATH,atlasURL:Na.Z.EFFECTS.JSON}),"ru"===this.facebook.getLocale()?(Ee.Z.FONT_FAMILY=Ee.Z.FONT_FAMILY_RU,this.textStyler.addFont({type:"local",fontType:"truetype",fontName:Ee.Z.FONT_FAMILY})):this.textStyler.addFont({type:"local",fontType:"opentype",fontName:Ee.Z.FONT_FAMILY});var n=this.player.getCustomData("level");this.level.setMaxLevel(mE.maxLevel),this.level.setLevel(n),this.level.getLevel()>1?(this.load.multiatlas(Na.Z.DEFAULT.KEY,Na.Z.DEFAULT.JSON.replace(/{\w+}/g,t),Na.Z.DEFAULT.URL.replace(/{\w+}/g,t)),this.load.image($r.Z.DB_BACKGROUND.KEY,$r.Z.DB_BACKGROUND.FILE),GameCore.Utils.Device.isDesktop()&&this.load.image($r.Z.LANDSCAPE_DB_BACKGROUND.KEY,$r.Z.LANDSCAPE_DB_BACKGROUND.FILE),this.isDashboardBackgroundPreloaded=!0,this.preloadedDefaultTextureUrl=Na.Z.DEFAULT.JSON.replace(/{\w+}/g,t)):(this.load.multiatlas(Na.Z.DEFAULT.KEY,Na.Z.DEFAULT.BLANK_JSON.replace(/{\w+}/g,t),Na.Z.DEFAULT.URL.replace(/{\w+}/g,t)),this.isDashboardBackgroundPreloaded=!1,this.preloadedDefaultTextureUrl=Na.Z.DEFAULT.BLANK_JSON.replace(/{\w+}/g,t)),this.updateDailyChallenge(),this.loadLevelReadyPromise=this.loadLevelAsync(),this.loadBgPromise=this.loadBgWithRetryAsync()},n.updateDailyChallenge=function(){var e=this.player.getCustomData("dailyChallenge"),t=e.timeCompleted,n=e.daysCompleted,r=(0,Yp.Gm)(t),a=(0,Yp.ec)(t);console.log("updateDailyChallenge",{isToDay:r,isNextDay:a,daysCompleted:n,currentDate:(new Date).toLocaleDateString()+" "+(new Date).toLocaleTimeString(),dateCompleted:new Date(t).toLocaleDateString()+" "+new Date(t).toLocaleTimeString()}),a&&this.player.setCustomData("dailyChallenge",{isTodayCompleted:!1}),a&&5==n?this.player.setCustomData("dailyChallenge",{timeCompleted:0,daysCompleted:0,isTodayCompleted:!1}):r||a||this.player.setCustomData("dailyChallenge",{timeCompleted:0,daysCompleted:0,isTodayCompleted:!1})},n.loadLevelAsync=function(){var e=(0,s.Z)(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===t&&(t=3),e.prev=1,e.next=4,this.level.preloadLevelDataAsync();case 4:e.next=12;break;case 6:if(e.prev=6,e.t0=e.catch(1),0!==t){e.next=10;break}return e.abrupt("return");case 10:return e.next=12,this.loadLevelAsync(t-1);case 12:case"end":return e.stop()}}),e,this,[[1,6]])})));return function(t){return e.apply(this,arguments)}}(),n.loadBgWithRetryAsync=function(){var e=(0,s.Z)(d().mark((function e(){var t,n,r,a,i,s,o;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=De()(this).getMapContentByLevel(this.level.getLevel())){e.next=3;break}return e.abrupt("return",!1);case 3:return n=t.gameplayBackgroundKey,r=$r.Z.GP_BACKGROUND.PATH+$r.Z.GP_BACKGROUND.KEYS[n],a=[my(n,r,this,3)],GameCore.Utils.Device.isDesktop()&&(i="landscape-"+n,s=$r.Z.LANDSCAPE_GP_BACKGROUND.PATH+$r.Z.LANDSCAPE_GP_BACKGROUND.KEYS[n],a.push(my(i,s,this,3))),e.next=9,u().all(a);case 9:return o=e.sent,e.abrupt("return",o.every((function(e){return e})));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.create=function(){var e=(0,s.Z)(d().mark((function e(){var t;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.isDashboardBackgroundPreloaded&&this.setDashboardBackgroundLoaded(),e.next=3,this.loadLevelReadyPromise;case 3:return e.next=5,this.loadBgPromise;case 5:this.player.updateData().then(this.processAfterUpdatePlayerProfile).catch(r.tO),t=this.level.getLevel(),this.level.preloadLevelDataAsync(t+1),this.audio.initSound(),this.audio.importSoundEffectKeys(aE.EFFECTS),this.audio.initMusic(),this.audio.importMusicKeys(aE.BACKGROUND),this.analytics.event(sn._.LOAD_COMPLETE),this.facebook.on("startgame",this.handleFBInstantGameStarted),this.facebook.gameStarted(),this.setupGlobalScene(),this.lazyLoadResource(),this.handleShowAdWhenStartGame(),this.startGame();case 19:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.getLangCode=function(){var e="";if("ru"===this.facebook.getLocale())e="/ru";return e},n.updatePlayerProfileToNotificationService=function(){var e=this.player.getPlayer(),t=e.playerId,n=e.name,r=e.photo,a=e.locale,i=e.ASID,s={appId:pE,playerId:t,name:n,photo:r,locale:a,ASID:i};console.info("\ud83d\ude80 > profileData",s),dE(s)},n.setupGlobalScene=function(){var e=this.scene.get(fa.C.GLOBAL_SCENE);e instanceof $b.Z&&e.setup()},n.lazyLoadResource=function(){var e=this;this.events.on(Phaser.Scenes.Events.SLEEP,(function(){e.load.isLoading()?(e.scene.wake(),e.load.off(Phaser.Loader.Events.COMPLETE,t),e.load.once(Phaser.Loader.Events.COMPLETE,t)):e.load.once(Phaser.Loader.Events.START,(function(){e.scene.wake(),e.load.off(Phaser.Loader.Events.COMPLETE,t),e.load.once(Phaser.Loader.Events.COMPLETE,t)}))}));var t=function t(){setTimeout((function(){if(e.load.isLoading())return e.load.off(Phaser.Loader.Events.COMPLETE,t),void e.load.once(Phaser.Loader.Events.COMPLETE,t);e.scene.sleep()}),2e3)};this.load.once(Phaser.Loader.Events.COMPLETE,t),this.scene.wake(),this.loadSounds(),this.loadImportantLazyResources(),this.loadDashboardBackground(),this.loadWideframesResource(),this.load.start()},n.loadImportantLazyResources=function(){var e=(0,s.Z)(d().mark((function e(){var t,n,r,a,i,s,o,c,u,l,h=this;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=setTimeout((function(){h.rollbar.sendException(new Error("Load important lazy resources timeout"),{isSceneSleep:h.scene.isSleeping()})}),2e4),n=this.getLangCode(),r=GameCore.Utils.Image.getImageScale(),a=Na.Z.DEFAULT,i=a.KEY,s=a.TEXTURE_REAL_1x,o=a.TEXTURE_32BIT_1x,c=a.TEXTURE_REAL_2x,u=a.TEXTURE_32BIT_2x,l=a.BLANK_JSON,this.preloadedDefaultTextureUrl!==l){e.next=12;break}if(2!==r){e.next=10;break}return e.next=8,this.loadNewTexture(i,De()(c).call(c,(function(e){return e.replace(/{\w+}/g,n)})));case 8:e.next=12;break;case 10:return e.next=12,this.loadNewTexture(i,De()(s).call(s,(function(e){return e.replace(/{\w+}/g,n)})));case 12:clearTimeout(t),2===r?this.loadNewTexture(i,De()(u).call(u,(function(e){return e.replace(/{\w+}/g,n)}))):this.loadNewTexture(i,De()(o).call(o,(function(e){return e.replace(/{\w+}/g,n)}))),this.isImportantLazyResourcesLoaded=!0,this.events.emit("loadedImportantLazyResources");case 16:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.waitUntilImportantLazyResourcesLoaded=function(){var e=(0,s.Z)(d().mark((function e(){var t=this;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isImportantLazyResourcesLoaded){e.next=2;break}return e.abrupt("return",u().resolve());case 2:return e.abrupt("return",new(u())((function(e){t.events.once("loadedImportantLazyResources",(function(){e()}))})));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.waitUntilDashboardBackgroundLoaded=function(){var e=(0,s.Z)(d().mark((function e(){var t=this;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isDashboardBackgroundLoaded){e.next=2;break}return e.abrupt("return");case 2:return e.abrupt("return",new(u())((function(e){t.events.once("loadedDashboardBackground",(function(){e()}))})));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.waitUntilDashboardResourcesLoaded=function(){var e=(0,s.Z)(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===t&&(t=!1),!this.dashboardResourcesLoaded){e.next=3;break}return e.abrupt("return");case 3:return t&&this.game.globalScene.screen.open(tn.o4.NOTIFY_SCREEN,{message:"Loading...",loading:!0}),e.next=6,u().all([this.waitUntilImportantLazyResourcesLoaded(),this.waitUntilDashboardBackgroundLoaded()]);case 6:t&&this.game.globalScene.screen.close(tn.o4.NOTIFY_SCREEN);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),n.loadDashboardBackground=function(){var e=(0,s.Z)(d().mark((function e(){var t,n,r=this;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isDashboardBackgroundLoaded){e.next=2;break}return e.abrupt("return");case 2:return t=setTimeout((function(){r.rollbar.sendException(new Error("Load loadDashboardBackground timeout"),{isSceneSleep:r.scene.isSleeping()})}),2e4),n=[my($r.Z.DB_BACKGROUND.KEY,$r.Z.DB_BACKGROUND.FILE,this,1e3,500)],GameCore.Utils.Device.isDesktop()&&n.push(my($r.Z.LANDSCAPE_DB_BACKGROUND.KEY,$r.Z.LANDSCAPE_DB_BACKGROUND.FILE,this,1e3,500)),e.next=7,u().all(n);case 7:clearTimeout(t),this.setDashboardBackgroundLoaded();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.setDashboardBackgroundLoaded=function(){this.isDashboardBackgroundLoaded=!0,this.events.emit("loadedDashboardBackground"),Ih.Z.setAppDbBgBackgroundImage($r.Z.LANDSCAPE_DB_BACKGROUND.FILE)},n.loadSounds=function(){this.loadSoundEffects(),this.loadMusic()},n.loadSoundEffects=function(){var e=this;te()(aE.EFFECTS).forEach((function(t){var n=aE.EFFECTS[t],r=n.replace(".ogg",".mp3");e.load.audio(t,[n,r])}))},n.loadMusic=function(){var e=this;te()(aE.BACKGROUND).forEach((function(t){var n=aE.BACKGROUND[t],r=n.replace(".ogg",".mp3");e.load.audio(t,[n,r])}))},n.loadWideframesResource=function(){},n.handleShowAdWhenStartGame=function(){var e=this;if(GameCore.Configs.Ads.InterstitialAdOptions.showWhenStartGame){var t={en:"Initializing...",ru:"\u0418\u043d\u0438\u0446\u0438\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f...",pt:"Inicializando...",es:"Inicializando...",ar:"\u062a\u0647\u064a\u0626\u0629...",hi:"\u092a\u094d\u0930\u093e\u0930\u0902\u092d \u0915\u0930 \u0930\u0939\u093e \u0939\u0948...",zh:"\u521d\u59cb\u5316\u4e2d...",tr:"Ba\u015flat\u0131l\u0131yor...",ja:"\u521d\u671f\u5316\u4e2d...",fr:"Initialisation en cours...",id:"Menginisialisasi...",de:"Initialisierung...",it:"Inizializzazione..."}[this.lang.getCurrentLanguage()||""]||"",n=document.createElement("div");n.id="wait-ads-mask";var a=document.createElement("div");a.id="wait-ads-content",n.appendChild(a);var i=document.createElement("div");i.id="wait-ads-dual-ring",a.appendChild(i);var o=document.createElement("div");o.id="wait-ads-text",o.innerHTML=t,a.appendChild(o),document.body.appendChild(n),this.audio.muteAll(),setTimeout((0,s.Z)(d().mark((function t(){return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.audio.stopMusic(),e.audio.muteAll(),t.next=5,e.ads.preloadInterstitialAdAsync();case 5:return t.next=7,e.ads.showInterstitialAdAsync();case 7:t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),(0,r.tO)(t.t0);case 12:return t.prev=12,n.remove(),e.audio.unmuteAll(),e.audio.playMusic(),t.finish(12);case 17:case"end":return t.stop()}}),t,null,[[0,9,12,17]])}))),0)}},n.loadNewTexture=function(){var e=(0,s.Z)(d().mark((function e(t,n){var r=this;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("loadNewTexture",t,n),e.abrupt("return",new(u())((function(e){var a=De()(n).call(n,(function(e){var t=GameCore.Utils.String.generateObjectId();return my(t,e,r,1e3,500),t}));r.load.start();var i=0,o=function(){var n=(0,s.Z)(d().mark((function n(s){var c,u,l,h,p;return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,Yp.qZ)(500);case 2:if(-1!==(c=Ht()(a).call(a,s))){n.next=5;break}return n.abrupt("return");case 5:u=r.textures.get(s),l=r.textures.get(t),h=l.source[c].glTexture,l.source[c].glTexture=u.source[0].glTexture,l.source[c].glIndex=u.source[0].glIndex,l.source[c].glIndexCounter=u.source[0].glIndexCounter,l.source[c].source=u.source[0].source,xr()(l.frames).forEach((function(e){e.glTexture=u.source[0].glTexture})),(p=r.game.renderer)instanceof Phaser.Renderer.WebGL.WebGLRenderer&&p.deleteTexture(h,!0),++i===a.length&&(r.textures.off(Phaser.Textures.Events.ADD,o),e());case 18:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();r.textures.on(Phaser.Textures.Events.ADD,o)})));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),(0,le.Z)(t,[{key:"importantLazyResourcesLoaded",get:function(){return this.isImportantLazyResourcesLoaded}},{key:"dashboardResourcesLoaded",get:function(){return this.isImportantLazyResourcesLoaded&&this.isDashboardBackgroundLoaded}}]),t}(Phaser.Scene),vE=gE,yE=function(e){function t(){for(var t,n,r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=e.call.apply(e,P()(t=[this]).call(t,a))||this).isVisible=!0,n.browserPrefixes=["moz","ms","o","","webkit"],n.visibleCallbacks=[],n.hiddenCallbacks=[],n.handleVisibilityChange=function(e){if("boolean"===typeof e)return e?n.onVisibleEvent():n.onHiddenEvent();var t=n.getBrowserPrefix(),r=n.getHiddenPropertyName(t);return document[r]?n.onHiddenEvent():n.onVisibleEvent()},n}(0,o.Z)(t,e);var n=t.prototype;return n.configure=function(){var e=this,t=this.getBrowserPrefix(),n=this.getVisibilityEvent(t);document.addEventListener(n,this.handleVisibilityChange,!1),document.addEventListener("focus",(function(){e.handleVisibilityChange(!0)}),!1),document.addEventListener("blur",(function(){e.handleVisibilityChange(!1)}),!1),window.addEventListener("focus",(function(){e.handleVisibilityChange(!0)}),!1),window.addEventListener("blur",(function(){e.handleVisibilityChange(!1)}),!1)},n.addEventVisible=function(e){this.visibleCallbacks.push(e)},n.addEventHidden=function(e){this.hiddenCallbacks.push(e)},n.isGameVisible=function(){return this.isVisible},n.getHiddenPropertyName=function(e){return e?e+"Hidden":"hidden"},n.getVisibilityEvent=function(e){return(e||"")+"visibilitychange"},n.getBrowserPrefix=function(){for(var e=0;e<this.browserPrefixes.length;e++)if(this.getHiddenPropertyName(this.browserPrefixes[e])in document)return this.browserPrefixes[e];return""},n.onVisibleEvent=function(){this.isVisible||(this.isVisible=!0,console.log("visible"),this.visibleCallbacks.forEach((function(e){e()})))},n.onHiddenEvent=function(){this.isVisible&&(this.isVisible=!1,console.log("hidden"),this.hiddenCallbacks.forEach((function(e){e()})))},t}(Phaser.Plugins.BasePlugin),kE=yE,bE=n(589),EE=n(590),xE={1:[0],2:[0],3:[0,1],4:[0,1],5:[0,1],6:[0,1,2],7:[0,1,2],8:[0,1,2],9:[0,1,2],10:[0,1,2],11:[1,2,3],12:[1,2,3,4],13:[1,2,3,4],14:[1,2,3,4],15:[1,2,3,4],16:[1,2,3,4],17:[1,2,3,4],18:[1,2,3,4],19:[1,2,3,4],20:[1,2,3,4],21:[3,4,5,6],22:[3,4,5,6],23:[3,4,5,6],24:[3,4,5,6],25:[3,4,5,6],26:[3,4,5,6],27:[3,4,5,6],28:[3,4,5,6],29:[3,4,5,6],30:[3,4,5,6],31:[6,7,8,9,10],32:[6,7,8,9,10],33:[6,7,8,9,10,11],34:[6,7,8,9,10,11],35:[6,7,8,9,10,11],36:[6,7,8,9,10,11],37:[6,7,8,9,10,11],38:[6,7,8,9,10,11],39:[6,7,8,9,10,11],40:[6,7,8,9,10,11],41:[7,8,9,10,11,12],42:[7,8,9,10,11,12],43:[7,8,9,10,11,12],44:[7,8,9,10,11,12],45:[7,8,9,10,11,12],46:[7,8,9,10,11,12],47:[7,8,9,10,11,12],48:[7,8,9,10,11,12],49:[7,8,9,10,11,12],50:[7,8,9,10,11,12],51:[8,9,10,11,12,13],52:[8,9,10,11,12,13],53:[8,9,10,11,12,13],54:[8,9,10,11,12,13],55:[8,9,10,11,12,13],56:[8,9,10,11,12,13],57:[8,9,10,11,12,13],58:[8,9,10,11,12,13],59:[8,9,10,11,12,13],60:[8,9,10,11,12,13],61:[9,10,11,12,13,14],62:[9,10,11,12,13,14],63:[9,10,11,12,13,14],64:[9,10,11,12,13,14],65:[9,10,11,12,13,14],66:[9,10,11,12,13,14],67:[9,10,11,12,13,14],68:[9,10,11,12,13,14],69:[9,10,11,12,13,14],70:[9,10,11,12,13,14],71:[10,11,12,13,14,15],72:[10,11,12,13,14,15],73:[10,11,12,13,14,15],74:[10,11,12,13,14,15],75:[10,11,12,13,14,15],76:[10,11,12,13,14,15],77:[10,11,12,13,14,15],78:[10,11,12,13,14,15],79:[10,11,12,13,14,15],80:[10,11,12,13,14,15],81:[11,12,13,14,15,16],82:[11,12,13,14,15,16],83:[11,12,13,14,15,16],84:[11,12,13,14,15,16],85:[11,12,13,14,15,16],86:[11,12,13,14,15,16],87:[11,12,13,14,15,16],88:[11,12,13,14,15,16],89:[11,12,13,14,15,16],90:[11,12,13,14,15,16],91:[12,13,14,15,16,17],92:[12,13,14,15,16,17],93:[12,13,14,15,16,17],94:[12,13,14,15,16,17],95:[12,13,14,15,16,17],96:[12,13,14,15,16,17],97:[12,13,14,15,16,17],98:[12,13,14,15,16,17],99:[12,13,14,15,16,17],100:[12,13,14,15,16,17]},SE={1:11,2:11,3:11,4:11,5:11,6:11,7:11,8:11,9:11,10:13,11:14,12:14,13:14,14:14,15:14,16:14,17:14,18:14,19:14,20:14,21:14,22:14,23:14,24:14,25:14,26:14,27:14,28:14,29:14,30:14,31:14,32:14,33:14,34:14,35:14,36:14,37:14,38:14,39:14,40:14,41:14,42:14,43:14,44:14,45:14,46:14,47:14,48:14,49:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:14,60:14,61:13,62:14,63:14,64:14,65:14,66:14,67:14,68:14,69:14,70:14,71:14,72:14,73:14,74:14,75:14,76:14,77:14,78:16,79:14,80:14,81:14,82:14,83:14,84:14,85:14,86:14,87:14,88:14,89:14,90:14,91:14,92:14,93:14,94:14,95:14,96:14,97:14,98:14,99:14,100:15,101:14,102:14,103:14,104:17,105:15,106:14,107:14,108:18,109:15,110:14,111:14,112:15,113:14,114:15,115:18,116:17,117:14,118:15,119:14,120:14,121:14,122:14,123:14,124:18,125:14,126:15,127:14,128:14,129:14,130:14,131:14,132:18,133:14,134:18,135:14,136:18,137:14,138:18,139:14,140:14,141:14,142:17,143:14,144:14,145:14,146:14,147:15,148:18,149:14,150:18,151:15,152:18,153:14,154:16,155:17,156:18,157:15,158:15,159:14,160:18,161:14,162:15,163:14,164:16,165:14,166:14,167:17,168:15,169:14,170:17,171:14,172:14,173:14,174:15,175:14,176:14,177:14,178:14,179:14,180:15,181:14,182:15,183:14,184:16,185:14,186:17,187:14,188:14,189:14,190:15,191:14,192:15,193:16,194:14,195:14,196:14,197:14,198:14,199:14,200:14,201:14,202:17,203:14,204:18,205:14,206:16,207:18,208:14,209:18,210:14,211:14,212:16,213:14,214:18,215:16,216:14,217:15,218:14,219:14,220:18,221:14,222:16,223:14,224:14,225:14,226:14,227:14,228:18,229:17,230:18,231:14,232:18,233:14,234:17,235:14,236:18,237:14,238:17,239:14,240:18,241:14,242:17,243:14,244:18,245:14,246:17,247:14,248:14,249:14,250:14,251:17,252:14,253:16,254:14,255:14,256:14,257:14,258:18,259:14,260:18,261:16,262:16,263:14,264:14,265:14,266:17,267:14,268:14,269:18,270:15,271:17,272:18,273:14,274:14,275:14,276:18,277:18,278:18,279:18,280:18,281:14,282:14,283:14,284:14,285:17,286:14,287:14,288:18,289:14,290:14,291:14,292:17,293:14,294:18,295:16,296:17,297:14,298:17,299:14,300:14,301:14,302:15,303:14,304:18,305:15,306:14,307:14,308:18,309:14,310:14,311:18,312:17,313:15,314:14,315:15,316:18,317:14,318:14,319:15,320:18,321:14,322:16,323:14,324:16,325:15,326:17,327:14,328:14,329:17,330:14,331:14,332:17,333:14,334:14,335:14,336:18,337:14,338:15,339:15,340:18,341:14,342:14,343:14,344:14,345:14,346:14,347:14,348:16,349:18,350:17,351:14,352:18,353:17,354:14,355:14,356:18,357:14,358:14,359:17,360:14,361:14,362:14,363:18,364:14,365:14,366:18,367:14,368:14,369:14,370:14,371:14,372:15,373:18,374:14,375:15,376:15,377:14,378:18,379:14,380:15,381:18,382:14,383:18,384:17,385:14,386:15,387:14,388:18,389:14,390:18,391:17,392:18,393:14,394:15,395:16,396:14,397:18,398:18,399:17,400:15,401:14,402:14,403:14,404:17,405:14,406:14,407:14,408:17,409:14,410:14,411:15,412:18,413:15,414:15,415:14,416:15,417:14,418:15,419:14,420:15,421:14,422:17,423:14,424:17,425:14,426:15,427:14,428:18,429:14,430:18,431:14,432:18,433:14,434:16,435:14,436:18,437:14,438:18,439:14,440:18,441:14,442:18,443:14,444:18,445:14,446:14,447:14,448:18,449:14,450:14,451:14,452:18,453:14,454:14,455:15,456:18,457:14,458:18,459:14,460:18,461:14,462:16,463:14,464:18,465:15,466:18,467:15,468:18,469:14,470:17,471:15,472:18,473:14,474:18,475:14,476:18,477:14,478:16,479:14,480:18,481:14,482:17,483:14,484:18,485:14,486:14,487:14,488:17,489:14,490:14,491:14,492:18,493:14,494:15,495:14,496:18,497:14,498:16,499:14,500:18,501:14,502:16,503:14,504:18,505:14,506:18,507:14,508:18,509:15,510:18,511:18,512:18,513:14,514:18,515:14,516:18,517:14,518:14,519:17,520:18,521:14,522:14,523:14,524:18,525:17,526:14,527:14,528:16,529:14,530:14,531:14,532:18,533:14,534:14,535:14,536:17,537:14,538:14,539:14,540:18,541:14,542:18,543:17,544:18,545:14,546:18,547:14,548:18,549:14,550:15,551:14,552:18,553:14,554:16,555:14,556:18,557:14,558:18,559:14,560:18,561:14,562:14,563:17,564:18,565:14,566:18,567:15,568:18,569:14,570:14,571:14,572:18,573:14,574:15,575:14,576:17,577:14,578:18,579:14,580:18,581:14,582:16,583:14,584:18,585:14,586:18,587:14,588:18,589:16,590:14,591:14,592:18,593:14,594:16,595:14,596:18,597:14,598:16,599:14,600:18,601:14,602:16,603:14,604:18,605:14,606:14,607:14,608:18,609:17,610:15,611:14,612:18,613:15,614:17,615:14,616:18,617:14,618:14,619:14,620:18,621:14,622:17,623:14,624:18,625:14,626:14,627:16,628:18,629:15,630:14,631:14,632:18,633:14,634:18,635:14,636:18,637:14,638:14,639:14,640:18,641:15,642:18,643:14,644:16,645:14,646:14,647:15,648:18,649:14,650:18,651:14,652:18,653:14,654:14,655:14,656:18,657:14,658:18,659:14,660:18,661:14,662:18,663:14,664:16,665:14,666:17,667:14,668:18,669:14,670:18,671:14,672:18,673:14,674:14,675:16,676:18,677:14,678:14,679:14,680:18,681:14,682:15,683:14,684:16,685:14,686:18,687:14,688:18,689:14,690:18,691:14,692:14,693:14,694:18,695:14,696:18,697:14,698:18,699:14,700:18,701:14,702:18,703:14,704:18,705:14,706:18,707:14,708:18,709:14,710:18,711:14,712:18,713:14,714:18,715:14,716:18,717:14,718:18,719:14,720:18,721:14,722:18,723:14,724:18,725:14,726:18,727:14,728:18,729:14,730:18,731:14,732:18,733:14,734:18,735:14,736:18,737:14,738:18,739:14,740:18,741:14,742:18,743:14,744:18,745:14,746:18,747:14,748:18,749:14,750:18,751:14,752:18,753:14,754:18,755:14,756:18,757:14,758:18,759:14,760:18,761:14,762:18,763:14,764:18,765:14,766:18,767:14,768:18,769:14,770:18,771:14,772:18,773:14,774:18,775:14,776:18,777:14,778:18,779:14,780:18,781:14,782:18,783:14,784:18,785:14,786:18,787:14,788:18,789:14,790:18,791:14,792:18,793:14,794:18,795:14,796:18,797:14,798:18,799:14,800:18,801:14,802:18,803:14,804:18,805:14,806:18,807:14,808:18,809:14,810:18,811:14,812:18,813:14,814:18,815:14,816:18,817:14,818:18,819:14,820:18,821:14,822:18,823:14,824:18,825:14,826:18,827:14,828:18,829:14,830:18,831:14,832:18,833:14,834:18,835:14,836:18,837:14,838:18,839:14,840:18,841:14,842:18,843:14,844:18,845:14,846:18,847:14,848:18,849:14,850:18,851:14,852:18,853:14,854:18,855:14,856:18,857:14,858:18,859:14,860:18,861:14,862:18,863:14,864:18,865:14,866:18,867:14,868:18,869:14,870:18,871:14,872:18,873:14,874:18,875:14,876:18,877:14,878:18,879:14,880:18,881:14,882:18,883:14,884:18,885:14,886:18,887:14,888:18,889:14,890:18,891:14,892:18,893:14,894:18,895:14,896:18,897:14,898:18,899:14,900:18,901:14,902:18,903:14,904:18,905:14,906:18,907:14,908:18,909:14,910:18,911:14,912:18,913:14,914:18,915:14,916:18,917:14,918:18,919:14,920:18,921:14,922:18,923:14,924:18,925:14,926:18,927:14,928:18,929:14,930:18,931:14,932:18,933:14,934:18,935:14,936:18,937:14,938:18,939:14,940:18,941:14,942:18,943:14,944:18,945:14,946:18,947:14,948:18,949:14,950:18,951:14,952:18,953:14,954:18,955:14,956:18,957:14,958:18,959:14,960:18,961:14,962:18,963:14,964:18,965:14,966:18,967:14,968:18,969:14,970:18,971:14,972:18,973:14,974:18,975:14,976:18,977:14,978:18,979:14,980:18,981:14,982:18,983:14,984:18,985:14,986:18,987:14,988:18,989:14,990:18,991:14,992:18,993:14,994:18,995:14,996:18,997:14,998:18,999:14,1e3:18,1001:18,1002:15,1003:16,1004:15,1005:18,1006:18,1007:18,1008:18,1009:18,1010:15,1011:16,1012:14,1013:16,1014:16,1015:18,1016:18,1017:14,1018:18,1019:14,1020:18,1021:17,1022:14,1023:14,1024:14,1025:14,1026:18,1027:14,1028:18,1029:14,1030:14,1031:14,1032:18,1033:18,1034:14,1035:14,1036:18,1037:15,1038:15,1039:16,1040:18,1041:17,1042:16,1043:14,1044:18,1045:14,1046:18,1047:14,1048:18,1049:18,1050:15,1051:18,1052:14,1053:15,1054:14,1055:14,1056:18,1057:18,1058:15,1059:14,1060:16,1061:14,1062:14,1063:15,1064:17,1065:14,1066:18,1067:14,1068:18,1069:14,1070:14,1071:16,1072:16,1073:14,1074:15,1075:14,1076:15,1077:16,1078:14,1079:14,1080:18,1081:18,1082:14,1083:16,1084:18,1085:18,1086:15,1087:18,1088:18,1089:17,1090:14,1091:18,1092:15,1093:18,1094:14,1095:16,1096:14,1097:14,1098:17,1099:14,1100:14,1101:18,1102:17,1103:14,1104:18,1105:17,1106:14,1107:18,1108:18,1109:14,1110:18,1111:14,1112:14,1113:14,1114:14,1115:17,1116:15,1117:14,1118:14,1119:17,1120:14,1121:14,1122:17,1123:18,1124:17,1125:14,1126:16,1127:14,1128:18,1129:15,1130:14,1131:14,1132:18,1133:16,1134:15,1135:18,1136:15,1137:14,1138:17,1139:16,1140:18,1141:14,1142:16,1143:14,1144:18,1145:14,1146:18,1147:14,1148:15,1149:16,1150:14,1151:14,1152:15,1153:18,1154:18,1155:14,1156:14,1157:14,1158:18,1159:18,1160:18,1161:18,1162:14,1163:18,1164:14,1165:14,1166:18,1167:14,1168:18,1169:14,1170:14,1171:17,1172:18,1173:18,1174:14,1175:17,1176:18,1177:14,1178:16,1179:18,1180:16,1181:14,1182:14,1183:18,1184:15,1185:18,1186:14,1187:18,1188:18,1189:18,1190:14,1191:14,1192:18,1193:14,1194:18,1195:14,1196:18,1197:16,1198:14,1199:14,1200:15,1201:14,1202:17,1203:14,1204:18,1205:14,1206:16,1207:18,1208:18,1209:16,1210:14,1211:18,1212:18,1213:18,1214:14,1215:14,1216:14,1217:14,1218:14,1219:14,1220:17,1221:14,1222:17,1223:16,1224:18,1225:14,1226:14,1227:18,1228:16,1229:15,1230:18,1231:18,1232:17,1233:18,1234:16,1235:15,1236:15,1237:15,1238:18,1239:17,1240:14,1241:14,1242:14,1243:17,1244:18,1245:14,1246:14,1247:14,1248:18,1249:14,1250:14,1251:14,1252:15,1253:17,1254:14,1255:14,1256:18,1257:16,1258:14,1259:18,1260:18,1261:14,1262:15,1263:14,1264:18,1265:15,1266:18,1267:14,1268:18,1269:14,1270:14,1271:17,1272:18,1273:15,1274:18,1275:14,1276:14,1277:18,1278:18,1279:15,1280:14,1281:17,1282:14,1283:18,1284:15,1285:18,1286:18,1287:17,1288:18,1289:14,1290:15,1291:15,1292:18,1293:14,1294:17,1295:14,1296:14,1297:14,1298:15,1299:14,1300:16,1301:15,1302:17,1303:18,1304:17,1305:18,1306:14,1307:18,1308:18,1309:15,1310:14,1311:14,1312:18,1313:14,1314:14,1315:14,1316:18,1317:14,1318:14,1319:18,1320:18,1321:18,1322:18,1323:14,1324:17,1325:14,1326:18,1327:18,1328:14,1329:14,1330:18,1331:14,1332:18,1333:17,1334:18,1335:14,1336:14,1337:15,1338:14,1339:14,1340:18,1341:14,1342:18,1343:17,1344:15,1345:17,1346:14,1347:15,1348:14,1349:14,1350:17,1351:14,1352:18,1353:17,1354:14,1355:14,1356:18,1357:14,1358:15,1359:18,1360:18,1361:14,1362:14,1363:14,1364:16,1365:18,1366:14,1367:14,1368:15,1369:14,1370:18,1371:18,1372:18,1373:14,1374:14,1375:18,1376:18,1377:16,1378:14,1379:17,1380:14,1381:18,1382:14,1383:14,1384:18,1385:15,1386:14,1387:17,1388:18,1389:14,1390:14,1391:14,1392:18,1393:14,1394:18,1395:14,1396:14,1397:14,1398:18,1399:14,1400:18,1401:14,1402:17,1403:18,1404:15,1405:14,1406:16,1407:14,1408:16,1409:18,1410:18,1411:18,1412:15,1413:14,1414:14,1415:18,1416:15,1417:14,1418:14,1419:14,1420:18,1421:14,1422:14,1423:18,1424:16,1425:14,1426:14,1427:14,1428:18,1429:14,1430:14,1431:15,1432:18,1433:14,1434:18,1435:14,1436:18,1437:14,1438:15,1439:18,1440:17,1441:15,1442:14,1443:15,1444:18,1445:14,1446:18,1447:15,1448:18,1449:14,1450:16,1451:14,1452:18,1453:17,1454:14,1455:14,1456:18,1457:14,1458:15,1459:14,1460:15,1461:14,1462:14,1463:15,1464:18,1465:14,1466:18,1467:14,1468:14,1469:15,1470:14,1471:18,1472:14,1473:14,1474:15,1475:14,1476:14,1477:14,1478:17,1479:14,1480:18,1481:14,1482:17,1483:18,1484:15,1485:18,1486:18,1487:18,1488:18,1489:16,1490:14,1491:14,1492:16,1493:18,1494:18,1495:14,1496:14,1497:14,1498:14,1499:16,1500:18,1501:18,1502:14,1503:18,1504:18,1505:14,1506:14,1507:18,1508:18,1509:18,1510:17,1511:14,1512:18,1513:16,1514:14,1515:14,1516:15,1517:14,1518:14,1519:16,1520:18,1521:15,1522:18,1523:14,1524:14,1525:15,1526:14,1527:18,1528:14,1529:14,1530:14,1531:18,1532:15,1533:14,1534:17,1535:17,1536:18,1537:14,1538:16,1539:18,1540:17,1541:14,1542:18,1543:14,1544:18,1545:14,1546:18,1547:18,1548:18,1549:18,1550:14,1551:14,1552:17,1553:14,1554:18,1555:15,1556:17,1557:14,1558:14,1559:18,1560:18,1561:14,1562:15,1563:14,1564:17,1565:16,1566:18,1567:14,1568:18,1569:14,1570:14,1571:14,1572:18,1573:17,1574:18,1575:14,1576:14,1577:16,1578:15,1579:15,1580:15,1581:14,1582:14,1583:18,1584:18,1585:16,1586:18,1587:14,1588:15,1589:14,1590:18,1591:18,1592:14,1593:16,1594:18,1595:15,1596:14,1597:14,1598:18,1599:14,1600:18,1601:14,1602:14,1603:17,1604:15,1605:18,1606:14,1607:14,1608:18,1609:16,1610:18,1611:14,1612:17,1613:14,1614:14,1615:18,1616:17,1617:14,1618:15,1619:15,1620:18,1621:17,1622:15,1623:17,1624:17,1625:14,1626:14,1627:14,1628:15,1629:18,1630:14,1631:17,1632:15,1633:14,1634:17,1635:17,1636:18,1637:15,1638:17,1639:15,1640:15,1641:14,1642:14,1643:14,1644:18,1645:18,1646:15,1647:14,1648:17,1649:14,1650:14,1651:18,1652:18,1653:14,1654:14,1655:16,1656:18,1657:14,1658:14,1659:18,1660:18,1661:14,1662:14,1663:16,1664:16,1665:14,1666:14,1667:14,1668:17,1669:14,1670:16,1671:14,1672:18,1673:18,1674:14,1675:14,1676:14,1677:14,1678:18,1679:14,1680:18,1681:14,1682:14,1683:14,1684:14,1685:14,1686:16,1687:14,1688:18,1689:14,1690:18,1691:14,1692:14,1693:14,1694:14,1695:14,1696:18,1697:14,1698:14,1699:17,1700:14,1701:14,1702:18,1703:14,1704:18,1705:14,1706:14,1707:14,1708:18,1709:14,1710:14,1711:14,1712:18,1713:17,1714:14,1715:14,1716:18,1717:14,1718:18,1719:14,1720:18,1721:15,1722:17,1723:14,1724:18,1725:14,1726:18,1727:14,1728:18,1729:14,1730:14,1731:14,1732:18,1733:14,1734:14,1735:14,1736:14,1737:14,1738:15,1739:14,1740:18,1741:16,1742:17,1743:14,1744:18,1745:15,1746:14,1747:14,1748:14,1749:14,1750:14,1751:14,1752:16,1753:14,1754:15,1755:17,1756:17,1757:16,1758:18,1759:18,1760:17,1761:14,1762:18,1763:15,1764:18,1765:14,1766:14,1767:14,1768:16,1769:18,1770:18,1771:14,1772:18,1773:16,1774:14,1775:14,1776:14,1777:18,1778:14,1779:14,1780:14,1781:14,1782:17,1783:14,1784:15,1785:18,1786:18,1787:14,1788:16,1789:15,1790:14,1791:18,1792:18,1793:15,1794:14,1795:14,1796:14,1797:18,1798:14,1799:18,1800:18,1801:15,1802:14,1803:18,1804:18,1805:18,1806:15,1807:14,1808:14,1809:18,1810:15,1811:17,1812:18,1813:14,1814:14,1815:17,1816:14,1817:14,1818:14,1819:14,1820:18,1821:14,1822:16,1823:18,1824:18,1825:14,1826:14,1827:18,1828:14,1829:15,1830:17,1831:15,1832:17,1833:14,1834:17,1835:18,1836:18,1837:14,1838:18,1839:14,1840:18,1841:14,1842:18,1843:14,1844:14,1845:18,1846:17,1847:17,1848:15,1849:14,1850:18,1851:14,1852:17,1853:14,1854:18,1855:14,1856:18,1857:15,1858:14,1859:18,1860:17,1861:14,1862:14,1863:15,1864:16,1865:14,1866:16,1867:14,1868:14,1869:17,1870:18,1871:14,1872:14,1873:14,1874:15,1875:14,1876:14,1877:15,1878:14,1879:18,1880:15,1881:18,1882:14,1883:14,1884:18,1885:14,1886:14,1887:18,1888:17,1889:14,1890:14,1891:14,1892:16,1893:14,1894:18,1895:14,1896:14,1897:18,1898:15,1899:15,1900:18,1901:14,1902:18,1903:14,1904:16,1905:14,1906:18,1907:14,1908:14,1909:17,1910:14,1911:14,1912:18,1913:14,1914:18,1915:18,1916:16,1917:14,1918:15,1919:14,1920:18,1921:14,1922:18,1923:16,1924:18,1925:17,1926:16,1927:14,1928:14,1929:14,1930:17,1931:14,1932:18,1933:14,1934:18,1935:18,1936:16,1937:14,1938:18,1939:18,1940:15,1941:18,1942:14,1943:14,1944:18,1945:18,1946:18,1947:14,1948:15,1949:18,1950:16,1951:14,1952:18,1953:14,1954:14,1955:14,1956:18,1957:18,1958:14,1959:17,1960:18,1961:15,1962:14,1963:15,1964:18,1965:18,1966:14,1967:14,1968:18,1969:18,1970:14,1971:18,1972:18,1973:14,1974:14,1975:15,1976:18,1977:15,1978:14,1979:14,1980:14,1981:14,1982:17,1983:18,1984:16,1985:15,1986:14,1987:18,1988:18,1989:14,1990:18,1991:15,1992:14,1993:14,1994:14,1995:14,1996:18,1997:14,1998:15,1999:18,2e3:18,2001:14,2002:14,2003:14,2004:15,2005:16,2006:14,2007:14,2008:16,2009:14,2010:16,2011:14,2012:18,2013:14,2014:14,2015:18,2016:14,2017:18,2018:14,2019:14,2020:18,2021:14,2022:14,2023:15,2024:14,2025:14,2026:17,2027:14,2028:18,2029:18,2030:18,2031:16,2032:17,2033:14,2034:15,2035:18,2036:14,2037:18,2038:18,2039:14,2040:15,2041:14,2042:18,2043:14,2044:18,2045:14,2046:15,2047:18,2048:16,2049:15,2050:16,2051:14,2052:18,2053:14,2054:15,2055:15,2056:14,2057:18,2058:18,2059:14,2060:18,2061:18,2062:14,2063:14,2064:18,2065:14,2066:15,2067:14,2068:18,2069:18,2070:14,2071:14,2072:14,2073:18,2074:18,2075:14,2076:18,2077:17,2078:16,2079:17,2080:17,2081:14,2082:14,2083:17,2084:14,2085:14,2086:14,2087:14,2088:18,2089:18,2090:14,2091:15,2092:18,2093:14,2094:14,2095:15,2096:18,2097:14,2098:18,2099:18,2100:18,2101:14,2102:18,2103:14,2104:15,2105:14,2106:18,2107:14,2108:18,2109:18,2110:14,2111:14,2112:18,2113:17,2114:18,2115:14,2116:14,2117:18,2118:14,2119:18,2120:14,2121:15,2122:15,2123:15,2124:18,2125:17,2126:14,2127:14,2128:16,2129:17,2130:14,2131:18,2132:17,2133:14,2134:14,2135:14,2136:14,2137:14,2138:15,2139:14,2140:17,2141:18,2142:15,2143:14,2144:17,2145:14,2146:15,2147:14,2148:18,2149:14,2150:18,2151:15,2152:18,2153:15,2154:17,2155:16,2156:15,2157:14,2158:15,2159:14,2160:14,2161:14,2162:17,2163:15,2164:18,2165:16,2166:18,2167:14,2168:18,2169:18,2170:16,2171:14,2172:16,2173:14,2174:14,2175:18,2176:14,2177:16,2178:14,2179:14,2180:15,2181:15,2182:18,2183:18,2184:14,2185:14,2186:14,2187:16,2188:17,2189:14,2190:18,2191:14,2192:14,2193:14,2194:17,2195:14,2196:18,2197:14,2198:14,2199:18,2200:18,2201:14,2202:18,2203:15,2204:14,2205:14,2206:17,2207:14,2208:14,2209:14,2210:14,2211:18,2212:17,2213:16,2214:14,2215:18,2216:18,2217:16,2218:18,2219:14,2220:18,2221:14,2222:15,2223:18,2224:18,2225:14,2226:18,2227:18,2228:18,2229:14,2230:14,2231:16,2232:16,2233:14,2234:18,2235:14,2236:18,2237:18,2238:14,2239:14,2240:18,2241:14,2242:18,2243:14,2244:18,2245:14,2246:17,2247:14,2248:18,2249:14,2250:18,2251:14,2252:18,2253:14,2254:15,2255:17,2256:18,2257:14,2258:18,2259:18,2260:18,2261:18,2262:14,2263:15,2264:18,2265:15,2266:14,2267:15,2268:18,2269:18,2270:15,2271:14,2272:15,2273:14,2274:16,2275:14,2276:18,2277:18,2278:14,2279:14,2280:14,2281:15,2282:14,2283:14,2284:14,2285:14,2286:14,2287:18,2288:18,2289:14,2290:18,2291:15,2292:18,2293:17,2294:18,2295:14,2296:18,2297:14,2298:18,2299:14,2300:14,2301:14,2302:14,2303:18,2304:18,2305:14,2306:18,2307:18,2308:16,2309:14,2310:15,2311:14,2312:17,2313:18,2314:14,2315:15,2316:17,2317:14,2318:14,2319:18,2320:14,2321:18,2322:18,2323:14,2324:14,2325:18,2326:17,2327:14,2328:18,2329:14,2330:14,2331:14,2332:17,2333:14,2334:14,2335:18,2336:18,2337:18,2338:18,2339:14,2340:14,2341:14,2342:14,2343:18,2344:18,2345:14,2346:14,2347:14,2348:14,2349:14,2350:14,2351:14,2352:18,2353:14,2354:15,2355:14,2356:18,2357:14,2358:18,2359:14,2360:18,2361:14,2362:18,2363:15,2364:18,2365:14,2366:18,2367:14,2368:18,2369:14,2370:14,2371:14,2372:18,2373:17,2374:18,2375:16,2376:18,2377:14,2378:15,2379:18,2380:18,2381:18,2382:14,2383:18,2384:14,2385:14,2386:14,2387:14,2388:18,2389:14,2390:16,2391:14,2392:18,2393:18,2394:18,2395:18,2396:18,2397:18,2398:14,2399:14,2400:15,2401:14,2402:14,2403:18,2404:18,2405:15,2406:14,2407:16,2408:14,2409:14,2410:14,2411:14,2412:18,2413:18,2414:18,2415:14,2416:18,2417:18,2418:17,2419:18,2420:18,2421:14,2422:14,2423:14,2424:15,2425:18,2426:18,2427:14,2428:18,2429:14,2430:14,2431:14,2432:15,2433:14,2434:14,2435:18,2436:17,2437:18,2438:18,2439:14,2440:18,2441:14,2442:18,2443:14,2444:17,2445:14,2446:15,2447:14,2448:18,2449:18,2450:14,2451:14,2452:18,2453:17,2454:15,2455:14,2456:18,2457:18,2458:16,2459:14,2460:18,2461:14,2462:14,2463:18,2464:18,2465:15,2466:14,2467:14,2468:15,2469:14,2470:18,2471:18,2472:14,2473:18,2474:14,2475:14,2476:14,2477:18,2478:15,2479:14,2480:18,2481:14,2482:18,2483:15,2484:18,2485:14,2486:14,2487:14,2488:15,2489:15,2490:14,2491:18,2492:18,2493:18,2494:15,2495:14,2496:18,2497:18,2498:14,2499:14,2500:15,2501:14,2502:18,2503:17,2504:18,2505:14,2506:18,2507:17,2508:14,2509:14,2510:18,2511:14,2512:14,2513:14,2514:14,2515:16,2516:18,2517:14,2518:14,2519:14,2520:18,2521:14,2522:18,2523:14,2524:18,2525:17,2526:18,2527:14,2528:18,2529:18,2530:18,2531:15,2532:14,2533:15,2534:14,2535:18,2536:18,2537:14,2538:14,2539:14,2540:18,2541:14,2542:17,2543:18,2544:18,2545:14,2546:18,2547:16,2548:18,2549:18,2550:14,2551:14,2552:18,2553:14,2554:17,2555:18,2556:18,2557:15,2558:17,2559:14,2560:18,2561:14,2562:14,2563:14,2564:18,2565:14,2566:14,2567:14,2568:18,2569:18,2570:15,2571:17,2572:14,2573:17,2574:18,2575:15,2576:18,2577:14,2578:18,2579:14,2580:14,2581:14,2582:14,2583:18,2584:18,2585:14,2586:14,2587:14,2588:18,2589:14,2590:18,2591:18,2592:18,2593:14,2594:14,2595:17,2596:18,2597:18,2598:14,2599:14,2600:18,2601:15,2602:18,2603:14,2604:14,2605:14,2606:14,2607:14,2608:18,2609:15,2610:14,2611:14,2612:14,2613:14,2614:14,2615:14,2616:16,2617:18,2618:15,2619:18,2620:18,2621:17,2622:18,2623:15,2624:18,2625:18,2626:14,2627:14,2628:18,2629:18,2630:17,2631:18,2632:14,2633:14,2634:18,2635:17,2636:18,2637:14,2638:14,2639:14,2640:17,2641:14,2642:14,2643:18,2644:18,2645:14,2646:18,2647:14,2648:18,2649:14,2650:18,2651:14,2652:18,2653:14,2654:18,2655:14,2656:16,2657:14,2658:18,2659:14,2660:16,2661:14,2662:14,2663:14,2664:18,2665:18,2666:14,2667:14,2668:17,2669:14,2670:18,2671:14,2672:18,2673:14,2674:16,2675:14,2676:18,2677:18,2678:18,2679:14,2680:18,2681:18,2682:14,2683:15,2684:15,2685:14,2686:18,2687:14,2688:14,2689:14,2690:14,2691:14,2692:18,2693:18,2694:15,2695:14,2696:15,2697:16,2698:14,2699:14,2700:18,2701:18,2702:15,2703:15,2704:14,2705:14,2706:14,2707:18,2708:14,2709:14,2710:15,2711:14,2712:14,2713:18,2714:14,2715:14,2716:18,2717:15,2718:18,2719:14,2720:14,2721:14,2722:14,2723:15,2724:17,2725:14,2726:14,2727:14,2728:18,2729:14,2730:15,2731:18,2732:14,2733:18,2734:18,2735:14,2736:18,2737:14,2738:14,2739:14,2740:17,2741:14,2742:15,2743:18,2744:18,2745:14,2746:14,2747:18,2748:18,2749:18,2750:18,2751:14,2752:14,2753:14,2754:17,2755:14,2756:18,2757:14,2758:15,2759:17,2760:18,2761:14,2762:18,2763:14,2764:17,2765:18,2766:15,2767:18,2768:18,2769:15,2770:18,2771:14,2772:14,2773:14,2774:14,2775:14,2776:18,2777:14,2778:18,2779:14,2780:14,2781:14,2782:15,2783:18,2784:18,2785:14,2786:18,2787:18,2788:18,2789:14,2790:18,2791:14,2792:14,2793:17,2794:18,2795:14,2796:18,2797:16,2798:14,2799:14,2800:17,2801:15,2802:15,2803:18,2804:17,2805:18,2806:16,2807:15,2808:17,2809:18,2810:14,2811:14,2812:18,2813:14,2814:17,2815:14,2816:18,2817:14,2818:18,2819:18,2820:18,2821:18,2822:18,2823:14,2824:18,2825:14,2826:16,2827:14,2828:18,2829:15,2830:14,2831:14,2832:18,2833:14,2834:14,2835:18,2836:17,2837:17,2838:15,2839:18,2840:16,2841:18,2842:18,2843:14,2844:18,2845:14,2846:15,2847:14,2848:15,2849:16,2850:18,2851:14,2852:18,2853:14,2854:14,2855:15,2856:18,2857:18,2858:17,2859:14,2860:14,2861:14,2862:18,2863:14,2864:18,2865:15,2866:14,2867:14,2868:17,2869:18,2870:14,2871:14,2872:18,2873:14,2874:14,2875:18,2876:18,2877:14,2878:18,2879:18,2880:17,2881:14,2882:14,2883:14,2884:18,2885:17,2886:18,2887:18,2888:14,2889:14,2890:16,2891:18,2892:18,2893:16,2894:14,2895:14,2896:18,2897:14,2898:17,2899:15,2900:18,2901:18,2902:18,2903:14,2904:18,2905:14,2906:14,2907:16,2908:18,2909:18,2910:14,2911:14,2912:18,2913:18,2914:14,2915:18,2916:18,2917:14,2918:18,2919:14,2920:14,2921:16,2922:17,2923:18,2924:18,2925:14,2926:14,2927:14,2928:14,2929:18,2930:18,2931:17,2932:18,2933:14,2934:15,2935:14,2936:18,2937:14,2938:18,2939:14,2940:18,2941:14,2942:14,2943:14,2944:14,2945:18,2946:18,2947:18,2948:18,2949:14,2950:14,2951:14,2952:18,2953:14,2954:18,2955:18,2956:14,2957:14,2958:14,2959:14,2960:18,2961:14,2962:18,2963:14,2964:18,2965:14,2966:18,2967:14,2968:18,2969:14,2970:14,2971:18,2972:18,2973:18,2974:17,2975:15,2976:18,2977:14,2978:17,2979:14,2980:17,2981:17,2982:18,2983:14,2984:18,2985:17,2986:14,2987:17,2988:14,2989:16,2990:14,2991:14,2992:18,2993:14,2994:18,2995:14,2996:18,2997:14,2998:14,2999:18,3e3:18,3001:14,3002:17,3003:18,3004:15,3005:14,3006:14,3007:14,3008:18,3009:14,3010:14,3011:14,3012:18,3013:16,3014:14,3015:14,3016:18,3017:14,3018:18,3019:14,3020:18,3021:14,3022:15,3023:15,3024:18,3025:14,3026:14,3027:18,3028:18,3029:18,3030:17,3031:17,3032:14,3033:14,3034:15,3035:17,3036:14,3037:14,3038:17,3039:14,3040:17,3041:14,3042:14,3043:14,3044:18,3045:14,3046:18,3047:18,3048:18,3049:14,3050:18,3051:15,3052:17,3053:14,3054:18,3055:14,3056:18,3057:14,3058:18,3059:14,3060:15,3061:14,3062:18,3063:14,3064:17,3065:18,3066:17,3067:14,3068:18,3069:14,3070:14,3071:18,3072:18,3073:14,3074:16,3075:18,3076:18,3077:14,3078:14,3079:14,3080:18,3081:14,3082:18,3083:18,3084:16,3085:14,3086:18,3087:16,3088:14,3089:14,3090:15,3091:14,3092:18,3093:14,3094:17,3095:14,3096:18,3097:14,3098:14,3099:14,3100:18,3101:18,3102:18,3103:14,3104:18,3105:14,3106:14,3107:14,3108:18,3109:14,3110:15,3111:18,3112:18,3113:15,3114:15,3115:14,3116:14,3117:18,3118:14,3119:18,3120:14,3121:17,3122:14,3123:14,3124:17,3125:15,3126:14,3127:14,3128:18,3129:16,3130:17,3131:14,3132:18,3133:18,3134:15,3135:14,3136:14,3137:18,3138:18,3139:14,3140:18,3141:18,3142:18,3143:14,3144:14,3145:14,3146:15,3147:14,3148:17,3149:14,3150:14,3151:14,3152:17,3153:14,3154:14,3155:17,3156:18,3157:18,3158:18,3159:15,3160:17,3161:14,3162:14,3163:18,3164:15,3165:14,3166:18,3167:14,3168:18,3169:14,3170:18,3171:14,3172:18,3173:18,3174:15,3175:14,3176:17,3177:14,3178:14,3179:18,3180:18,3181:18,3182:14,3183:17,3184:18,3185:14,3186:18,3187:14,3188:15,3189:14,3190:18,3191:18,3192:18,3193:14,3194:15,3195:17,3196:14,3197:14,3198:16,3199:14,3200:18,3201:14,3202:14,3203:18,3204:18,3205:18,3206:18,3207:14,3208:16,3209:14,3210:14,3211:18,3212:18,3213:14,3214:14,3215:18,3216:18,3217:18,3218:14,3219:17,3220:18,3221:17,3222:18,3223:14,3224:16,3225:16,3226:14,3227:14,3228:15,3229:14,3230:18,3231:14,3232:16,3233:14,3234:14,3235:14,3236:14,3237:18,3238:16,3239:14,3240:17,3241:14,3242:15,3243:14,3244:15,3245:18,3246:14,3247:18,3248:18,3249:14,3250:18,3251:14,3252:18,3253:14,3254:18,3255:14,3256:18,3257:14,3258:14,3259:18,3260:18,3261:15,3262:14,3263:14,3264:18,3265:14,3266:14,3267:18,3268:16,3269:14,3270:14,3271:18,3272:15,3273:14,3274:16,3275:18,3276:18,3277:14,3278:17,3279:14,3280:14,3281:14,3282:14,3283:14,3284:18,3285:14,3286:18,3287:14,3288:16,3289:18,3290:15,3291:18,3292:18,3293:14,3294:18,3295:16,3296:18,3297:14,3298:18,3299:14,3300:18,3301:14,3302:15,3303:18,3304:18,3305:14,3306:14,3307:15,3308:18,3309:18,3310:18,3311:14,3312:18,3313:14,3314:15,3315:14,3316:18,3317:15,3318:14,3319:18,3320:14,3321:18,3322:18,3323:14,3324:17,3325:14,3326:16,3327:18,3328:18,3329:15,3330:14,3331:14,3332:18,3333:14,3334:17,3335:18,3336:18,3337:16,3338:18,3339:14,3340:18,3341:15,3342:14,3343:18,3344:14,3345:14,3346:18,3347:14,3348:18,3349:14,3350:14,3351:16,3352:18,3353:14,3354:18,3355:14,3356:18,3357:14,3358:14,3359:18,3360:18,3361:15,3362:16,3363:14,3364:18,3365:14,3366:18,3367:14,3368:17,3369:14,3370:18,3371:18,3372:14,3373:14,3374:18,3375:14,3376:18,3377:14,3378:14,3379:14,3380:18,3381:17,3382:18,3383:17,3384:14,3385:14,3386:14,3387:14,3388:17,3389:14,3390:14,3391:18,3392:18,3393:18,3394:14,3395:14,3396:14,3397:18,3398:16,3399:14,3400:18,3401:14,3402:18,3403:14,3404:18,3405:14,3406:16,3407:14,3408:18,3409:14,3410:14,3411:18,3412:14,3413:14,3414:15,3415:17,3416:18,3417:14,3418:14,3419:14,3420:15,3421:14,3422:18,3423:18,3424:18,3425:14,3426:14,3427:14,3428:18,3429:18,3430:14,3431:18,3432:17,3433:15,3434:15,3435:14,3436:18,3437:14,3438:15,3439:17,3440:18,3441:14,3442:16,3443:14,3444:18,3445:14,3446:18,3447:14,3448:18,3449:14,3450:18,3451:14,3452:18,3453:14,3454:14,3455:18,3456:17,3457:14,3458:14,3459:14,3460:18,3461:15,3462:14,3463:14,3464:18,3465:14,3466:17,3467:14,3468:18,3469:14,3470:15,3471:17,3472:18,3473:14,3474:17,3475:14,3476:18,3477:14,3478:18,3479:14,3480:18,3481:14,3482:14,3483:14,3484:18,3485:14,3486:15,3487:14,3488:18,3489:14,3490:14,3491:14,3492:18,3493:15,3494:15,3495:14,3496:18,3497:14,3498:14,3499:14,3500:18,3501:15,3502:14,3503:14,3504:18,3505:18,3506:17,3507:14,3508:18,3509:14,3510:18,3511:14,3512:18,3513:14,3514:18,3515:14,3516:18,3517:14,3518:16,3519:14,3520:18,3521:15,3522:14,3523:14,3524:17,3525:18,3526:14,3527:14,3528:18,3529:14,3530:17,3531:14,3532:18,3533:14,3534:17,3535:14,3536:18,3537:14,3538:18,3539:14,3540:18,3541:15,3542:17,3543:14,3544:18,3545:14,3546:18,3547:14,3548:18,3549:14,3550:14,3551:14,3552:18,3553:14,3554:18,3555:14,3556:18,3557:14,3558:18,3559:14,3560:18,3561:14,3562:18,3563:14,3564:18,3565:14,3566:18,3567:14,3568:18,3569:15,3570:18,3571:14,3572:18,3573:16,3574:15,3575:14,3576:18,3577:17,3578:15,3579:14,3580:18,3581:15,3582:15,3583:14,3584:18,3585:14,3586:17,3587:14,3588:18,3589:14,3590:15,3591:14,3592:17,3593:14,3594:17,3595:14,3596:18,3597:14,3598:16,3599:14,3600:18,3601:14,3602:18,3603:14,3604:18,3605:14,3606:15,3607:14,3608:18,3609:14,3610:15,3611:15,3612:18,3613:14,3614:16,3615:14,3616:18,3617:14,3618:17,3619:14,3620:18,3621:14,3622:16,3623:15,3624:18,3625:14,3626:15,3627:14,3628:17,3629:14,3630:16,3631:14,3632:18,3633:14,3634:18,3635:14,3636:17,3637:17,3638:14,3639:14,3640:18,3641:14,3642:16,3643:14,3644:18,3645:14,3646:18,3647:14,3648:18,3649:14,3650:18,3651:15,3652:18,3653:14,3654:16,3655:14,3656:18,3657:14,3658:18,3659:14,3660:18,3661:14,3662:16,3663:14,3664:18,3665:14,3666:14,3667:14,3668:18,3669:17,3670:15,3671:14,3672:18,3673:14,3674:18,3675:14,3676:18,3677:14,3678:17,3679:16,3680:15,3681:14,3682:14,3683:14,3684:18,3685:14,3686:18,3687:15,3688:18,3689:14,3690:14,3691:14,3692:15,3693:14,3694:17,3695:14,3696:18,3697:16,3698:17,3699:18,3700:18,3701:14,3702:18,3703:14,3704:18,3705:14,3706:18,3707:14,3708:18,3709:14,3710:18,3711:14,3712:18,3713:14,3714:18,3715:14,3716:18,3717:14,3718:16,3719:17,3720:18,3721:14,3722:14,3723:14,3724:18,3725:14,3726:18,3727:14,3728:18,3729:14,3730:14,3731:14,3732:18,3733:15,3734:14,3735:14,3736:18,3737:14,3738:15,3739:14,3740:18,3741:14,3742:17,3743:14,3744:18,3745:17,3746:18,3747:15,3748:18,3749:14,3750:18,3751:14,3752:18,3753:14,3754:15,3755:14,3756:18,3757:15,3758:18,3759:14,3760:18,3761:14,3762:18,3763:16,3764:18,3765:14,3766:17,3767:14,3768:18,3769:14,3770:18,3771:14,3772:18,3773:14,3774:18,3775:14,3776:18,3777:14,3778:18,3779:14,3780:18,3781:14,3782:14,3783:14,3784:18,3785:14,3786:17,3787:15,3788:18,3789:14,3790:14,3791:14,3792:18,3793:14,3794:18,3795:14,3796:18,3797:15,3798:14,3799:14,3800:18,3801:14,3802:16,3803:14,3804:18,3805:15,3806:14,3807:14,3808:18,3809:14,3810:18,3811:14,3812:18,3813:14,3814:16,3815:14,3816:18,3817:14,3818:18,3819:14,3820:18,3821:14,3822:16,3823:14,3824:18,3825:14,3826:16,3827:14,3828:18,3829:14,3830:16,3831:14,3832:18,3833:14,3834:16,3835:14,3836:18,3837:14,3838:14,3839:14,3840:17,3841:18,3842:14,3843:16,3844:18,3845:14,3846:14,3847:18,3848:18,3849:14,3850:18,3851:15,3852:18,3853:14,3854:14,3855:14,3856:18,3857:14,3858:17,3859:14,3860:18,3861:14,3862:15,3863:17,3864:18,3865:14,3866:18,3867:14,3868:18,3869:14,3870:16,3871:14,3872:18,3873:15,3874:16,3875:14,3876:18,3877:14,3878:18,3879:14,3880:18,3881:14,3882:18,3883:15,3884:18,3885:14,3886:18,3887:14,3888:18,3889:14,3890:17,3891:14,3892:18,3893:14,3894:18,3895:14,3896:18,3897:14,3898:17,3899:17,3900:18,3901:14,3902:14,3903:14,3904:18,3905:14,3906:17,3907:14,3908:18,3909:14,3910:17,3911:14,3912:18,3913:14,3914:18,3915:14,3916:18,3917:14,3918:14,3919:14,3920:18,3921:14,3922:18,3923:14,3924:18,3925:15,3926:18,3927:14,3928:18,3929:14,3930:14,3931:18,3932:18,3933:14,3934:15,3935:15,3936:18,3937:14,3938:18,3939:14,3940:18,3941:14,3942:15,3943:14,3944:18,3945:14,3946:18,3947:14,3948:18,3949:14,3950:18,3951:14,3952:18,3953:14,3954:15,3955:16,3956:16,3957:14,3958:17,3959:14,3960:18,3961:14,3962:15,3963:15,3964:18,3965:14,3966:14,3967:14,3968:18,3969:14,3970:14,3971:14,3972:18,3973:14,3974:14,3975:14,3976:18,3977:14,3978:14,3979:14,3980:18,3981:14,3982:15,3983:14,3984:18,3985:14,3986:18,3987:14,3988:18,3989:14,3990:14,3991:14,3992:18,3993:14,3994:17,3995:14,3996:18,3997:14,3998:17,3999:14,4e3:18,4001:14,4002:17,4003:14,4004:18,4005:14,4006:15,4007:14,4008:18,4009:14,4010:18,4011:14,4012:18,4013:14,4014:18,4015:14,4016:18,4017:14,4018:15,4019:14,4020:18,4021:14,4022:14,4023:14,4024:18,4025:16,4026:17,4027:14,4028:18,4029:14,4030:15,4031:14,4032:18,4033:14,4034:18,4035:14,4036:18,4037:14,4038:15,4039:18,4040:18,4041:14,4042:14,4043:14,4044:18,4045:14,4046:18,4047:15,4048:18,4049:14,4050:16,4051:14,4052:18,4053:14,4054:18,4055:14,4056:17,4057:14,4058:14,4059:14,4060:18,4061:14,4062:16,4063:14,4064:18,4065:14,4066:15,4067:14,4068:18,4069:14,4070:17,4071:14,4072:18,4073:14,4074:18,4075:14,4076:18,4077:14,4078:14,4079:14,4080:18,4081:15,4082:16,4083:14,4084:18,4085:14,4086:14,4087:14,4088:18,4089:14,4090:18,4091:14,4092:18,4093:14,4094:18,4095:14,4096:18,4097:14,4098:14,4099:15,4100:18,4101:14,4102:17,4103:14,4104:18,4105:14,4106:14,4107:14,4108:14,4109:14,4110:15,4111:14,4112:18,4113:14,4114:18,4115:14,4116:18,4117:14,4118:18,4119:14,4120:18,4121:14,4122:18,4123:14,4124:18,4125:14,4126:14,4127:14,4128:18,4129:14,4130:14,4131:14,4132:18,4133:14,4134:18,4135:14,4136:18,4137:14,4138:15,4139:14,4140:18,4141:15,4142:14,4143:14,4144:18,4145:14,4146:14,4147:14,4148:18,4149:17,4150:14,4151:15,4152:18,4153:14,4154:14,4155:16,4156:17,4157:14,4158:17,4159:14,4160:18,4161:14,4162:15,4163:14,4164:17,4165:14,4166:17,4167:14,4168:18,4169:14,4170:17,4171:18,4172:18,4173:15,4174:15,4175:14,4176:18,4177:18,4178:18,4179:14,4180:18,4181:14,4182:14,4183:14,4184:18,4185:14,4186:18,4187:14,4188:18,4189:14,4190:18,4191:14,4192:18,4193:14,4194:18,4195:14,4196:17,4197:14,4198:15,4199:14,4200:18,4201:14,4202:18,4203:14,4204:18,4205:14,4206:18,4207:14,4208:18,4209:14,4210:14,4211:14,4212:18,4213:15,4214:16,4215:14,4216:18,4217:16,4218:17,4219:17,4220:16,4221:15,4222:14,4223:14,4224:18,4225:14,4226:18,4227:14,4228:18,4229:14,4230:16,4231:14,4232:18,4233:14,4234:14,4235:14,4236:18,4237:15,4238:15,4239:14,4240:17,4241:14,4242:15,4243:14,4244:18,4245:14,4246:18,4247:14,4248:18,4249:14,4250:18,4251:14,4252:18,4253:14,4254:16,4255:14,4256:18,4257:14,4258:15,4259:14,4260:18,4261:14,4262:17,4263:14,4264:18,4265:16,4266:16,4267:14,4268:18,4269:14,4270:18,4271:14,4272:17,4273:14,4274:18,4275:14,4276:18,4277:14,4278:18,4279:17,4280:18,4281:14,4282:15,4283:14,4284:18,4285:14,4286:18,4287:14,4288:18,4289:14,4290:18,4291:16,4292:18,4293:14,4294:14,4295:14,4296:18,4297:14,4298:18,4299:15,4300:18,4301:14,4302:17,4303:14,4304:18,4305:14,4306:17,4307:14,4308:18,4309:14,4310:15,4311:15,4312:18,4313:14,4314:14,4315:15,4316:18,4317:14,4318:17,4319:14,4320:18,4321:14,4322:15,4323:14,4324:18,4325:14,4326:14,4327:18,4328:18,4329:16,4330:17,4331:14,4332:18,4333:14,4334:14,4335:14,4336:17,4337:15,4338:15,4339:14,4340:18,4341:14,4342:17,4343:17,4344:18,4345:14,4346:18,4347:16,4348:18,4349:14,4350:15,4351:14,4352:16,4353:14,4354:18,4355:17,4356:18,4357:14,4358:14,4359:14,4360:18,4361:14,4362:14,4363:14,4364:18,4365:14,4366:18,4367:14,4368:18,4369:14,4370:15,4371:14,4372:18,4373:14,4374:14,4375:14,4376:18,4377:14,4378:14,4379:15,4380:18,4381:14,4382:14,4383:14,4384:18,4385:17,4386:16,4387:14,4388:18,4389:15,4390:18,4391:14,4392:17,4393:14,4394:14,4395:14,4396:18,4397:14,4398:14,4399:14,4400:18,4401:18,4402:18,4403:14,4404:18,4405:14,4406:16,4407:14,4408:18,4409:14,4410:15,4411:14,4412:18,4413:14,4414:15,4415:14,4416:18,4417:14,4418:17,4419:14,4420:18,4421:14,4422:17,4423:14,4424:18,4425:14,4426:18,4427:14,4428:16,4429:14,4430:15,4431:14,4432:18,4433:14,4434:17,4435:14,4436:18,4437:14,4438:18,4439:14,4440:18,4441:14,4442:17,4443:14,4444:18,4445:14,4446:16,4447:14,4448:18,4449:14,4450:14,4451:14,4452:18,4453:14,4454:18,4455:14,4456:15,4457:14,4458:18,4459:14,4460:18,4461:14,4462:18,4463:14,4464:18,4465:14,4466:14,4467:14,4468:18,4469:14,4470:15,4471:14,4472:18,4473:14,4474:15,4475:14,4476:18,4477:14,4478:15,4479:14,4480:18,4481:14,4482:18,4483:14,4484:18,4485:14,4486:14,4487:14,4488:17,4489:14,4490:18,4491:16,4492:18,4493:14,4494:15,4495:14,4496:18,4497:14,4498:18,4499:14,4500:18,4501:14,4502:17,4503:14,4504:18,4505:14,4506:18,4507:14,4508:18,4509:15,4510:18,4511:14,4512:18,4513:14,4514:14,4515:14,4516:18,4517:15,4518:14,4519:14,4520:18,4521:14,4522:16,4523:17,4524:18,4525:14,4526:14,4527:14,4528:18,4529:14,4530:16,4531:14,4532:18,4533:14,4534:14,4535:14,4536:18,4537:14,4538:17,4539:14,4540:18,4541:14,4542:18,4543:14,4544:18,4545:14,4546:16,4547:14,4548:18,4549:14,4550:18,4551:17,4552:18,4553:14,4554:14,4555:14,4556:18,4557:14,4558:15,4559:14,4560:18,4561:14,4562:16,4563:15,4564:18,4565:14,4566:18,4567:14,4568:18,4569:14,4570:15,4571:14,4572:18,4573:14,4574:17,4575:14,4576:18,4577:14,4578:18,4579:14,4580:18,4581:14,4582:15,4583:14,4584:18,4585:17,4586:18,4587:14,4588:18,4589:14,4590:17,4591:14,4592:18,4593:14,4594:14,4595:14,4596:16,4597:14,4598:18,4599:17,4600:18,4601:14,4602:15,4603:14,4604:18,4605:15,4606:13,4607:14,4608:18,4609:15,4610:14,4611:14,4612:18,4613:18,4614:16,4615:14,4616:18,4617:14,4618:17,4619:14,4620:18,4621:14,4622:14,4623:14,4624:16,4625:14,4626:15,4627:14,4628:18,4629:15,4630:18,4631:14,4632:18,4633:14,4634:18,4635:14,4636:15,4637:14,4638:17,4639:14,4640:15,4641:14,4642:14,4643:14,4644:18,4645:14,4646:14,4647:14,4648:18,4649:14,4650:17,4651:14,4652:18,4653:14,4654:18,4655:14,4656:18,4657:14,4658:18,4659:14,4660:16,4661:18,4662:18,4663:17,4664:18,4665:14,4666:15,4667:14,4668:18,4669:14,4670:16,4671:14,4672:18,4673:14,4674:18,4675:16,4676:18,4677:14,4678:14,4679:14,4680:15,4681:15,4682:18,4683:18,4684:17,4685:14,4686:18,4687:15,4688:15,4689:14,4690:18,4691:14,4692:18,4693:14,4694:18,4695:14,4696:18,4697:14,4698:15,4699:16,4700:18,4701:14,4702:17,4703:14,4704:18,4705:14,4706:14,4707:14,4708:18,4709:14,4710:16,4711:14,4712:17,4713:14,4714:18,4715:14,4716:18,4717:14,4718:18,4719:14,4720:18,4721:14,4722:14,4723:14,4724:16,4725:14,4726:18,4727:14,4728:18,4729:14,4730:14,4731:14,4732:18,4733:14,4734:18,4735:14,4736:17,4737:14,4738:18,4739:18,4740:18,4741:14,4742:17,4743:14,4744:18,4745:14,4746:18,4747:14,4748:18,4749:14,4750:15,4751:14,4752:18,4753:14,4754:15,4755:14,4756:18,4757:14,4758:14,4759:14,4760:18,4761:14,4762:15,4763:14,4764:18,4765:14,4766:18,4767:14,4768:18,4769:14,4770:18,4771:14,4772:18,4773:14,4774:13,4775:14,4776:18,4777:14,4778:15,4779:14,4780:18,4781:14,4782:14,4783:14,4784:18,4785:14,4786:18,4787:14,4788:18,4789:14,4790:14,4791:14,4792:18,4793:14,4794:17,4795:14,4796:18,4797:14,4798:14,4799:14,4800:18,4801:14,4802:15,4803:14,4804:18,4805:14,4806:18,4807:14,4808:18,4809:14,4810:15,4811:15,4812:18,4813:14,4814:17,4815:14,4816:18,4817:14,4818:17,4819:14,4820:18,4821:14,4822:16,4823:14,4824:18,4825:14,4826:14,4827:14,4828:18,4829:14,4830:17,4831:14,4832:18,4833:14,4834:15,4835:14,4836:18,4837:14,4838:14,4839:14,4840:18,4841:14,4842:18,4843:14,4844:18,4845:14,4846:15,4847:14,4848:18,4849:14,4850:14,4851:14,4852:18,4853:14,4854:15,4855:14,4856:18,4857:14,4858:18,4859:14,4860:18,4861:14,4862:18,4863:14,4864:18,4865:14,4866:15,4867:14,4868:18,4869:14,4870:15,4871:14,4872:18,4873:14,4874:17,4875:16,4876:18,4877:14,4878:15,4879:14,4880:18,4881:14,4882:16,4883:14,4884:18,4885:14,4886:15,4887:15,4888:18,4889:15,4890:18,4891:14,4892:18,4893:16,4894:15,4895:14,4896:18,4897:15,4898:14,4899:14,4900:15,4901:14,4902:16,4903:14,4904:18,4905:14,4906:14,4907:14,4908:18,4909:14,4910:18,4911:14,4912:18,4913:14,4914:18,4915:14,4916:18,4917:14,4918:18,4919:14,4920:18,4921:14,4922:18,4923:14,4924:18,4925:15,4926:18,4927:14,4928:18,4929:14,4930:18,4931:14,4932:15,4933:14,4934:18,4935:14,4936:17,4937:14,4938:18,4939:14,4940:18,4941:16,4942:18,4943:14,4944:18,4945:14,4946:18,4947:14,4948:18,4949:14,4950:16,4951:14,4952:18,4953:14,4954:16,4955:14,4956:18,4957:14,4958:15,4959:14,4960:18,4961:14,4962:18,4963:14,4964:18,4965:14,4966:16,4967:15,4968:18,4969:14,4970:18,4971:14,4972:17,4973:14,4974:18,4975:14,4976:18,4977:14,4978:16,4979:14,4980:18,4981:14,4982:17,4983:14,4984:18,4985:14,4986:17,4987:15,4988:18,4989:14,4990:18,4991:14,4992:18,4993:14,4994:15,4995:14,4996:18,4997:14,4998:15,4999:18,5e3:18,5001:14,5002:16,5003:15,5004:18,5005:14,5006:15,5007:14,5008:18,5009:14,5010:17,5011:14,5012:18,5013:14,5014:18,5015:14,5016:18,5017:14,5018:17,5019:14,5020:18,5021:14,5022:14,5023:14,5024:18,5025:16,5026:16,5027:14,5028:18,5029:14,5030:15,5031:14,5032:18,5033:14,5034:17,5035:14,5036:15,5037:14,5038:18,5039:14,5040:18,5041:15,5042:18,5043:14,5044:18,5045:14,5046:18,5047:14,5048:18,5049:15,5050:14,5051:14,5052:18,5053:14,5054:14,5055:14,5056:18,5057:14,5058:14,5059:14,5060:18,5061:14,5062:18,5063:14,5064:18,5065:14,5066:18,5067:14,5068:18,5069:14,5070:17,5071:14,5072:18,5073:14,5074:14,5075:14,5076:18,5077:14,5078:15,5079:14,5080:18,5081:14,5082:15,5083:14,5084:18,5085:15,5086:18,5087:14,5088:16,5089:14,5090:14,5091:16,5092:18,5093:14,5094:14,5095:14,5096:16,5097:14,5098:18,5099:15,5100:18,5101:15,5102:17,5103:14,5104:18,5105:14,5106:18,5107:14,5108:18,5109:14,5110:16,5111:14,5112:18,5113:14,5114:16,5115:14,5116:17,5117:14,5118:18,5119:15,5120:15,5121:14,5122:15,5123:14,5124:18,5125:16,5126:17,5127:14,5128:18,5129:14,5130:18,5131:14,5132:17,5133:14,5134:14,5135:14,5136:18,5137:14,5138:14,5139:14,5140:18,5141:14,5142:17,5143:17,5144:17,5145:16,5146:17,5147:14,5148:18,5149:14,5150:14,5151:16,5152:18,5153:14,5154:18,5155:14,5156:18,5157:14,5158:18,5159:14,5160:17,5161:14,5162:17,5163:14,5164:18,5165:14,5166:18,5167:17,5168:18,5169:14,5170:18,5171:15,5172:18,5173:16,5174:14,5175:14,5176:18,5177:14,5178:18,5179:15,5180:18,5181:17,5182:16,5183:14,5184:18,5185:14,5186:14,5187:14,5188:18,5189:14,5190:18,5191:18,5192:18,5193:14,5194:18,5195:14,5196:18,5197:14,5198:16,5199:14,5200:18,5201:14,5202:14,5203:14,5204:18,5205:16,5206:18,5207:14,5208:18,5209:14,5210:18,5211:14,5212:18,5213:15,5214:18,5215:14,5216:18,5217:14,5218:17,5219:14,5220:18,5221:17,5222:15,5223:14,5224:18,5225:14,5226:17,5227:14,5228:18,5229:14,5230:15,5231:14,5232:18,5233:14,5234:18,5235:14,5236:18,5237:14,5238:15,5239:14,5240:18,5241:16,5242:15,5243:14,5244:18,5245:14,5246:18,5247:14,5248:18,5249:15,5250:18,5251:14,5252:18,5253:14,5254:15,5255:14,5256:18,5257:14,5258:18,5259:14,5260:18,5261:14,5262:14,5263:14,5264:18,5265:14,5266:15,5267:14,5268:18,5269:14,5270:18,5271:15,5272:18,5273:14,5274:16,5275:14,5276:18,5277:14,5278:16,5279:14,5280:15,5281:15,5282:16,5283:14,5284:18,5285:15,5286:15,5287:15,5288:18,5289:16,5290:15,5291:14,5292:18,5293:14,5294:16,5295:14,5296:18,5297:14,5298:14,5299:14,5300:18,5301:15,5302:16,5303:14,5304:17,5305:14,5306:16,5307:14,5308:18,5309:14,5310:16,5311:14,5312:18,5313:14,5314:18,5315:14,5316:18,5317:14,5318:15,5319:14,5320:18,5321:14,5322:15,5323:14,5324:18,5325:14,5326:15,5327:14,5328:17,5329:14,5330:16,5331:14,5332:18,5333:14,5334:15,5335:14,5336:17,5337:17,5338:17,5339:14,5340:18,5341:15,5342:14,5343:14,5344:18,5345:14,5346:15,5347:14,5348:18,5349:14,5350:14,5351:14,5352:17,5353:14,5354:16,5355:14,5356:18,5357:14,5358:14,5359:15,5360:18,5361:14,5362:18,5363:14,5364:18,5365:14,5366:18,5367:14,5368:18,5369:14,5370:16,5371:14,5372:18,5373:16,5374:14,5375:14,5376:18,5377:14,5378:15,5379:14,5380:18,5381:14,5382:15,5383:14,5384:18,5385:14,5386:15,5387:14,5388:17,5389:14,5390:15,5391:14,5392:17,5393:14,5394:18,5395:14,5396:18,5397:18,5398:18,5399:14,5400:18,5401:17,5402:15,5403:14,5404:18,5405:15,5406:14,5407:14,5408:18,5409:14,5410:18,5411:14,5412:18,5413:14,5414:16,5415:14,5416:18,5417:14,5418:18,5419:14,5420:15,5421:16,5422:16,5423:14,5424:18,5425:14,5426:15,5427:14,5428:18,5429:14,5430:15,5431:14,5432:18,5433:14,5434:18,5435:14,5436:18,5437:14,5438:14,5439:14,5440:18,5441:14,5442:15,5443:14,5444:18,5445:14,5446:14,5447:14,5448:18,5449:17,5450:18,5451:14,5452:18,5453:14,5454:15,5455:14,5456:18,5457:14,5458:18,5459:14,5460:18,5461:14,5462:14,5463:14,5464:18,5465:14,5466:14,5467:14,5468:18,5469:14,5470:17,5471:14,5472:18,5473:14,5474:18,5475:14,5476:18,5477:14,5478:14,5479:14,5480:18,5481:14,5482:14,5483:14,5484:18,5485:17,5486:18,5487:14,5488:18,5489:15,5490:18,5491:14,5492:18,5493:14,5494:18,5495:14,5496:18,5497:14,5498:14,5499:14,5500:18,5501:14,5502:14,5503:14,5504:18,5505:14,5506:14,5507:14,5508:18,5509:14,5510:16,5511:14,5512:18,5513:14,5514:16,5515:14,5516:18,5517:14,5518:18,5519:14,5520:18,5521:14,5522:17,5523:14,5524:18,5525:14,5526:18,5527:15,5528:18,5529:14,5530:14,5531:14,5532:17,5533:14,5534:15,5535:14,5536:18,5537:14,5538:15,5539:14,5540:18,5541:14,5542:17,5543:18,5544:18,5545:14,5546:18,5547:14,5548:18,5549:16,5550:18,5551:14,5552:18,5553:14,5554:14,5555:14,5556:18,5557:14,5558:18,5559:14,5560:18,5561:15,5562:14,5563:14,5564:18,5565:14,5566:14,5567:14,5568:18,5569:14,5570:18,5571:14,5572:18,5573:14,5574:14,5575:14,5576:18,5577:14,5578:15,5579:14,5580:18,5581:14,5582:14,5583:14,5584:18,5585:14,5586:15,5587:14,5588:18,5589:14,5590:18,5591:14,5592:18,5593:14,5594:18,5595:15,5596:18,5597:14,5598:16,5599:14,5600:18,5601:14,5602:14,5603:14,5604:18,5605:15,5606:18,5607:14,5608:18,5609:14,5610:15,5611:14,5612:18,5613:14,5614:18,5615:14,5616:17,5617:17,5618:14,5619:14,5620:18,5621:14,5622:14,5623:14,5624:18,5625:14,5626:18,5627:15,5628:18,5629:14,5630:15,5631:14,5632:18,5633:14,5634:15,5635:14,5636:18,5637:14,5638:16,5639:14,5640:17,5641:15,5642:17,5643:14,5644:18,5645:14,5646:14,5647:14,5648:18,5649:14,5650:18,5651:14,5652:18,5653:15,5654:15,5655:14,5656:18,5657:14,5658:15,5659:14,5660:18,5661:18,5662:14,5663:16,5664:18,5665:14,5666:14,5667:14,5668:18,5669:14,5670:15,5671:14,5672:18,5673:14,5674:18,5675:14,5676:18,5677:14,5678:15,5679:14,5680:18,5681:14,5682:15,5683:14,5684:18,5685:14,5686:16,5687:14,5688:18,5689:16,5690:15,5691:17,5692:18,5693:14,5694:18,5695:14,5696:18,5697:14,5698:16,5699:14,5700:17,5701:14,5702:15,5703:14,5704:18,5705:14,5706:17,5707:14,5708:18,5709:15,5710:14,5711:15,5712:15,5713:14,5714:14,5715:14,5716:16,5717:14,5718:17,5719:14,5720:18,5721:14,5722:18,5723:14,5724:18,5725:14,5726:15,5727:14,5728:18,5729:14,5730:14,5731:14,5732:18,5733:15,5734:18,5735:14,5736:18,5737:14,5738:18,5739:14,5740:18,5741:15,5742:17,5743:14,5744:18,5745:14,5746:18,5747:14,5748:17,5749:18,5750:16,5751:14,5752:15,5753:14,5754:14,5755:14,5756:18,5757:15,5758:14,5759:14,5760:18,5761:14,5762:18,5763:14,5764:17,5765:14,5766:18,5767:15,5768:18,5769:14,5770:18,5771:14,5772:18,5773:14,5774:18,5775:14,5776:18,5777:14,5778:14,5779:14,5780:18,5781:15,5782:17,5783:14,5784:18,5785:14,5786:18,5787:14,5788:18,5789:14,5790:17,5791:14,5792:18,5793:14,5794:14,5795:18,5796:18,5797:14,5798:16,5799:14,5800:18,5801:14,5802:18,5803:14,5804:18,5805:14,5806:18,5807:14,5808:16,5809:14,5810:17,5811:15,5812:18,5813:14,5814:14,5815:18,5816:18,5817:14,5818:14,5819:14,5820:18,5821:14,5822:17,5823:14,5824:18,5825:14,5826:18,5827:14,5828:18,5829:14,5830:15,5831:14,5832:18,5833:14,5834:18,5835:14,5836:18,5837:14,5838:14,5839:14,5840:18,5841:14,5842:15,5843:14,5844:18,5845:14,5846:14,5847:14,5848:18,5849:16,5850:14,5851:16,5852:18,5853:14,5854:18,5855:14,5856:18,5857:14,5858:16,5859:14,5860:18,5861:14,5862:15,5863:14,5864:18,5865:14,5866:18,5867:17,5868:18,5869:14,5870:14,5871:15,5872:18,5873:14,5874:18,5875:14,5876:18,5877:14,5878:16,5879:14,5880:18,5881:14,5882:16,5883:14,5884:18,5885:14,5886:14,5887:14,5888:14,5889:14,5890:18,5891:14,5892:18,5893:14,5894:14,5895:14,5896:18,5897:14,5898:17,5899:15,5900:18,5901:16,5902:14,5903:16,5904:18,5905:14,5906:14,5907:14,5908:18,5909:14,5910:15,5911:14,5912:18,5913:14,5914:15,5915:14,5916:18,5917:14,5918:17,5919:14,5920:18,5921:14,5922:17,5923:14,5924:18,5925:14,5926:17,5927:14,5928:17,5929:14,5930:15,5931:14,5932:18,5933:14,5934:18,5935:14,5936:18,5937:15,5938:18,5939:17,5940:18,5941:14,5942:18,5943:15,5944:14,5945:14,5946:16,5947:14,5948:18,5949:14,5950:17,5951:14,5952:18,5953:14,5954:18,5955:14,5956:18,5957:15,5958:18,5959:14,5960:18,5961:14,5962:15,5963:14,5964:16,5965:14,5966:18,5967:17,5968:17,5969:14,5970:15,5971:14,5972:18,5973:14,5974:15,5975:14,5976:16,5977:14,5978:18,5979:14,5980:18,5981:14,5982:18,5983:17,5984:18,5985:15,5986:16,5987:14,5988:18,5989:14,5990:14,5991:15,5992:16,5993:14,5994:18,5995:14,5996:17,5997:14,5998:17,5999:14,6e3:18,6001:15,6002:14,6003:18,6004:14,6005:14,6006:18,6007:14,6008:14,6009:18,6010:14,6011:14,6012:14,6013:14,6014:18,6015:17,6016:18,6017:17,6018:15,6019:16,6020:18,6021:14,6022:18,6023:17,6024:14,6025:16,6026:18,6027:14,6028:14,6029:14,6030:18,6031:14,6032:14,6033:14,6034:18,6035:18,6036:14,6037:15,6038:18,6039:18,6040:14,6041:15,6042:14,6043:15,6044:16,6045:18,6046:14,6047:18,6048:16,6049:18,6050:15,6051:15,6052:14,6053:14,6054:14,6055:14,6056:15,6057:18,6058:17,6059:17,6060:18,6061:18,6062:15,6063:14,6064:14,6065:18,6066:15,6067:16,6068:14,6069:17,6070:14,6071:14,6072:18,6073:18,6074:15,6075:18,6076:18,6077:18,6078:14,6079:18,6080:14,6081:14,6082:15,6083:15,6084:18,6085:16,6086:15,6087:18,6088:14,6089:18,6090:18,6091:15,6092:18,6093:17,6094:14,6095:18,6096:14,6097:18,6098:14,6099:14,6100:18,6101:14,6102:17,6103:18,6104:18,6105:14,6106:14,6107:18,6108:18,6109:14,6110:14,6111:18,6112:18,6113:18,6114:14,6115:18,6116:14,6117:14,6118:18,6119:18,6120:14,6121:16,6122:14,6123:18,6124:16,6125:16,6126:14,6127:14,6128:14,6129:14,6130:18,6131:18,6132:14,6133:14,6134:15,6135:18,6136:17,6137:14,6138:17,6139:18,6140:14,6141:14,6142:14,6143:14,6144:14,6145:14,6146:15,6147:14,6148:14,6149:18,6150:18,6151:18,6152:14,6153:14,6154:18,6155:17,6156:14,6157:18,6158:14,6159:14,6160:18,6161:14,6162:18,6163:14,6164:14,6165:18,6166:16,6167:14,6168:14,6169:18,6170:18,6171:14,6172:14,6173:18,6174:17,6175:18,6176:14,6177:14,6178:18,6179:14,6180:17,6181:17,6182:15,6183:14,6184:14,6185:18,6186:18,6187:16,6188:14,6189:15,6190:18,6191:14,6192:14,6193:14,6194:18,6195:16,6196:14,6197:18,6198:14,6199:14,6200:14,6201:18,6202:14,6203:14,6204:18,6205:18,6206:14,6207:14,6208:16,6209:18,6210:18,6211:14,6212:14,6213:17,6214:14,6215:14,6216:16,6217:14,6218:14,6219:18,6220:18,6221:18,6222:14,6223:14,6224:15,6225:15,6226:14,6227:14,6228:14,6229:17,6230:18,6231:17,6232:18,6233:14,6234:18,6235:15,6236:14,6237:15,6238:18,6239:17,6240:15,6241:14,6242:16,6243:14,6244:16,6245:14,6246:14,6247:16,6248:17,6249:15,6250:18,6251:18,6252:18,6253:14,6254:18,6255:14,6256:18,6257:14,6258:14,6259:14,6260:14,6261:16,6262:14,6263:14,6264:18,6265:14,6266:14,6267:18,6268:14,6269:14,6270:14,6271:14,6272:18,6273:17,6274:18,6275:17,6276:15,6277:16,6278:18,6279:14,6280:18,6281:17,6282:17,6283:16,6284:14,6285:14,6286:14,6287:14,6288:15,6289:14,6290:14,6291:14,6292:15,6293:18,6294:14,6295:15,6296:14,6297:18,6298:18,6299:15,6300:15,6301:15,6302:16,6303:18,6304:14,6305:18,6306:16,6307:18,6308:15,6309:15,6310:14,6311:14,6312:14,6313:14,6314:15,6315:18,6316:17,6317:17,6318:18,6319:18,6320:15,6321:14,6322:14,6323:14,6324:15,6325:14,6326:14,6327:14,6328:14,6329:18,6330:18,6331:14,6332:15,6333:14,6334:18,6335:15,6336:14,6337:18,6338:14,6339:14,6340:15,6341:15,6342:18,6343:16,6344:15,6345:18,6346:14,6347:18,6348:18,6349:15,6350:18,6351:17,6352:14,6353:18,6354:14,6355:18,6356:14,6357:14,6358:18,6359:14,6360:17,6361:18,6362:17,6363:14,6364:18,6365:18,6366:18,6367:14,6368:14,6369:18,6370:14,6371:18,6372:17,6373:18,6374:17,6375:14,6376:16,6377:18,6378:18,6379:14,6380:18,6381:18,6382:16,6383:16,6384:14,6385:14,6386:14,6387:14,6388:18,6389:18,6390:14,6391:14,6392:15,6393:18,6394:17,6395:14,6396:17,6397:18,6398:14,6399:14,6400:14,6401:17,6402:14,6403:14,6404:15,6405:18,6406:14,6407:18,6408:18,6409:17,6410:14,6411:14,6412:18,6413:14,6414:14,6415:18,6416:14,6417:18,6418:18,6419:17,6420:18,6421:14,6422:14,6423:18,6424:16,6425:14,6426:14,6427:18,6428:18,6429:14,6430:14,6431:18,6432:17,6433:18,6434:14,6435:14,6436:18,6437:14,6438:17,6439:17,6440:14,6441:14,6442:18,6443:18,6444:14,6445:16,6446:17,6447:15,6448:14,6449:14,6450:18,6451:14,6452:14,6453:16,6454:18,6455:18,6456:14,6457:14,6458:18,6459:18,6460:14,6461:14,6462:18,6463:18,6464:14,6465:14,6466:16,6467:18,6468:18,6469:14,6470:14,6471:17,6472:14,6473:14,6474:16,6475:14,6476:14,6477:18,6478:18,6479:18,6480:14,6481:18,6482:15,6483:18,6484:14,6485:18,6486:14,6487:15,6488:18,6489:14,6490:18,6491:14,6492:18,6493:17,6494:14,6495:16,6496:18,6497:14,6498:15,6499:18,6500:16,6501:14,6502:16,6503:14,6504:14,6505:16,6506:17,6507:15,6508:18,6509:18,6510:18,6511:14,6512:18,6513:14,6514:18,6515:14,6516:14,6517:14,6518:14,6519:16,6520:16,6521:14,6522:14,6523:14,6524:16,6525:18,6526:15,6527:14,6528:16,6529:14,6530:15,6531:17,6532:14,6533:17,6534:15,6535:16,6536:14,6537:14,6538:17,6539:15,6540:17,6541:16,6542:14,6543:14,6544:14,6545:14,6546:15,6547:14,6548:14,6549:14,6550:15,6551:18,6552:14,6553:15,6554:14,6555:18,6556:18,6557:15,6558:15,6559:14,6560:16,6561:14,6562:14,6563:16,6564:16,6565:18,6566:15,6567:14,6568:14,6569:14,6570:14,6571:18,6572:15,6573:15,6574:17,6575:16,6576:18,6577:14,6578:15,6579:14,6580:14,6581:14,6582:15,6583:14,6584:14,6585:14,6586:14,6587:18,6588:18,6589:14,6590:15,6591:14,6592:18,6593:15,6594:14,6595:18,6596:14,6597:14,6598:15,6599:15,6600:18,6601:16,6602:14,6603:18,6604:18,6605:18,6606:18,6607:15,6608:18,6609:17,6610:18,6611:18,6612:18,6613:18,6614:18,6615:14,6616:14,6617:14,6618:18,6619:18,6620:17,6621:14,6622:18,6623:18,6624:18,6625:14,6626:14,6627:18,6628:14,6629:18,6630:17,6631:18,6632:17,6633:14,6634:16,6635:18,6636:18,6637:14,6638:18,6639:18,6640:16,6641:18,6642:14,6643:16,6644:14,6645:14,6646:18,6647:14,6648:14,6649:18,6650:15,6651:14,6652:17,6653:18,6654:17,6655:14,6656:14,6657:18,6658:14,6659:17,6660:14,6661:14,6662:15,6663:18,6664:14,6665:18,6666:18,6667:17,6668:17,6669:14,6670:18,6671:14,6672:14,6673:18,6674:14,6675:18,6676:18,6677:17,6678:14,6679:14,6680:14,6681:18,6682:14,6683:14,6684:18,6685:18,6686:14,6687:14,6688:18,6689:18,6690:14,6691:18,6692:18,6693:14,6694:14,6695:14,6696:15,6697:17,6698:14,6699:14,6700:18,6701:18,6702:14,6703:16,6704:17,6705:15,6706:14,6707:14,6708:18,6709:14,6710:14,6711:16,6712:18,6713:18,6714:14,6715:14,6716:18,6717:18,6718:14,6719:18,6720:18,6721:14,6722:14,6723:18,6724:16,6725:14,6726:18,6727:18,6728:14,6729:14,6730:14,6731:17,6732:16,6733:14,6734:14,6735:14,6736:18,6737:14,6738:14,6739:18,6740:15,6741:18,6742:14,6743:18,6744:14,6745:15,6746:18,6747:14,6748:18,6749:14,6750:18,6751:17,6752:14,6753:16,6754:18,6755:14,6756:15,6757:18,6758:14,6759:14,6760:18,6761:14,6762:18,6763:16,6764:14,6765:15,6766:16,6767:18,6768:15,6769:14,6770:18,6771:14,6772:18,6773:14,6774:17,6775:14,6776:14,6777:16,6778:16,6779:14,6780:14,6781:14,6782:16,6783:18,6784:15,6785:14,6786:16,6787:14,6788:14,6789:17,6790:14,6791:17,6792:15,6793:16,6794:14,6795:14,6796:17,6797:18,6798:17,6799:14,6800:14,6801:14,6802:14,6803:14,6804:15,6805:14,6806:14,6807:14,6808:15,6809:14,6810:14,6811:14,6812:14,6813:18,6814:18,6815:14,6816:15,6817:14,6818:16,6819:14,6820:14,6821:16,6822:16,6823:18,6824:15,6825:14,6826:14,6827:14,6828:14,6829:18,6830:15,6831:15,6832:17,6833:16,6834:18,6835:14,6836:15,6837:14,6838:14,6839:14,6840:18,6841:14,6842:16,6843:14,6844:15,6845:18,6846:14,6847:14,6848:18,6849:14,6850:17,6851:15,6852:18,6853:18,6854:14,6855:14,6856:18,6857:15,6858:18,6859:16,6860:14,6861:18,6862:18,6863:18,6864:18,6865:15,6866:18,6867:17,6868:18,6869:18,6870:18,6871:18,6872:18,6873:14,6874:14,6875:14,6876:18,6877:17,6878:17,6879:18,6880:18,6881:14,6882:18,6883:18,6884:14,6885:14,6886:14,6887:18,6888:17,6889:14,6890:17,6891:14,6892:16,6893:18,6894:18,6895:14,6896:18,6897:18,6898:16,6899:18,6900:14,6901:16,6902:14,6903:14,6904:18,6905:14,6906:14,6907:18,6908:15,6909:14,6910:17,6911:18,6912:17,6913:14,6914:14,6915:18,6916:14,6917:14,6918:14,6919:14,6920:14,6921:18,6922:14,6923:18,6924:14,6925:17,6926:18,6927:14,6928:14,6929:14,6930:18,6931:18,6932:15,6933:18,6934:18,6935:17,6936:14,6937:14,6938:14,6939:18,6940:14,6941:14,6942:18,6943:18,6944:14,6945:14,6946:18,6947:18,6948:14,6949:18,6950:18,6951:14,6952:14,6953:14,6954:15,6955:17,6956:14,6957:15,6958:18,6959:14,6960:14,6961:15,6962:17,6963:14,6964:14,6965:14,6966:18,6967:14,6968:14,6969:18,6970:18,6971:14,6972:14,6973:17,6974:18,6975:14,6976:14,6977:18,6978:18,6979:14,6980:14,6981:18,6982:16,6983:14,6984:18,6985:18,6986:14,6987:14,6988:14,6989:17,6990:16,6991:14,6992:14,6993:14,6994:18,6995:14,6996:18,6997:14,6998:14,6999:18,7e3:14,7001:18,7002:14,7003:15,7004:18,7005:14,7006:17,7007:14,7008:15,7009:17,7010:14,7011:16,7012:15,7013:14,7014:14,7015:18,7016:14,7017:14,7018:18,7019:14,7020:18,7021:16,7022:14,7023:15,7024:16,7025:18,7026:15,7027:14,7028:18,7029:14,7030:18,7031:14,7032:17,7033:14,7034:14,7035:14,7036:16,7037:14,7038:14,7039:18,7040:16,7041:14,7042:15,7043:17,7044:16,7045:18,7046:14,7047:18,7048:14,7049:16,7050:15,7051:15,7052:14,7053:14,7054:17,7055:18,7056:17,7057:14,7058:14,7059:14,7060:14,7061:14,7062:15,7063:14,7064:14,7065:14,7066:15,7067:14,7068:14,7069:14,7070:14,7071:18,7072:18,7073:14,7074:15,7075:14,7076:14,7077:14,7078:18,7079:16,7080:14,7081:18,7082:18,7083:14,7084:14,7085:14,7086:14,7087:18,7088:18,7089:15,7090:17,7091:16,7092:14,7093:14,7094:15,7095:14,7096:14,7097:14,7098:18,7099:14,7100:16,7101:14,7102:15,7103:18,7104:14,7105:14,7106:18,7107:14,7108:17,7109:15,7110:18,7111:18,7112:14,7113:14,7114:18,7115:18,7116:18,7117:14,7118:14,7119:14,7120:18,7121:14,7122:18,7123:14,7124:18,7125:14,7126:18,7127:14,7128:18,7129:14,7130:18,7131:14,7132:14,7133:18,7134:18,7135:17,7136:17,7137:18,7138:18,7139:14,7140:18,7141:18,7142:14,7143:14,7144:14,7145:18,7146:17,7147:14,7148:17,7149:14,7150:16,7151:18,7152:18,7153:14,7154:16,7155:18,7156:14,7157:18,7158:16,7159:16,7160:18,7161:14,7162:14,7163:14,7164:17,7165:18,7166:14,7167:14,7168:14,7169:18,7170:18,7171:14,7172:14,7173:18,7174:14,7175:14,7176:14,7177:14,7178:14,7179:18,7180:14,7181:18,7182:14,7183:17,7184:18,7185:14,7186:14,7187:14,7188:18,7189:18,7190:15,7191:18,7192:18,7193:17,7194:14,7195:18,7196:14,7197:18,7198:14,7199:18,7200:18,7201:14,7202:14,7203:18,7204:18,7205:15,7206:14,7207:17,7208:18,7209:14,7210:14,7211:18,7212:15,7213:14,7214:14,7215:15,7216:18,7217:14,7218:14,7219:15,7220:17,7221:14,7222:14,7223:14,7224:18,7225:14,7226:14,7227:18,7228:18,7229:14,7230:14,7231:17,7232:18,7233:14,7234:18,7235:18,7236:14,7237:14,7238:18,7239:18,7240:18,7241:14,7242:18,7243:18,7244:15,7245:14,7246:17,7247:17,7248:14,7249:14,7250:18,7251:14,7252:14,7253:14,7254:18,7255:14,7256:14,7257:18,7258:14,7259:18,7260:14,7261:15,7262:18,7263:14,7264:17,7265:14,7266:15,7267:17,7268:14,7269:16,7270:15,7271:14,7272:14,7273:18,7274:14,7275:14,7276:18,7277:18,7278:18,7279:18,7280:14,7281:15,7282:16,7283:14,7284:15,7285:17,7286:18,7287:18,7288:18,7289:14,7290:17,7291:14,7292:14,7293:14,7294:16,7295:14,7296:14,7297:18,7298:16,7299:14,7300:15,7301:17,7302:16,7303:18,7304:14,7305:18,7306:14,7307:16,7308:15,7309:15,7310:14,7311:14,7312:17,7313:18,7314:17,7315:14,7316:18,7317:14,7318:14,7319:14,7320:17,7321:14,7322:14,7323:14,7324:18,7325:14,7326:15,7327:14,7328:16,7329:18,7330:14,7331:14,7332:16,7333:14,7334:14,7335:14,7336:18,7337:16,7338:14,7339:18,7340:18,7341:14,7342:14,7343:14,7344:14,7345:18,7346:18,7347:15,7348:17,7349:16,7350:14,7351:14,7352:15,7353:15,7354:14,7355:18,7356:18,7357:14,7358:16,7359:14,7360:15,7361:18,7362:14,7363:18,7364:18,7365:14,7366:17,7367:18,7368:18,7369:18,7370:14,7371:14,7372:18,7373:18,7374:18,7375:18,7376:14,7377:14,7378:18,7379:14,7380:18,7381:14,7382:18,7383:14,7384:18,7385:14,7386:18,7387:14,7388:18,7389:14,7390:14,7391:18,7392:18,7393:17,7394:18,7395:18,7396:18,7397:14,7398:18,7399:18,7400:18,7401:14,7402:18,7403:18,7404:18,7405:14,7406:18,7407:14,7408:15,7409:18,7410:17,7411:14,7412:16,7413:18,7414:14,7415:18,7416:16,7417:16,7418:18,7419:14,7420:14,7421:14,7422:17,7423:18,7424:14,7425:14,7426:14,7427:18,7428:18,7429:14,7430:14,7431:18,7432:14,7433:14,7434:14,7435:14,7436:14,7437:18,7438:14,7439:14,7440:14,7441:18,7442:18,7443:14,7444:14,7445:14,7446:18,7447:14,7448:15,7449:18,7450:18,7451:18,7452:14,7453:18,7454:14,7455:14,7456:14,7457:18,7458:18,7459:14,7460:14,7461:18,7462:18,7463:15,7464:14,7465:17,7466:18,7467:14,7468:14,7469:18,7470:15,7471:14,7472:18,7473:15,7474:14,7475:14,7476:18,7477:15,7478:16,7479:14,7480:18,7481:14,7482:14,7483:14,7484:18,7485:18,7486:14,7487:14,7488:18,7489:17,7490:14,7491:14,7492:18,7493:18,7494:14,7495:14,7496:18,7497:18,7498:18,7499:14,7500:18,7501:18,7502:15,7503:14,7504:17,7505:17,7506:14,7507:14,7508:18,7509:14,7510:14,7511:14,7512:18,7513:14,7514:14,7515:18,7516:14,7517:14,7518:14,7519:18,7520:18,7521:14,7522:17,7523:18,7524:15,7525:14,7526:14,7527:14,7528:15,7529:18,7530:14,7531:15,7532:14,7533:14,7534:18,7535:16,7536:18,7537:18,7538:14,7539:15,7540:16,7541:14,7542:15,7543:17,7544:18,7545:18,7546:18,7547:14,7548:17,7549:14,7550:14,7551:14,7552:14,7553:14,7554:14,7555:18,7556:14,7557:14,7558:18,7559:17,7560:18,7561:18,7562:14,7563:18,7564:14,7565:16,7566:15,7567:15,7568:16,7569:14,7570:15,7571:18,7572:17,7573:14,7574:18,7575:14,7576:14,7577:14,7578:17,7579:14,7580:14,7581:14,7582:18,7583:14,7584:18,7585:14,7586:16,7587:18,7588:14,7589:14,7590:16,7591:18,7592:14,7593:16,7594:18,7595:14,7596:14,7597:14,7598:18,7599:14,7600:14,7601:16,7602:14,7603:14,7604:18,7605:16,7606:17,7607:17,7608:14,7609:18,7610:15,7611:15,7612:14,7613:18,7614:18,7615:14,7616:16,7617:14,7618:15,7619:18,7620:14,7621:18,7622:18,7623:14,7624:18,7625:18,7626:18,7627:18,7628:14,7629:14,7630:18,7631:18,7632:18,7633:18,7634:16,7635:14,7636:17,7637:14,7638:18,7639:14,7640:15,7641:14,7642:17,7643:14,7644:18,7645:14,7646:14,7647:14,7648:18,7649:18,7650:15,7651:17,7652:18,7653:18,7654:18,7655:14,7656:18,7657:18,7658:18,7659:14,7660:18,7661:18,7662:18,7663:14,7664:18,7665:14,7666:15,7667:18,7668:17,7669:14,7670:16,7671:17,7672:14,7673:16,7674:16,7675:17,7676:18,7677:14,7678:14,7679:18,7680:17,7681:14,7682:14,7683:15,7684:14,7685:15,7686:18,7687:17,7688:14,7689:14,7690:14,7691:14,7692:14,7693:14,7694:14,7695:18,7696:14,7697:14,7698:14,7699:18,7700:18,7701:14,7702:14,7703:14,7704:17,7705:14,7706:15,7707:18,7708:18,7709:18,7710:14,7711:18,7712:14,7713:14,7714:18,7715:18,7716:14,7717:14,7718:18,7719:18,7720:14,7721:15,7722:18,7723:17,7724:15,7725:14,7726:18,7727:18,7728:14,7729:14,7730:18,7731:15,7732:14,7733:14,7734:18,7735:15,7736:16,7737:14,7738:18,7739:14,7740:14,7741:14,7742:18,7743:18,7744:16,7745:14,7746:18,7747:17,7748:14,7749:14,7750:18,7751:14,7752:14,7753:18,7754:18,7755:14,7756:18,7757:14,7758:18,7759:17,7760:15,7761:17,7762:17,7763:14,7764:14,7765:14,7766:18,7767:14,7768:14,7769:14,7770:18,7771:14,7772:14,7773:18,7774:14,7775:14,7776:14,7777:18,7778:18,7779:14,7780:17,7781:18,7782:15,7783:14,7784:14,7785:14,7786:15,7787:18,7788:14,7789:15,7790:14,7791:14,7792:16,7793:16,7794:14,7795:18,7796:17,7797:15,7798:15,7799:14,7800:14,7801:17,7802:14,7803:18,7804:18,7805:14,7806:14,7807:14,7808:16,7809:14,7810:14,7811:14,7812:14,7813:18,7814:14,7815:14,7816:18,7817:17,7818:18,7819:18,7820:14,7821:18,7822:14,7823:16,7824:15,7825:15,7826:16,7827:14,7828:15,7829:17,7830:17,7831:14,7832:18,7833:14,7834:14,7835:18,7836:17,7837:14,7838:14,7839:14,7840:18,7841:14,7842:18,7843:14,7844:16,7845:14,7846:14,7847:18,7848:16,7849:18,7850:14,7851:16,7852:18,7853:14,7854:14,7855:14,7856:18,7857:14,7858:14,7859:16,7860:14,7861:14,7862:18,7863:16,7864:17,7865:17,7866:14,7867:18,7868:15,7869:15,7870:14,7871:18,7872:16,7873:15,7874:14,7875:14,7876:18,7877:18,7878:18,7879:18,7880:15,7881:14,7882:14,7883:18,7884:18,7885:18,7886:18,7887:14,7888:14,7889:18,7890:18,7891:18,7892:16,7893:14,7894:17,7895:14,7896:18,7897:14,7898:15,7899:14,7900:17,7901:14,7902:18,7903:14,7904:14,7905:14,7906:18,7907:18,7908:15,7909:18,7910:18,7911:14,7912:18,7913:18,7914:18,7915:18,7916:18,7917:14,7918:18,7919:14,7920:18,7921:14,7922:18,7923:17,7924:15,7925:18,7926:17,7927:18,7928:16,7929:17,7930:14,7931:16,7932:16,7933:17,7934:18,7935:14,7936:14,7937:18,7938:17,7939:14,7940:14,7941:15,7942:14,7943:15,7944:18,7945:17,7946:14,7947:14,7948:18,7949:14,7950:17,7951:14,7952:18,7953:15,7954:18,7955:14,7956:16,7957:18,7958:17,7959:14,7960:18,7961:14,7962:14,7963:14,7964:18,7965:18,7966:16,7967:18,7968:14,7969:18,7970:14,7971:14,7972:18,7973:18,7974:14,7975:14,7976:18,7977:18,7978:14,7979:15,7980:18,7981:17,7982:15,7983:14,7984:18,7985:18,7986:14,7987:14,7988:18,7989:14,7990:14,7991:17,7992:18,7993:14,7994:16,7995:17,7996:18,7997:14,7998:14,7999:18,8e3:18,8001:14,8002:16,8003:18,8004:18,8005:14,8006:14,8007:18,8008:18,8009:14,8010:14,8011:18,8012:18,8013:14,8014:18,8015:14,8016:18,8017:17,8018:15,8019:17,8020:17,8021:14,8022:14,8023:14,8024:18,8025:14,8026:14,8027:14,8028:18,8029:14,8030:18,8031:18,8032:18,8033:14,8034:18,8035:18,8036:18,8037:14,8038:14,8039:18,8040:18,8041:14,8042:17,8043:14,8044:18,8045:18,8046:17,8047:15,8048:14,8049:14,8050:16,8051:16,8052:14,8053:18,8054:17,8055:15,8056:15,8057:14,8058:14,8059:17,8060:14,8061:18,8062:18,8063:14,8064:14,8065:14,8066:16,8067:17,8068:14,8069:16,8070:14,8071:14,8072:14,8073:18,8074:18,8075:14,8076:18,8077:18,8078:14,8079:15,8080:14,8081:18,8082:17,8083:15,8084:16,8085:18,8086:15,8087:17,8088:17,8089:14,8090:18,8091:14,8092:14,8093:18,8094:17,8095:14,8096:14,8097:14,8098:18,8099:14,8100:18,8101:14,8102:16,8103:14,8104:14,8105:18,8106:16,8107:18,8108:18,8109:16,8110:14,8111:14,8112:18,8113:14,8114:18,8115:14,8116:14,8117:16,8118:14,8119:14,8120:14,8121:16,8122:15,8123:17,8124:14,8125:18,8126:15,8127:15,8128:14,8129:18,8130:16,8131:15,8132:14,8133:14,8134:18,8135:18,8136:18,8137:18,8138:15,8139:14,8140:14,8141:18,8142:18,8143:18,8144:18,8145:14,8146:14,8147:18,8148:18,8149:18,8150:16,8151:14,8152:17,8153:14,8154:18,8155:18,8156:15,8157:14,8158:17,8159:18,8160:18,8161:14,8162:18,8163:18,8164:18,8165:14,8166:15,8167:18,8168:18,8169:14,8170:18,8171:18,8172:18,8173:18,8174:18,8175:14,8176:18,8177:14,8178:18,8179:14,8180:18,8181:17,8182:15,8183:18,8184:17,8185:18,8186:18,8187:17,8188:14,8189:16,8190:18,8191:17,8192:14,8193:14,8194:14,8195:18,8196:14,8197:14,8198:18,8199:15,8200:14,8201:15,8202:18,8203:17,8204:14,8205:14,8206:18,8207:14,8208:17,8209:14,8210:18,8211:15,8212:18,8213:14,8214:16,8215:18,8216:17,8217:14,8218:18,8219:14,8220:14,8221:14,8222:18,8223:18,8224:16,8225:18,8226:14,8227:14,8228:14,8229:14,8230:18,8231:18,8232:14,8233:18,8234:18,8235:14,8236:14,8237:15,8238:18,8239:14,8240:15,8241:18,8242:14,8243:14,8244:14,8245:17,8246:18,8247:14,8248:14,8249:17,8250:18,8251:14,8252:16,8253:17,8254:18,8255:14,8256:14,8257:18,8258:18,8259:14,8260:16,8261:18,8262:18,8263:14,8264:14,8265:18,8266:14,8267:14,8268:18,8269:18,8270:14,8271:14,8272:15,8273:14,8274:14,8275:17,8276:15,8277:17,8278:14,8279:14,8280:17,8281:14,8282:14,8283:14,8284:16,8285:14,8286:18,8287:14,8288:18,8289:18,8290:18,8291:14,8292:18,8293:18,8294:18,8295:14,8296:14,8297:18,8298:18,8299:14,8300:17,8301:14,8302:18,8303:18,8304:17,8305:14,8306:14,8307:18,8308:16,8309:18,8310:14,8311:18,8312:17,8313:15,8314:15,8315:14,8316:14,8317:14,8318:14,8319:18,8320:18,8321:15,8322:14,8323:17,8324:16,8325:17,8326:14,8327:16,8328:14,8329:14,8330:14,8331:16,8332:18,8333:14,8334:18,8335:18,8336:14,8337:15,8338:14,8339:18,8340:17,8341:15,8342:16,8343:18,8344:15,8345:17,8346:18,8347:14,8348:14,8349:14,8350:14,8351:18,8352:14,8353:14,8354:14,8355:14,8356:14,8357:14,8358:14,8359:14,8360:18,8361:14,8362:17,8363:18,8364:14,8365:18,8366:18,8367:16,8368:14,8369:14,8370:18,8371:16,8372:18,8373:14,8374:14,8375:16,8376:14,8377:14,8378:14,8379:16,8380:15,8381:17,8382:14,8383:18,8384:15,8385:15,8386:14,8387:15,8388:16,8389:18,8390:14,8391:14,8392:18,8393:14,8394:18,8395:14,8396:15,8397:14,8398:14,8399:17,8400:18,8401:18,8402:18,8403:14,8404:14,8405:18,8406:18,8407:18,8408:16,8409:14,8410:17,8411:18,8412:18,8413:18,8414:15,8415:14,8416:17,8417:18,8418:18,8419:14,8420:18,8421:18,8422:18,8423:14,8424:18,8425:18,8426:14,8427:14,8428:14,8429:18,8430:14,8431:18,8432:14,8433:14,8434:14,8435:14,8436:15,8437:14,8438:14,8439:17,8440:17,8441:18,8442:17,8443:18,8444:18,8445:17,8446:14,8447:16,8448:18,8449:17,8450:14,8451:14,8452:14,8453:18,8454:14,8455:14,8456:18,8457:15,8458:14,8459:15,8460:18,8461:17,8462:14,8463:14,8464:18,8465:14,8466:17,8467:17,8468:18,8469:14,8470:18,8471:15,8472:16,8473:14,8474:17,8475:14,8476:18,8477:14,8478:14,8479:18,8480:18,8481:14,8482:16,8483:18,8484:14,8485:14,8486:14,8487:14,8488:18,8489:18,8490:14,8491:18,8492:18,8493:14,8494:14,8495:15,8496:18,8497:14,8498:15,8499:18,8500:14,8501:14,8502:14,8503:17,8504:14,8505:14,8506:16,8507:17,8508:15,8509:14,8510:15,8511:17,8512:14,8513:14,8514:14,8515:18,8516:14,8517:14,8518:18,8519:18,8520:14,8521:14,8522:14,8523:18,8524:14,8525:14,8526:18,8527:18,8528:14,8529:14,8530:15,8531:14,8532:14,8533:17,8534:15,8535:17,8536:14,8537:14,8538:17,8539:14,8540:14,8541:14,8542:16,8543:14,8544:18,8545:18,8546:18,8547:18,8548:18,8549:14,8550:18,8551:14,8552:18,8553:14,8554:14,8555:15,8556:18,8557:18,8558:17,8559:14,8560:18,8561:18,8562:17,8563:14,8564:14,8565:18,8566:16,8567:18,8568:14,8569:18,8570:17,8571:15,8572:15,8573:14,8574:14,8575:14,8576:14,8577:18,8578:18,8579:15,8580:14,8581:17,8582:16,8583:17,8584:18,8585:16,8586:18,8587:14,8588:18,8589:16,8590:14,8591:14,8592:18,8593:18,8594:18,8595:15,8596:17,8597:18,8598:16,8599:15,8600:18,8601:18,8602:17,8603:17,8604:18,8605:14,8606:14,8607:14,8608:14,8609:18,8610:14,8611:14,8612:14,8613:14,8614:14,8615:14,8616:14,8617:14,8618:18,8619:14,8620:18,8621:18,8622:14,8623:15,8624:18,8625:14,8626:14,8627:18,8628:18,8629:14,8630:18,8631:14,8632:14,8633:14,8634:14,8635:14,8636:14,8637:14,8638:15,8639:17,8640:14,8641:18,8642:15,8643:15,8644:14,8645:15,8646:16,8647:18,8648:14,8649:14,8650:18,8651:14,8652:18,8653:14,8654:15,8655:14,8656:14,8657:17,8658:18,8659:18,8660:18,8661:14,8662:18,8663:18,8664:18,8665:18,8666:14,8667:14,8668:18,8669:18,8670:14,8671:18,8672:14,8673:14,8674:14,8675:18,8676:14,8677:14,8678:14,8679:18,8680:14,8681:14,8682:18,8683:18,8684:14,8685:14,8686:14,8687:18,8688:14,8689:18,8690:14,8691:14,8692:14,8693:14,8694:15,8695:14,8696:14,8697:17,8698:17,8699:18,8700:18,8701:18,8702:18,8703:15,8704:14,8705:14,8706:18,8707:18,8708:14,8709:18,8710:14,8711:14,8712:14,8713:18,8714:18,8715:15,8716:14,8717:17,8718:18,8719:18,8720:14,8721:17,8722:18,8723:14,8724:17,8725:17,8726:18,8727:14,8728:18,8729:15,8730:16,8731:14,8732:17,8733:14,8734:18,8735:14,8736:14,8737:18,8738:18,8739:14,8740:16,8741:18,8742:16,8743:14,8744:18,8745:14,8746:18,8747:18,8748:15,8749:18,8750:14,8751:14,8752:18,8753:15,8754:15,8755:14,8756:14,8757:18,8758:14,8759:14,8760:18,8761:17,8762:14,8763:14,8764:16,8765:17,8766:15,8767:14,8768:15,8769:17,8770:14,8771:14,8772:14,8773:18,8774:14,8775:14,8776:18,8777:18,8778:14,8779:14,8780:14,8781:14,8782:14,8783:14,8784:18,8785:14,8786:14,8787:18,8788:15,8789:18,8790:14,8791:14,8792:15,8793:18,8794:14,8795:18,8796:17,8797:14,8798:14,8799:18,8800:16,8801:14,8802:18,8803:18,8804:18,8805:18,8806:18,8807:14,8808:18,8809:14,8810:18,8811:14,8812:14,8813:15,8814:18,8815:18,8816:17,8817:14,8818:18,8819:18,8820:17,8821:14,8822:15,8823:18,8824:14,8825:18,8826:18,8827:18,8828:16,8829:14,8830:15,8831:14,8832:15,8833:14,8834:17,8835:18,8836:14,8837:15,8838:14,8839:17,8840:18,8841:17,8842:18,8843:16,8844:18,8845:14,8846:18,8847:16,8848:14,8849:14,8850:18,8851:18,8852:18,8853:15,8854:17,8855:18,8856:16,8857:15,8858:18,8859:18,8860:17,8861:15,8862:18,8863:18,8864:14,8865:18,8866:14,8867:14,8868:14,8869:17,8870:14,8871:14,8872:14,8873:14,8874:14,8875:15,8876:18,8877:18,8878:18,8879:14,8880:14,8881:15,8882:18,8883:14,8884:14,8885:18,8886:18,8887:14,8888:18,8889:14,8890:14,8891:14,8892:14,8893:14,8894:14,8895:14,8896:15,8897:17,8898:14,8899:18,8900:18,8901:15,8902:14,8903:15,8904:18,8905:18,8906:14,8907:14,8908:18,8909:15,8910:18,8911:14,8912:14,8913:14,8914:14,8915:17,8916:16,8917:18,8918:18,8919:14,8920:18,8921:18,8922:18,8923:18,8924:14,8925:14,8926:18,8927:18,8928:14,8929:18,8930:14,8931:14,8932:14,8933:18,8934:14,8935:14,8936:14,8937:18,8938:14,8939:14,8940:18,8941:15,8942:14,8943:18,8944:14,8945:18,8946:14,8947:15,8948:14,8949:18,8950:14,8951:14,8952:15,8953:14,8954:14,8955:18,8956:17,8957:14,8958:18,8959:17,8960:18,8961:15,8962:14,8963:14,8964:18,8965:18,8966:14,8967:18,8968:14,8969:14,8970:14,8971:18,8972:18,8973:15,8974:14,8975:17,8976:18,8977:18,8978:14,8979:17,8980:14,8981:14,8982:14,8983:17,8984:14,8985:14,8986:18,8987:15,8988:14,8989:14,8990:18,8991:14,8992:14,8993:14,8994:14,8995:18,8996:18,8997:14,8998:18,8999:18,9e3:16,9001:14,9002:18,9003:14,9004:18,9005:18,9006:15,9007:18,9008:14,9009:14,9010:18,9011:15,9012:15,9013:14,9014:14,9015:18,9016:14,9017:14,9018:18,9019:14,9020:14,9021:18,9022:16,9023:17,9024:15,9025:18,9026:15,9027:14,9028:14,9029:18,9030:14,9031:14,9032:14,9033:17,9034:18,9035:14,9036:14,9037:18,9038:17,9039:14,9040:14,9041:14,9042:18,9043:14,9044:14,9045:18,9046:15,9047:18,9048:14,9049:14,9050:15,9051:18,9052:14,9053:18,9054:17,9055:14,9056:14,9057:18,9058:16,9059:14,9060:15,9061:18,9062:18,9063:18,9064:18,9065:14,9066:14,9067:14,9068:14,9069:14,9070:14,9071:15,9072:14,9073:18,9074:14,9075:14,9076:14,9077:18,9078:18,9079:14,9080:15,9081:18,9082:14,9083:18,9084:18,9085:18,9086:16,9087:14,9088:15,9089:14,9090:15,9091:14,9092:17,9093:18,9094:14,9095:15,9096:14,9097:17,9098:18,9099:14,9100:18,9101:14,9102:18,9103:15,9104:18,9105:14,9106:14,9107:18,9108:18,9109:18,9110:18,9111:18,9112:17,9113:14,9114:16,9115:15,9116:18,9117:16,9118:14,9119:15,9120:18,9121:18,9122:14,9123:18,9124:14,9125:14,9126:14,9127:17,9128:14,9129:14,9130:14,9131:14,9132:14,9133:15,9134:18,9135:18,9136:18,9137:14,9138:16,9139:15,9140:14,9141:14,9142:14,9143:18,9144:14,9145:14,9146:14,9147:14,9148:14,9149:14,9150:16,9151:14,9152:18,9153:14,9154:16,9155:17,9156:15,9157:18,9158:18,9159:15,9160:14,9161:15,9162:18,9163:18,9164:14,9165:14,9166:18,9167:15,9168:18,9169:14,9170:14,9171:14,9172:14,9173:17,9174:16,9175:18,9176:18,9177:14,9178:18,9179:18,9180:18,9181:18,9182:14,9183:14,9184:18,9185:17,9186:14,9187:15,9188:14,9189:18,9190:14,9191:14,9192:14,9193:18,9194:14,9195:14,9196:14,9197:14,9198:18,9199:15,9200:14,9201:18,9202:14,9203:18,9204:14,9205:15,9206:14,9207:18,9208:14,9209:14,9210:15,9211:14,9212:14,9213:18,9214:17,9215:14,9216:18,9217:17,9218:14,9219:15,9220:18,9221:14,9222:18,9223:18,9224:18,9225:18,9226:14,9227:14,9228:17,9229:18,9230:14,9231:15,9232:17,9233:17,9234:15,9235:18,9236:18,9237:17,9238:14,9239:14,9240:14,9241:17,9242:14,9243:14,9244:18,9245:15,9246:14,9247:14,9248:18,9249:14,9250:14,9251:14,9252:14,9253:18,9254:18,9255:14,9256:18,9257:16,9258:16,9259:18,9260:18,9261:14,9262:18,9263:18,9264:15,9265:14,9266:14,9267:17,9268:18,9269:14,9270:15,9271:18,9272:14,9273:14,9274:14,9275:18,9276:18,9277:14,9278:14,9279:18,9280:16,9281:17,9282:15,9283:18,9284:15,9285:14,9286:14,9287:18,9288:14,9289:14,9290:14,9291:17,9292:18,9293:14,9294:14,9295:18,9296:17,9297:14,9298:18,9299:14,9300:14,9301:14,9302:14,9303:18,9304:15,9305:18,9306:14,9307:14,9308:18,9309:18,9310:17,9311:18,9312:18,9313:14,9314:14,9315:18,9316:14,9317:14,9318:15,9319:18,9320:18,9321:18,9322:18,9323:14,9324:14,9325:14,9326:14,9327:18,9328:14,9329:15,9330:14,9331:18,9332:14,9333:14,9334:14,9335:18,9336:18,9337:17,9338:15,9339:14,9340:14,9341:16,9342:18,9343:16,9344:16,9345:17,9346:15,9347:14,9348:15,9349:14,9350:17,9351:15,9352:14,9353:14,9354:14,9355:14,9356:18,9357:14,9358:18,9359:14,9360:18,9361:15,9362:18,9363:14,9364:14,9365:18,9366:18,9367:18,9368:18,9369:18,9370:17,9371:14,9372:16,9373:15,9374:18,9375:16,9376:18,9377:15,9378:15,9379:18,9380:14,9381:18,9382:14,9383:14,9384:18,9385:17,9386:14,9387:14,9388:14,9389:14,9390:14,9391:15,9392:18,9393:18,9394:14,9395:14,9396:16,9397:15,9398:14,9399:14,9400:14,9401:18,9402:14,9403:14,9404:14,9405:14,9406:14,9407:14,9408:16,9409:14,9410:18,9411:14,9412:16,9413:17,9414:15,9415:18,9416:18,9417:15,9418:14,9419:18,9420:18,9421:16,9422:14,9423:17,9424:18,9425:18,9426:18,9427:18,9428:14,9429:15,9430:14,9431:18,9432:16,9433:14,9434:18,9435:18,9436:18,9437:18,9438:18,9439:18,9440:14,9441:14,9442:18,9443:17,9444:14,9445:15,9446:14,9447:18,9448:14,9449:14,9450:14,9451:18,9452:14,9453:14,9454:14,9455:14,9456:14,9457:15,9458:14,9459:18,9460:14,9461:18,9462:18,9463:15,9464:14,9465:18,9466:14,9467:14,9468:18,9469:14,9470:14,9471:18,9472:18,9473:14,9474:18,9475:17,9476:14,9477:15,9478:18,9479:14,9480:18,9481:18,9482:18,9483:18,9484:14,9485:14,9486:17,9487:18,9488:14,9489:15,9490:17,9491:17,9492:15,9493:18,9494:18,9495:14,9496:14,9497:18,9498:14,9499:18,9500:14,9501:18,9502:18,9503:17,9504:14,9505:16,9506:18,9507:18,9508:14,9509:14,9510:14,9511:16,9512:18,9513:17,9514:18,9515:16,9516:16,9517:18,9518:18,9519:14,9520:18,9521:18,9522:15,9523:14,9524:14,9525:17,9526:18,9527:14,9528:15,9529:18,9530:14,9531:14,9532:14,9533:18,9534:18,9535:14,9536:17,9537:18,9538:15,9539:17,9540:18,9541:18,9542:14,9543:14,9544:18,9545:18,9546:14,9547:14,9548:18,9549:17,9550:14,9551:14,9552:16,9553:18,9554:14,9555:14,9556:18,9557:14,9558:14,9559:14,9560:14,9561:18,9562:15,9563:18,9564:14,9565:14,9566:18,9567:18,9568:17,9569:18,9570:18,9571:14,9572:14,9573:18,9574:14,9575:18,9576:14,9577:18,9578:18,9579:14,9580:18,9581:18,9582:14,9583:14,9584:14,9585:18,9586:14,9587:15,9588:14,9589:14,9590:14,9591:18,9592:14,9593:14,9594:18,9595:17,9596:15,9597:14,9598:14,9599:16,9600:18,9601:16,9602:16,9603:17,9604:15,9605:14,9606:15,9607:14,9608:17,9609:15,9610:14,9611:14,9612:14,9613:14,9614:14,9615:14,9616:17,9617:14,9618:16,9619:15,9620:17,9621:14,9622:18,9623:18,9624:14,9625:18,9626:18,9627:18,9628:14,9629:14,9630:18,9631:15,9632:15,9633:16,9634:18,9635:15,9636:15,9637:18,9638:14,9639:18,9640:14,9641:14,9642:18,9643:17,9644:14,9645:14,9646:14,9647:14,9648:14,9649:15,9650:18,9651:18,9652:14,9653:14,9654:16,9655:18,9656:18,9657:18,9658:14,9659:16,9660:14,9661:18,9662:14,9663:14,9664:14,9665:14,9666:16,9667:15,9668:18,9669:18,9670:16,9671:14,9672:15,9673:14,9674:18,9675:15,9676:14,9677:18,9678:18,9679:16,9680:14,9681:17,9682:18,9683:18,9684:18,9685:18,9686:14,9687:15,9688:14,9689:18,9690:16,9691:14,9692:18,9693:18,9694:14,9695:18,9696:18,9697:18,9698:14,9699:14,9700:18,9701:17,9702:14,9703:15,9704:18,9705:15,9706:14,9707:14,9708:14,9709:18,9710:14,9711:14,9712:14,9713:14,9714:14,9715:15,9716:14,9717:18,9718:14,9719:18,9720:18,9721:15,9722:14,9723:18,9724:14,9725:14,9726:18,9727:14,9728:14,9729:18,9730:18,9731:14,9732:18,9733:17,9734:14,9735:14,9736:18,9737:14,9738:18,9739:18,9740:18,9741:14,9742:14,9743:18,9744:17,9745:14,9746:14,9747:18,9748:17,9749:14,9750:15,9751:17,9752:18,9753:14,9754:14,9755:18,9756:14,9757:18,9758:14,9759:18,9760:18,9761:17,9762:14,9763:16,9764:18,9765:18,9766:14,9767:14,9768:14,9769:16,9770:18,9771:17,9772:18,9773:16,9774:18,9775:18,9776:17,9777:14,9778:14,9779:18,9780:17,9781:14,9782:18,9783:17,9784:14,9785:14,9786:15,9787:18,9788:14,9789:14,9790:18,9791:18,9792:15,9793:14,9794:17,9795:18,9796:15,9797:17,9798:18,9799:18,9800:14,9801:14,9802:18,9803:18,9804:14,9805:14,9806:18,9807:17,9808:14,9809:14,9810:16,9811:18,9812:14,9813:14,9814:18,9815:15,9816:14,9817:18,9818:14,9819:14,9820:15,9821:15,9822:14,9823:16,9824:18,9825:15,9826:17,9827:14,9828:18,9829:14,9830:14,9831:14,9832:14,9833:18,9834:14,9835:18,9836:18,9837:14,9838:18,9839:18,9840:14,9841:14,9842:14,9843:18,9844:14,9845:15,9846:14,9847:14,9848:14,9849:18,9850:14,9851:14,9852:18,9853:17,9854:14,9855:14,9856:14,9857:16,9858:14,9859:16,9860:18,9861:17,9862:15,9863:14,9864:18,9865:14,9866:14,9867:15,9868:17,9869:14,9870:15,9871:14,9872:14,9873:14,9874:17,9875:14,9876:16,9877:15,9878:17,9879:14,9880:18,9881:18,9882:14,9883:18,9884:18,9885:18,9886:14,9887:14,9888:18,9889:15,9890:15,9891:16,9892:18,9893:17,9894:15,9895:18,9896:14,9897:14,9898:14,9899:14,9900:18,9901:14,9902:14,9903:16,9904:14,9905:14,9906:14,9907:14,9908:18,9909:14,9910:14,9911:17,9912:16,9913:18,9914:18,9915:18,9916:14,9917:16,9918:14,9919:18,9920:14,9921:14,9922:14,9923:14,9924:16,9925:15,9926:18,9927:18,9928:16,9929:14,9930:15,9931:14,9932:18,9933:15,9934:15,9935:18,9936:14,9937:16,9938:15,9939:17,9940:14,9941:18,9942:14,9943:18,9944:15,9945:15,9946:14,9947:18,9948:14,9949:14,9950:18,9951:18,9952:14,9953:18,9954:18,9955:18,9956:14,9957:14,9958:18,9959:17,9960:14,9961:15,9962:18,9963:15,9964:14,9965:14,9966:14,9967:18,9968:14,9969:14,9970:14,9971:17,9972:14,9973:18,9974:14,9975:14,9976:14,9977:14,9978:18,9979:14,9980:14,9981:14,9982:14,9983:14,9984:18,9985:15,9986:14,9987:14,9988:18,9989:18,9990:18,9991:17,9992:14,9993:14,9994:17,9995:14,9996:18,9997:18,9998:18,9999:14,1e4:14};function wE(e,t){var n=function(e){var t=0;return e.forEach((function(e){e.layers.forEach((function(e){t+=e.tiles.length}))})),t}(e);if(n%3!=0)return console.log("Map Error"),{totalSkinIdx:0,infoLayer:{}};for(var r=n/3,a=[],i=SE[t],s=0;s<r;s++){var o,c=s%i;a=P()(a).call(a,xu()(o=Array(3)).call(o,c))}TE(a);var u=[];e.forEach((function(e){e.layers.forEach((function(e,t){for(var n=0;n<e.tiles.length;n++)u[t]?u[t].push(-1):u.push([-1])}))}));for(var l={},d=u.length-1;d>=0;d--){var h=LE(u[d],a,d),p=h.match,f=void 0===p?0:p,m=h.layer,g=h.typeTiles,v=void 0===g?0:g;u[d]=m,l[d]={match:f,typeTiles:v,numberTiles:m.length}}for(var y=0;a.length>0;){for(var k=AE(),b=0;b<k.length;b++){var E=CE(k[b].toString(),u);if(3==E.length){var x=IE(a,[]);if(-1==x){y=i;break}for(var S=0;S<E.length;S++){var w=E[S],A=w.layerIndex,C=w.tileIndex;void 0!=x&&(u[A][C]=x,PE(a,x))}}}if(++y>i)break}u.forEach((function(e){for(var t=0;t<e.length;t++)if(-1==e[t]){var n=a.shift();void 0!=n&&(e[t]=n)}}));for(var T=0;T<u.length;T++)TE(u[T]);return e.forEach((function(e){e.layers.forEach((function(e,t){for(var n=0;n<e.tiles.length;n++)e.tiles[n].skinIdx=u[t][n]}))})),{totalSkinIdx:i,infoLayer:l}}function AE(){var e=[12,21,111],t=P()(e).call(e,[102,1002,1011,1101,10011,11001,201,2001]);return TE(t),t}function CE(e,t){var n=e.split(""),r=function(e){for(var t=e.length-1;t>0;t--)for(var n=e[t],r=0;r<n.length;r++){if(-1==n[r])return t}return 0}(t);if(!r)return[];for(var a=[],i=0;i<n.length;i++){var s=n[i];if("2"!=s)if("1"!=s)if("0"!=s);else{if(3==a.length)return a;if(r-1<0)break;r--}else{for(var o=t[r],c=0;c<o.length;c++){if(-1==o[c]){a.push({layerIndex:parseInt(r.toString()),tileIndex:c});break}}if(r-1<0)break;r--}else{for(var u=0,l=t[r],d=0;d<l.length;d++){if(-1!=l[d]);else if(a.push({layerIndex:parseInt(r.toString()),tileIndex:d}),2==++u)break}if(3==a.length)return a;if(r-1<0)break;r--}}return 3==a.length?a:[]}function TE(e){for(var t=e.length-1;t>0;t--){var n=Math.floor(Math.random()*(t+1)),r=[e[n],e[t]];e[t]=r[0],e[n]=r[1]}}function LE(e,t,n){var r,a=xE[e.length]||[0],i=a[Math.floor(Math.random()*a.length)];if(0!=i&&0!=n){for(var s,o=[],c=0;c<i;c++){var u=IE(t,o);if(-1==u)break;o.push(u,u,u),PE(t,u),PE(t,u),PE(t,u)}for(var l=0;l<e.length;l++){var d,h=o[l];if(void 0==h)return{layer:e,match:i,typeTiles:P()(d=[]).call(d,new(Dn())(e)).length};e[l]=h}return{layer:e,match:i,typeTiles:P()(s=[]).call(s,new(Dn())(e)).length}}return{layer:e,match:0,typeTiles:P()(r=[]).call(r,new(Dn())(e)).length}}function IE(e,t){for(var n={},r=0;r<e.length;r++){var a=e[r];if(n[a]=(n[a]||0)+1,n[a]>2&&!y()(t).call(t,Number(a)))return Number(a)}return-1}function PE(e,t){var n=Ht()(e).call(e,t);-1!==n&&Ia()(e).call(e,n,1)}function _E(e,t){var n="undefined"!==typeof C()&&L()(e)||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){var n;if(!e)return;if("string"===typeof e)return BE(e,t);var r=x()(n=Object.prototype.toString.call(e)).call(n,8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return w()(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return BE(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function BE(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var OE={TOP:{x:0,y:-.5},BOTTOM:{x:0,y:.5},LEFT:{x:-.5,y:0},RIGHT:{x:.5,y:0},TOP_LEFT:{x:-.5,y:-.5},TOP_RIGHT:{x:.5,y:-.5},BOTTOM_LEFT:{x:-.5,y:.5},BOTTOM_RIGHT:{x:.5,y:.5},CENTER:{x:0,y:0},TOP_2:{x:0,y:-.075},BOTTOM_2:{x:0,y:.075},LEFT_2:{x:-.075,y:0},RIGHT_2:{x:.075,y:0},TOP_LEFT_2:{x:-.075,y:-.075},TOP_RIGHT_2:{x:.075,y:-.075},BOTTOM_LEFT_2:{x:-.075,y:.075},BOTTOM_RIGHT_2:{x:.075,y:.075}},RE=7;function ME(e){return JSON.parse(Ut()(e))}function NE(e){return{clusters:De()(e).call(e,(function(e,t){var n=e.layers,r=e.x,a=e.y,i=e.type,s=function(e){var t={};return e.forEach((function(e,n){e.tiles.forEach((function(e){var r=e.x,a=e.y,i=e.skinIdx;!function(e,t){var n=t.position,r=n.x,a=n.y,i=n.z;e[i]||(e[i]={}),e[i][a]||(e[i][a]={}),e[i][a][r]=t}(t,{position:{x:r,y:a,z:n},icon:i.toString()})}))})),t}(n);return{id:"cluster-"+t,tileMap:s,x:r,y:a,type:i}}))}}function DE(e,t){var n,r=e.x,a=e.y;return!(null==(n=t[e.z])||null==(n=n[a])||!n[r])}function FE(e,t){var n,r,a;if(!DE(e,t))return!1;for(var i,s=wr()(n=Me()(r=De()(a=te()(t)).call(a,Number)).call(r,(function(t){return t>e.z}))).call(n,(function(e,t){return e-t})),o=xr()(OE),c=_E(s);!(i=c()).done;)for(var u,l=i.value,d=_E(o);!(u=d()).done;){var h,p=u.value,f=e.x+p.x,m=e.y+p.y;if(null!=(h=t[l])&&null!=(h=h[m])&&h[f])return!0}return!1}function GE(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];for(var a in r){var i=r[a];if(i)for(var s in i){var o=i[s];if(o)for(var c in o){var u=o[c];if(u){var l=!FE(u.position,r);u.inUsedTileMapIndex=n,l&&t.push(u)}}}}}return t}function ZE(e,t){if(!e)return!1;var n=e.position,r=n.x,a=n.y,i=n.z;return!!DE({x:r,y:a,z:i},t)&&(delete t[i][a][r],!0)}function UE(e){for(var t=e[e.length-1],n=0,r=0;r<e.length-1;r++){e[r]===t&&n++}return 2==n&&(e=Me()(e).call(e,(function(e){return e!==t}))),e}function KE(e){var t=0;return e.forEach((function(e){e.layers.forEach((function(e){t+=e.tiles.length}))})),t}function HE(e){return WE.apply(this,arguments)}function WE(){return WE=(0,s.Z)(d().mark((function e(t){var n,r,a,i,s,o,c,u,l,h,p,f,m,g,v;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=KE(t),r=1,a={win:0,lose:0,totalPick:0,averagePick:0,maxRack:0},i=!0,s="",o=0,c=0;case 7:if(!(c<r)){e.next=28;break}l=[],h=ME(t),p=NE(h),f=De()(u=p.clusters).call(u,(function(e){var t=ME(e);return ME(t.tileMap)})),m=!1,g=d().mark((function e(){var t,n,r,c,u,h,p,g,v,k,b,E,x,S,w,A,C,T,L;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.totalPick++,t=GE(f),n=[],r=[],c=[],u=d().mark((function e(){var r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t[h],2==Me()(l).call(l,(function(e){return e==r.icon})).length&&n.push(r),e.next=5,(0,Yp.qZ)(0);case 5:case"end":return e.stop()}}),e)})),h=0;case 7:if(!(h<t.length)){e.next=12;break}return e.delegateYield(u(),"t0",9);case 9:h++,e.next=7;break;case 12:p=0;case 13:if(!(p<t.length)){e.next=31;break}if(0===(g=t[p]).inUsedTileMapIndex){e.next=17;break}return e.abrupt("continue",28);case 17:v=ME(f),k=v[g.inUsedTileMapIndex||0],ZE(g,k),b=GE(v),E=d().mark((function e(){var t;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=b[x],2==Me()(l).call(l,(function(e){return e==t.icon})).length&&r.push(g);case 3:case"end":return e.stop()}}),e)})),x=0;case 23:if(!(x<b.length)){e.next=28;break}return e.delegateYield(E(),"t1",25);case 25:x++,e.next=23;break;case 28:p++,e.next=13;break;case 31:for(S=0;S<t.length;S++)w=t[S],y()(l).call(l,w.icon)&&c.push(w);if(A=void 0,i&&(A=B()(t).call(t,(function(e){return e.icon==s})),o--),n.length>0&&(A=n[Math.floor(Math.random()*n.length)]),void 0!=(C=VE(t))&&!A&&l.length<RE-2&&(A=B()(t).call(t,(function(e){return e.icon==C})),s=C,i=!0,o=2),r.length>0&&!A&&(A=r[Math.floor(Math.random()*r.length)]),c.length>0&&!A&&(A=c[Math.floor(Math.random()*c.length)]),void 0!=(T=YE(t))&&!A&&l.length<RE-2&&(A=B()(t).call(t,(function(e){return e.icon==T})),s=T,i=!0,o=1),A||(A=t[Math.floor(Math.random()*t.length)]),0==o&&(i=!1,s=""),L=f[A.inUsedTileMapIndex||0],l.push(A.icon),ZE(A,L),!((l=UE(l)).length>=RE)){e.next=51;break}return m=!0,a.lose++,e.abrupt("return",1);case 51:return l.length>a.maxRack&&(a.maxRack=l.length),e.next=54,(0,Yp.qZ)(0);case 54:case"end":return e.stop()}}),e)})),v=0;case 15:if(!(v<n)){e.next=22;break}return e.delegateYield(g(),"t0",17);case 17:if(!e.t0){e.next=19;break}return e.abrupt("break",22);case 19:v++,e.next=15;break;case 22:if(!m){e.next=24;break}return e.abrupt("continue",25);case 24:a.win++;case 25:c++,e.next=7;break;case 28:return e.abrupt("return",a);case 29:case"end":return e.stop()}}),e)}))),WE.apply(this,arguments)}var VE=function(e){var t={};for(var n in e.forEach((function(e){t[e.icon]=(t[e.icon]||0)+1})),t)if(t[n]>2)return n},YE=function(e){var t={};for(var n in e.forEach((function(e){t[e.icon]=(t[e.icon]||0)+1})),t)if(t[n]>1)return n},zE=function(){function e(e,t,n){this.manager=void 0,this.levelNumber=void 0,this.data=void 0,this.solutionManager=this.getSolutionManager(),this.manager=e,this.data=t,this.levelNumber=n,this.solve()}var t=e.prototype;return t.getShuffledData=function(){return this.solve(),this.solutionManager.getSolution()},t.nextLevel=function(){this.solve()},t.solve=function(){if(1!==this.levelNumber){var e=this.levelNumber-this.manager.getLevel();e<0?this.solutionManager.clear():e>1||this.startSolveAsync(e)}},t.startSolveAsync=function(){var e=(0,s.Z)(d().mark((function e(t){var n,r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,Yp.qZ)(1e3*t);case 2:return wE(n=JSON.parse(Ut()(this.data)),this.levelNumber),e.next=6,HE(n);case 6:r=e.sent,console.warn("output",r),r.win>0&&this.solutionManager.addSolution(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.getSolutionManager=function(){var e=[],t=[];return{addSolution:function(t){e.push(t)},getSolution:function(){var n=e.shift();return n?(console.warn("Use ready solution",n),t.push(n),n):0!==t.length?(console.warn("Use used solution",t),Phaser.Math.RND.pick(t)):void console.warn("No solution")},clear:function(){e=[],t=[]}}},e}(),jE=zE,XE=function(){function e(e,t){this.levelNumber=void 0,this.data=void 0,this.solutionManager=this.getSolutionManager(),this.data=e,this.levelNumber=t,this.solve()}var t=e.prototype;return t.getShuffledData=function(){return this.solve(),this.solutionManager.getSolution()},t.nextLevel=function(){this.solve()},t.solve=function(){this.startSolveAsync()},t.startSolveAsync=function(){var e=(0,s.Z)(d().mark((function e(){var t,n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return wE(t=JSON.parse(Ut()(this.data)),this.levelNumber),e.next=4,HE(t);case 4:n=e.sent,console.warn("output daily challenge",n),n.win>0&&this.solutionManager.addSolution(t);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.getSolutionManager=function(){var e=[],t=[];return{addSolution:function(t){e.push(t)},getSolution:function(){var n=e.shift();return n?(console.warn("Use ready solution",n),t.push(n),n):0!==t.length?(console.warn("Use used solution",t),Phaser.Math.RND.pick(t)):void console.warn("No solution")},clear:function(){e=[],t=[]}}},e}(),qE=XE,QE=function(e){function t(){for(var t,n,r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=e.call.apply(e,P()(t=[this]).call(t,a))||this).mode=void 0,n.level=1,n.maxLevel=1,n.levelDailyChallenge=1,n.promisePreloadLevel={},n.loadedLevel={},n.dataDailyChallengeLevel=void 0,n.shufflerDailyChallengeLevel=void 0,n.stepLevel=GameCore.Configs.Level.step,n.dynamicLevels={},n}(0,o.Z)(t,e);var n=t.prototype;return n.getLevel=function(){return this.mode==ia?this.levelDailyChallenge:this.level},n.getMaxLevel=function(){return this.maxLevel},n.setLevel=function(e){this.mode!=ia?e>this.maxLevel?this.level=this.maxLevel:this.level=e:this.levelDailyChallenge=e},n.setMaxLevel=function(e){this.maxLevel=e},n.nextLevel=function(){this.setLevel(this.level+1),this.preloadCurrentLevel(),xr()(this.loadedLevel).forEach((function(e){e.shuffler.nextLevel()}))},n.preloadCurrentLevel=function(){var e=(0,s.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.preloadLevelDataAsync(this.level);case 2:return e.next=4,this.preloadLevelDataAsync(this.level+1);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.getKeyLevel=function(e){var t;return"level_"+Gs()(t=GameCore.Utils.Number).call(t,e,5)},n.getLevelPath=function(e){var t,n=Math.floor((e-1)/this.stepLevel);return"level_"+Gs()(t=GameCore.Utils.Number).call(t,n*this.stepLevel+1,5)+"-"+this.stepLevel},n.preloadLevelDataAsync=function(){var e=(0,s.Z)(d().mark((function e(t){var n,r,a,i,s,o,c,u,l;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=GameCore.Configs.Level,!((t=t||this.level)>r.maxLevel)){e.next=4;break}return e.abrupt("return");case 4:if(a=this.getKeyLevel(t),i=this.getLevelPath(t),!(s=this.loadedLevel[a])){e.next=9;break}return e.abrupt("return",s.data);case 9:return(!y()(n=te()(this.promisePreloadLevel)).call(n,i)||r.alwaysLoadNew)&&(this.promisePreloadLevel[i]=this.preloadLevelWithRetry(t,r.retryCount,r.retryDelay)),e.next=13,this.promisePreloadLevel[i];case 13:if(o=e.sent){e.next=19;break}return delete this.promisePreloadLevel[i],e.abrupt("return");case 19:for(c=1;c<=o.length;c++)u=o[c-1],l=Math.floor((t-1)/this.stepLevel)*this.stepLevel+c,this.loadedLevel[this.getKeyLevel(l)]={data:u,shuffler:new jE(this,u,l)};return e.abrupt("return",this.loadedLevel[a].data);case 21:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),n.preloadLevelWithRetry=function(){var e=(0,s.Z)(d().mark((function e(t,n,r){var a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===n&&(n=3),void 0===r&&(r=2e3),!(n<0)){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,this.preloadLevel(t);case 6:if(a=e.sent){e.next=11;break}return e.next=10,(0,Yp.qZ)(r);case 10:return e.abrupt("return",this.preloadLevelWithRetry(t,n-1));case 11:return e.abrupt("return",a);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}(),n.preloadLevel=function(){var e=(0,s.Z)(d().mark((function e(t){var n,r,a,i;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=this.getLevelPath(t),r=GameCore.Configs.Level.url,e.next=5,fetch(""+r+n+".json",{method:"GET"});case 5:return a=e.sent,e.next=8,a.json();case 8:return i=e.sent,e.abrupt("return",i);case 12:return e.prev=12,e.t0=e.catch(0),e.abrupt("return");case 15:case"end":return e.stop()}}),e,this,[[0,12]])})));return function(t){return e.apply(this,arguments)}}(),n.getLevelDataAsync=function(){var e=(0,s.Z)(d().mark((function e(t){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.preloadLevelDataAsync(t||this.level);case 3:return n=e.sent,e.abrupt("return",n);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return");case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),n.getLevelData=function(e){if(this.mode==ia){var t=this.shufflerDailyChallengeLevel.getShuffledData();return t?(console.warn("Use shuffled data LevelDailyChallenge",t),t):this.dataDailyChallengeLevel}var n=this.getKeyLevel(e||this.getLevel());if(this.loadedLevel[n]){var r=this.loadedLevel[n],a=r.data,i=r.shuffler.getShuffledData();return i?(console.warn("Use shuffled data",i),this.dynamicLevels[n]=!0,i):(this.dynamicLevels[n]=!1,a)}},n.hasLevelData=function(e){var t=this.getKeyLevel(null!=e?e:this.getLevel());return void 0!==this.loadedLevel[t]},n.isLevelDynamic=function(e){var t=this.getKeyLevel(null!=e?e:this.getLevel());return void 0===this.dynamicLevels[t]&&(this.dynamicLevels[t]=!1),this.dynamicLevels[t]},n.loadDataLevelDailyChallengeAsync=function(){var e=(0,s.Z)(d().mark((function e(){var t,n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!this.dataDailyChallengeLevel){e.next=3;break}return e.abrupt("return");case 3:return t=zk(),e.next=6,fetch(t.mapJson,{method:"GET"});case 6:return n=e.sent,e.next=9,n.json();case 9:this.dataDailyChallengeLevel=e.sent,this.shufflerDailyChallengeLevel=new qE(this.dataDailyChallengeLevel,this.levelDailyChallenge),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log("error",e.t0);case 16:case"end":return e.stop()}}),e,this,[[0,13]])})));return function(){return e.apply(this,arguments)}}(),n.hasLevelDailyChallengeData=function(){return void 0!==this.dataDailyChallengeLevel},n.setMode=function(e){this.mode=e},t}(Phaser.Plugins.BasePlugin),JE=QE,$E=[{title:"BEGINNER",startLevel:1,endLevel:12,textures:{key:"default-resources",frame:"theme-screen/frame-turquoise"},backgroundCardPayloads:[{title:"Apple",startLevel:1,endLevel:4,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Banana",startLevel:5,endLevel:8,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"},{title:"Cherry",startLevel:9,endLevel:12,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-02"},gameplayBackgroundKey:"background_2"}]},{title:"RISE",startLevel:13,endLevel:80,textures:{key:"default-resources",frame:"theme-screen/frame-yellow"},backgroundCardPayloads:[{title:"Date",startLevel:13,endLevel:20,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Fig",startLevel:21,endLevel:28,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"},{title:"Grape",startLevel:29,endLevel:36,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-02"},gameplayBackgroundKey:"background_2"},{title:"Kiwi",startLevel:37,endLevel:44,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Lemon",startLevel:45,endLevel:80,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"}]},{title:"PHILIPPINES",startLevel:81,endLevel:160,textures:{key:"default-resources",frame:"theme-screen/frame-violet"},backgroundCardPayloads:[{title:"Mango",startLevel:81,endLevel:96,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Orange",startLevel:97,endLevel:112,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"},{title:"Papaya",startLevel:113,endLevel:128,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-02"},gameplayBackgroundKey:"background_2"},{title:"Pear",startLevel:129,endLevel:144,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Plum",startLevel:145,endLevel:160,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"}]},{title:"BRAZIL",startLevel:161,endLevel:240,textures:{key:"default-resources",frame:"theme-screen/frame-green"},backgroundCardPayloads:[{title:"Raspberry",startLevel:161,endLevel:176,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Strawberry",startLevel:177,endLevel:192,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"},{title:"Tangerine",startLevel:193,endLevel:208,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-02"},gameplayBackgroundKey:"background_2"},{title:"Watermelon",startLevel:209,endLevel:224,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Pineapple",startLevel:225,endLevel:240,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"}]},{title:"SWITZERLAND",startLevel:241,endLevel:320,textures:{key:"default-resources",frame:"theme-screen/frame-turquoise"},backgroundCardPayloads:[{title:"Peach",startLevel:241,endLevel:256,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Apricot",startLevel:257,endLevel:272,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"},{title:"Avocado",startLevel:273,endLevel:288,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-02"},gameplayBackgroundKey:"background_2"},{title:"Blackberry",startLevel:289,endLevel:304,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Blueberry",startLevel:305,endLevel:320,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"}]},{title:"INDONESIA",startLevel:321,endLevel:400,textures:{key:"default-resources",frame:"theme-screen/frame-yellow"},backgroundCardPayloads:[{title:"Cantaloupe",startLevel:321,endLevel:336,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Coconut",startLevel:337,endLevel:352,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"},{title:"Grapefruit",startLevel:353,endLevel:368,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-02"},gameplayBackgroundKey:"background_2"},{title:"Guava",startLevel:369,endLevel:384,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Kumquat",startLevel:385,endLevel:400,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"}]},{title:"EGYPT",startLevel:401,endLevel:480,textures:{key:"default-resources",frame:"theme-screen/frame-violet"},backgroundCardPayloads:[{title:"Lychee",startLevel:401,endLevel:416,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Olive",startLevel:417,endLevel:432,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"},{title:"Pomegranate",startLevel:433,endLevel:448,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-02"},gameplayBackgroundKey:"background_2"},{title:"Rhubarb",startLevel:449,endLevel:464,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Starfruit",startLevel:465,endLevel:480,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"}]},{title:"FRANCE",startLevel:481,endLevel:560,textures:{key:"default-resources",frame:"theme-screen/frame-green"},backgroundCardPayloads:[{title:"Tamarind",startLevel:481,endLevel:496,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Jackfruit",startLevel:497,endLevel:512,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"},{title:"Durian",startLevel:513,endLevel:528,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-02"},gameplayBackgroundKey:"background_2"},{title:"Bergamot",startLevel:529,endLevel:544,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Cranberry",startLevel:545,endLevel:560,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"}]},{title:"ITALY",startLevel:561,endLevel:640,textures:{key:"default-resources",frame:"theme-screen/frame-turquoise"},backgroundCardPayloads:[{title:"Dewberry",startLevel:561,endLevel:576,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Gala",startLevel:577,endLevel:592,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"},{title:"Lingonberry",startLevel:593,endLevel:608,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-02"},gameplayBackgroundKey:"background_2"},{title:"Longan",startLevel:609,endLevel:624,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Mamey",startLevel:625,endLevel:640,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"}]},{title:"MEXICO",startLevel:641,endLevel:720,textures:{key:"default-resources",frame:"theme-screen/frame-yellow"},backgroundCardPayloads:[{title:"Mandarin",startLevel:641,endLevel:656,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Mulberry",startLevel:657,endLevel:672,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"},{title:"Sapodilla",startLevel:673,endLevel:688,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-02"},gameplayBackgroundKey:"background_2"},{title:"Soursop",startLevel:689,endLevel:704,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Acerola",startLevel:705,endLevel:720,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"}]},{title:"CANADA",startLevel:721,endLevel:800,textures:{key:"default-resources",frame:"theme-screen/frame-violet"},backgroundCardPayloads:[{title:"Cherimoya",startLevel:721,endLevel:736,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Kaffir",startLevel:737,endLevel:752,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"},{title:"Loquat",startLevel:753,endLevel:768,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-02"},gameplayBackgroundKey:"background_2"},{title:"Mangosteen",startLevel:769,endLevel:784,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Pawpaw",startLevel:785,endLevel:800,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"}]},{title:"JAPAN",startLevel:801,endLevel:880,textures:{key:"default-resources",frame:"theme-screen/frame-green"},backgroundCardPayloads:[{title:"Persimmon",startLevel:801,endLevel:816,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Pitanga",startLevel:817,endLevel:832,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"},{title:"Plantain",startLevel:833,endLevel:848,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-02"},gameplayBackgroundKey:"background_2"},{title:"Raisin",startLevel:849,endLevel:864,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Salmonberry",startLevel:865,endLevel:880,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"}]},{title:"UNITED KINGDOM",startLevel:881,endLevel:960,textures:{key:"default-resources",frame:"theme-screen/frame-turquoise"},backgroundCardPayloads:[{title:"Satsuma",startLevel:881,endLevel:896,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Surinam",startLevel:897,endLevel:912,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"},{title:"Nance",startLevel:913,endLevel:928,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-02"},gameplayBackgroundKey:"background_2"},{title:"Kei",startLevel:929,endLevel:944,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Prickly",startLevel:945,endLevel:960,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"}]},{title:"SPAIN",startLevel:961,endLevel:1040,textures:{key:"default-resources",frame:"theme-screen/frame-yellow"},backgroundCardPayloads:[{title:"Rambutan",startLevel:961,endLevel:976,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Rose Apple",startLevel:977,endLevel:992,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"},{title:"Aronia",startLevel:993,endLevel:1008,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-02"},gameplayBackgroundKey:"background_2"},{title:"Bilberry",startLevel:1009,endLevel:1024,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Boysenberry",startLevel:1025,endLevel:1040,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"}]},{title:"CHINA",startLevel:1041,endLevel:1120,textures:{key:"default-resources",frame:"theme-screen/frame-violet"},backgroundCardPayloads:[{title:"Cloudberry",startLevel:1041,endLevel:1056,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Currant",startLevel:1057,endLevel:1072,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"},{title:"Physalis",startLevel:1073,endLevel:1088,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-02"},gameplayBackgroundKey:"background_2"},{title:"Jabuticaba",startLevel:1089,endLevel:1104,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Marang",startLevel:1105,endLevel:1120,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"}]},{title:"GREECE",startLevel:1121,endLevel:1200,textures:{key:"default-resources",frame:"theme-screen/frame-green"},backgroundCardPayloads:[{title:"Bael",startLevel:1121,endLevel:1136,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Horned Melon",startLevel:1137,endLevel:1152,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"},{title:"Santol",startLevel:1153,endLevel:1168,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-02"},gameplayBackgroundKey:"background_2"},{title:"Yumberry",startLevel:1169,endLevel:1184,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Black Sapote",startLevel:1185,endLevel:1200,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"}]},{title:"UNITED STATES",startLevel:1201,endLevel:1280,textures:{key:"default-resources",frame:"theme-screen/frame-turquoise"},backgroundCardPayloads:[{title:"Chokeberry",startLevel:1201,endLevel:1216,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Tamarillo",startLevel:1217,endLevel:1232,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"},{title:"Salak",startLevel:1233,endLevel:1248,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-02"},gameplayBackgroundKey:"background_2"},{title:"Camu Camu",startLevel:1249,endLevel:1264,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Ugli Fruit",startLevel:1265,endLevel:1280,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"}]},{title:"GERMANY",startLevel:1281,endLevel:1360,textures:{key:"default-resources",frame:"theme-screen/frame-yellow"},backgroundCardPayloads:[{title:"Mimusops",startLevel:1281,endLevel:1296,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Ackee",startLevel:1297,endLevel:1312,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"},{title:"Ambarella",startLevel:1313,endLevel:1328,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-02"},gameplayBackgroundKey:"background_2"},{title:"Cocona",startLevel:1329,endLevel:1344,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Mangaba",startLevel:1345,endLevel:1360,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"}]},{title:"IRELAND",startLevel:1361,endLevel:1440,textures:{key:"default-resources",frame:"theme-screen/frame-violet"},backgroundCardPayloads:[{title:"Quandong",startLevel:1361,endLevel:1376,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Buddha's Hand",startLevel:1377,endLevel:1392,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"},{title:"Sea Buckthorn",startLevel:1393,endLevel:1408,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-02"},gameplayBackgroundKey:"background_2"},{title:"Finger Lime",startLevel:1409,endLevel:1424,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"White Mulberry",startLevel:1425,endLevel:1440,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"}]},{title:"SAUDI ARABIA",startLevel:1441,endLevel:1520,textures:{key:"default-resources",frame:"theme-screen/frame-green"},backgroundCardPayloads:[{title:"Sloe",startLevel:1441,endLevel:1456,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Ice Apple",startLevel:1457,endLevel:1472,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"},{title:"Cupuacu",startLevel:1473,endLevel:1488,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-02"},gameplayBackgroundKey:"background_2"},{title:"Long Kong",startLevel:1489,endLevel:1504,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Chayote",startLevel:1505,endLevel:1520,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"}]},{title:"NORWAY",startLevel:1521,endLevel:1600,textures:{key:"default-resources",frame:"theme-screen/frame-turquoise"},backgroundCardPayloads:[{title:"Breadnut",startLevel:1521,endLevel:1536,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Pulasan",startLevel:1537,endLevel:1552,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"},{title:"Bignay",startLevel:1553,endLevel:1568,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-02"},gameplayBackgroundKey:"background_2"},{title:"Mamoncillo",startLevel:1569,endLevel:1584,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Keppel Fruit",startLevel:1585,endLevel:1600,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"}]},{title:"AUSTRALIA",startLevel:1601,endLevel:1680,textures:{key:"default-resources",frame:"theme-screen/frame-yellow"},backgroundCardPayloads:[{title:"Malay Apple",startLevel:1601,endLevel:1616,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Marula",startLevel:1617,endLevel:1632,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"},{title:"Velvet Apple",startLevel:1633,endLevel:1648,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-02"},gameplayBackgroundKey:"background_2"},{title:"Desert Lime",startLevel:1649,endLevel:1664,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Dragon Fruit",startLevel:1665,endLevel:1680,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"}]},{title:"THAILAND",startLevel:1681,endLevel:1760,textures:{key:"default-resources",frame:"theme-screen/frame-violet"},backgroundCardPayloads:[{title:"Passion Fruit",startLevel:1681,endLevel:1696,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Nectarine",startLevel:1697,endLevel:1712,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"},{title:"Oak",startLevel:1713,endLevel:1728,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-02"},gameplayBackgroundKey:"background_2"},{title:"Pine",startLevel:1729,endLevel:1744,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Birch",startLevel:1745,endLevel:1760,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"}]},{title:"POLAND",startLevel:1761,endLevel:1840,textures:{key:"default-resources",frame:"theme-screen/frame-green"},backgroundCardPayloads:[{title:"Maple",startLevel:1761,endLevel:1776,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Cedar",startLevel:1777,endLevel:1792,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"},{title:"Aspen",startLevel:1793,endLevel:1808,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-02"},gameplayBackgroundKey:"background_2"},{title:"Elm",startLevel:1809,endLevel:1824,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Fir",startLevel:1825,endLevel:1840,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"}]},{title:"SWEDEN",startLevel:1841,endLevel:1920,textures:{key:"default-resources",frame:"theme-screen/frame-turquoise"},backgroundCardPayloads:[{title:"Willow",startLevel:1841,endLevel:1856,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Redwood",startLevel:1857,endLevel:1872,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"},{title:"Sequoia",startLevel:1873,endLevel:1888,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-02"},gameplayBackgroundKey:"background_2"},{title:"Eucalyptus",startLevel:1889,endLevel:1904,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Sycamore",startLevel:1905,endLevel:1920,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"}]},{title:"NETHERLANDS",startLevel:1921,endLevel:2e3,textures:{key:"default-resources",frame:"theme-screen/frame-yellow"},backgroundCardPayloads:[{title:"Magnolia",startLevel:1921,endLevel:1936,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Hickory",startLevel:1937,endLevel:1952,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"},{title:"Alder",startLevel:1953,endLevel:1968,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-02"},gameplayBackgroundKey:"background_2"},{title:"Chestnut",startLevel:1969,endLevel:1984,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Juniper",startLevel:1985,endLevel:2e3,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"}]},{title:"ARGENTINA",startLevel:2001,endLevel:2080,textures:{key:"default-resources",frame:"theme-screen/frame-violet"},backgroundCardPayloads:[{title:"Palm",startLevel:2001,endLevel:2016,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Linden",startLevel:2017,endLevel:2032,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"},{title:"Ash",startLevel:2033,endLevel:2048,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-02"},gameplayBackgroundKey:"background_2"},{title:"Cypress",startLevel:2049,endLevel:2064,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Poplar",startLevel:2065,endLevel:2080,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"}]},{title:"COLOMBIA",startLevel:2081,endLevel:2160,textures:{key:"default-resources",frame:"theme-screen/frame-green"},backgroundCardPayloads:[{title:"Mahogany",startLevel:2081,endLevel:2096,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Teak",startLevel:2097,endLevel:2112,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"},{title:"Balsa",startLevel:2113,endLevel:2128,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-02"},gameplayBackgroundKey:"background_2"},{title:"Rosewood",startLevel:2129,endLevel:2144,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Zebrawood",startLevel:2145,endLevel:2160,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"}]},{title:"MALAYSIA",startLevel:2161,endLevel:2240,textures:{key:"default-resources",frame:"theme-screen/frame-turquoise"},backgroundCardPayloads:[{title:"Ironwood",startLevel:2161,endLevel:2176,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Ebony",startLevel:2177,endLevel:2192,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"},{title:"Boxwood",startLevel:2193,endLevel:2208,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-02"},gameplayBackgroundKey:"background_2"},{title:"Holly",startLevel:2209,endLevel:2224,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Acacia",startLevel:2225,endLevel:2240,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"}]},{title:"SOUTH AFRICA",startLevel:2241,endLevel:2320,textures:{key:"default-resources",frame:"theme-screen/frame-yellow"},backgroundCardPayloads:[{title:"Elder",startLevel:2241,endLevel:2256,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Hackberry",startLevel:2257,endLevel:2272,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"},{title:"Catalpa",startLevel:2273,endLevel:2288,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-02"},gameplayBackgroundKey:"background_2"},{title:"Gingko",startLevel:2289,endLevel:2304,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Bamboo",startLevel:2305,endLevel:2320,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"}]},{title:"BELGIUM",startLevel:2321,endLevel:2400,textures:{key:"default-resources",frame:"theme-screen/frame-violet"},backgroundCardPayloads:[{title:"Laurel",startLevel:2321,endLevel:2336,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Tulip",startLevel:2337,endLevel:2352,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"},{title:"Lily",startLevel:2353,endLevel:2368,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-02"},gameplayBackgroundKey:"background_2"},{title:"Orchid",startLevel:2369,endLevel:2384,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Sunflower",startLevel:2385,endLevel:2400,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"}]},{title:"FINLAND",startLevel:2401,endLevel:2480,textures:{key:"default-resources",frame:"theme-screen/frame-green"},backgroundCardPayloads:[{title:"Daisy",startLevel:2401,endLevel:2416,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Peony",startLevel:2417,endLevel:2432,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"},{title:"Daffodil",startLevel:2433,endLevel:2448,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-02"},gameplayBackgroundKey:"background_2"},{title:"Violet",startLevel:2449,endLevel:2464,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Marigold",startLevel:2465,endLevel:2480,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"}]},{title:"CZECH REPUBLIC",startLevel:2481,endLevel:2560,textures:{key:"default-resources",frame:"theme-screen/frame-turquoise"},backgroundCardPayloads:[{title:"Lavender",startLevel:2481,endLevel:2496,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Carnation",startLevel:2497,endLevel:2512,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"},{title:"Chrysanthemum",startLevel:2513,endLevel:2528,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-02"},gameplayBackgroundKey:"background_2"},{title:"Hibiscus",startLevel:2529,endLevel:2544,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Gardenia",startLevel:2545,endLevel:2560,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"}]},{title:"DENMARK",startLevel:2561,endLevel:2640,textures:{key:"default-resources",frame:"theme-screen/frame-yellow"},backgroundCardPayloads:[{title:"Camellia",startLevel:2561,endLevel:2576,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Hollyhock",startLevel:2577,endLevel:2592,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"},{title:"Jasmine",startLevel:2593,endLevel:2608,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-02"},gameplayBackgroundKey:"background_2"},{title:"Geranium",startLevel:2609,endLevel:2624,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Zinnia",startLevel:2625,endLevel:2640,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"}]},{title:"ROMANIA",startLevel:2641,endLevel:2720,textures:{key:"default-resources",frame:"theme-screen/frame-violet"},backgroundCardPayloads:[{title:"Begonia",startLevel:2641,endLevel:2656,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Aster",startLevel:2657,endLevel:2672,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"},{title:"Petunia",startLevel:2673,endLevel:2688,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-02"},gameplayBackgroundKey:"background_2"},{title:"Snapdragon",startLevel:2689,endLevel:2704,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Fuchsia",startLevel:2705,endLevel:2720,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"}]},{title:"CHILE",startLevel:2721,endLevel:2800,textures:{key:"default-resources",frame:"theme-screen/frame-green"},backgroundCardPayloads:[{title:"Lantana",startLevel:2721,endLevel:2736,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Impatiens",startLevel:2737,endLevel:2752,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"},{title:"Poppy",startLevel:2753,endLevel:2768,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-02"},gameplayBackgroundKey:"background_2"},{title:"Cosmos",startLevel:2769,endLevel:2784,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Echinacea",startLevel:2785,endLevel:2800,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"}]},{title:"PORTUGAL",startLevel:2801,endLevel:2880,textures:{key:"default-resources",frame:"theme-screen/frame-turquoise"},backgroundCardPayloads:[{title:"Tuberose",startLevel:2801,endLevel:2816,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Calendula",startLevel:2817,endLevel:2832,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"},{title:"Bird of Paradise",startLevel:2833,endLevel:2848,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-02"},gameplayBackgroundKey:"background_2"},{title:"Calla Lily",startLevel:2849,endLevel:2864,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Bleeding Heart",startLevel:2865,endLevel:2880,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"}]},{title:"HUNGARY",startLevel:2881,endLevel:2960,textures:{key:"default-resources",frame:"theme-screen/frame-yellow"},backgroundCardPayloads:[{title:"Sweet Pea",startLevel:2881,endLevel:2896,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Gladiolus",startLevel:2897,endLevel:2912,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"},{title:"Star Jasmine",startLevel:2913,endLevel:2928,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-02"},gameplayBackgroundKey:"background_2"},{title:"Angel's Trumpet",startLevel:2929,endLevel:2944,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Night Blooming Cereus",startLevel:2945,endLevel:2960,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"}]},{title:"PERU",startLevel:2961,endLevel:3040,textures:{key:"default-resources",frame:"theme-screen/frame-violet"},backgroundCardPayloads:[{title:"Crown of Thorns",startLevel:2961,endLevel:2976,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Queen of the Night",startLevel:2977,endLevel:2992,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"},{title:"Arabian Jasmine",startLevel:2993,endLevel:3008,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-02"},gameplayBackgroundKey:"background_2"},{title:"Four O\u2019Clock Flower",startLevel:3009,endLevel:3024,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Scarlet Pimpernel",startLevel:3025,endLevel:3040,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"}]},{title:"SINGAPORE",startLevel:3041,endLevel:3120,textures:{key:"default-resources",frame:"theme-screen/frame-green"},backgroundCardPayloads:[{title:"Golden Shower",startLevel:3041,endLevel:3056,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Clivia",startLevel:3057,endLevel:3072,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"},{title:"Crocus",startLevel:3073,endLevel:3088,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-02"},gameplayBackgroundKey:"background_2"},{title:"Nerine",startLevel:3089,endLevel:3104,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Floss Flower",startLevel:3105,endLevel:3120,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"}]},{title:"ALGERIA",startLevel:3121,endLevel:3200,textures:{key:"default-resources",frame:"theme-screen/frame-turquoise"},backgroundCardPayloads:[{title:"Bells of Ireland",startLevel:3121,endLevel:3136,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Snowdrop",startLevel:3137,endLevel:3152,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"},{title:"Heliotrope",startLevel:3153,endLevel:3168,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-02"},gameplayBackgroundKey:"background_2"},{title:"Columbine",startLevel:3169,endLevel:3184,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Foxglove",startLevel:3185,endLevel:3200,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"}]},{title:"MOROCCO",startLevel:3201,endLevel:3280,textures:{key:"default-resources",frame:"theme-screen/frame-yellow"},backgroundCardPayloads:[{title:"Aconite",startLevel:3201,endLevel:3216,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Lobelia",startLevel:3217,endLevel:3232,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"},{title:"Indian Paintbrush",startLevel:3233,endLevel:3248,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-02"},gameplayBackgroundKey:"background_2"},{title:"Alyssum",startLevel:3249,endLevel:3264,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Thistle",startLevel:3265,endLevel:3280,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"}]},{title:"BANGLADESH",startLevel:3281,endLevel:3360,textures:{key:"default-resources",frame:"theme-screen/frame-violet"},backgroundCardPayloads:[{title:"Eryngium",startLevel:3281,endLevel:3296,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Nicotiana",startLevel:3297,endLevel:3312,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"},{title:"Lunaria",startLevel:3313,endLevel:3328,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-02"},gameplayBackgroundKey:"background_2"},{title:"Rudbeckia",startLevel:3329,endLevel:3344,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Statice",startLevel:3345,endLevel:3360,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"}]},{title:"SERBIA",startLevel:3361,endLevel:3440,textures:{key:"default-resources",frame:"theme-screen/frame-green"},backgroundCardPayloads:[{title:"Dianthus",startLevel:3361,endLevel:3376,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Blue Marguerite",startLevel:3377,endLevel:3392,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"},{title:"Veronica",startLevel:3393,endLevel:3408,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-02"},gameplayBackgroundKey:"background_2"},{title:"Baptisia",startLevel:3409,endLevel:3424,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Agapanthus",startLevel:3425,endLevel:3440,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"}]},{title:"NEW ZEALAND",startLevel:3441,endLevel:3520,textures:{key:"default-resources",frame:"theme-screen/frame-turquoise"},backgroundCardPayloads:[{title:"Borage",startLevel:3441,endLevel:3456,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Bugloss",startLevel:3457,endLevel:3472,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"},{title:"Ipomoea",startLevel:3473,endLevel:3488,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-02"},gameplayBackgroundKey:"background_2"},{title:"Edelweiss",startLevel:3489,endLevel:3504,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Coral Vine",startLevel:3505,endLevel:3520,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"}]},{title:"AUSTRIA",startLevel:3521,endLevel:3600,textures:{key:"default-resources",frame:"theme-screen/frame-yellow"},backgroundCardPayloads:[{title:"Butterfly Weed",startLevel:3521,endLevel:3536,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Everlasting Daisy",startLevel:3537,endLevel:3552,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"},{title:"Kangaroo Paw",startLevel:3553,endLevel:3568,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-02"},gameplayBackgroundKey:"background_2"},{title:"Waratah",startLevel:3569,endLevel:3584,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Flannel Flower",startLevel:3585,endLevel:3600,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"}]},{title:"CROATIA",startLevel:3601,endLevel:3680,textures:{key:"default-resources",frame:"theme-screen/frame-violet"},backgroundCardPayloads:[{title:"Sturt's Desert Pea",startLevel:3601,endLevel:3616,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Desert Rose",startLevel:3617,endLevel:3632,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"},{title:"Pink Purslane",startLevel:3633,endLevel:3648,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-02"},gameplayBackgroundKey:"background_2"},{title:"Chocolate Lily",startLevel:3649,endLevel:3664,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Hoya",startLevel:3665,endLevel:3680,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"}]},{title:"SLOVAKIA",startLevel:3681,endLevel:3760,textures:{key:"default-resources",frame:"theme-screen/frame-green"},backgroundCardPayloads:[{title:"Sacred Lotus",startLevel:3681,endLevel:3696,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Water Hyacinth",startLevel:3697,endLevel:3712,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"},{title:"Marsh Marigold",startLevel:3713,endLevel:3728,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-02"},gameplayBackgroundKey:"background_2"},{title:"Virginia Bluebell",startLevel:3729,endLevel:3744,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Bleeding Heart Vine",startLevel:3745,endLevel:3760,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"}]},{title:"BULGARIA",startLevel:3761,endLevel:3840,textures:{key:"default-resources",frame:"theme-screen/frame-turquoise"},backgroundCardPayloads:[{title:"Christmas Cactus",startLevel:3761,endLevel:3776,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Tropical Hibiscus",startLevel:3777,endLevel:3792,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"},{title:"Coral Bells",startLevel:3793,endLevel:3808,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-02"},gameplayBackgroundKey:"background_2"},{title:"Ice Plant",startLevel:3809,endLevel:3824,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Moonflower",startLevel:3825,endLevel:3840,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"}]},{title:"VENEZUELA",startLevel:3841,endLevel:3920,textures:{key:"default-resources",frame:"theme-screen/frame-yellow"},backgroundCardPayloads:[{title:"Passion Vine",startLevel:3841,endLevel:3856,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Sweet William",startLevel:3857,endLevel:3872,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"},{title:"Winter Jasmine",startLevel:3873,endLevel:3888,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-02"},gameplayBackgroundKey:"background_2"},{title:"Balloon Flower",startLevel:3889,endLevel:3904,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Black-eyed Susan",startLevel:3905,endLevel:3920,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"}]},{title:"JORDAN",startLevel:3921,endLevel:4e3,textures:{key:"default-resources",frame:"theme-screen/frame-violet"},backgroundCardPayloads:[{title:"Spider Lily",startLevel:3921,endLevel:3936,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Love-in-a-Mist",startLevel:3937,endLevel:3952,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"},{title:"Angelonia",startLevel:3953,endLevel:3968,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-02"},gameplayBackgroundKey:"background_2"},{title:"Toad Lily",startLevel:3969,endLevel:3984,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Periwinkle",startLevel:3985,endLevel:4e3,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"}]},{title:"KUWAIT",startLevel:4001,endLevel:4080,textures:{key:"default-resources",frame:"theme-screen/frame-green"},backgroundCardPayloads:[{title:"Spiderwort",startLevel:4001,endLevel:4016,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Indian Blanket",startLevel:4017,endLevel:4032,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"},{title:"Blue-eyed Grass",startLevel:4033,endLevel:4048,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-02"},gameplayBackgroundKey:"background_2"},{title:"Maltese Cross",startLevel:4049,endLevel:4064,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Chinese Lantern",startLevel:4065,endLevel:4080,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"}]},{title:"QATAR",startLevel:4081,endLevel:4160,textures:{key:"default-resources",frame:"theme-screen/frame-turquoise"},backgroundCardPayloads:[{title:"Love-lies-Bleeding",startLevel:4081,endLevel:4096,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Monkshood",startLevel:4097,endLevel:4112,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"},{title:"Obedient Plant",startLevel:4113,endLevel:4128,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-02"},gameplayBackgroundKey:"background_2"},{title:"Artichoke",startLevel:4129,endLevel:4144,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Arugula",startLevel:4145,endLevel:4160,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"}]},{title:"UAE",startLevel:4161,endLevel:4240,textures:{key:"default-resources",frame:"theme-screen/frame-yellow"},backgroundCardPayloads:[{title:"Asparagus",startLevel:4161,endLevel:4176,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Bamboo Shoot",startLevel:4177,endLevel:4192,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"},{title:"Beetroot",startLevel:4193,endLevel:4208,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-02"},gameplayBackgroundKey:"background_2"},{title:"Bell Pepper",startLevel:4209,endLevel:4224,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Black Radish",startLevel:4225,endLevel:4240,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"}]},{title:"AZERBAIJAN",startLevel:4241,endLevel:4320,textures:{key:"default-resources",frame:"theme-screen/frame-violet"},backgroundCardPayloads:[{title:"Bok Choy",startLevel:4241,endLevel:4256,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Broccoli",startLevel:4257,endLevel:4272,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"},{title:"Brussels Sprouts",startLevel:4273,endLevel:4288,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-02"},gameplayBackgroundKey:"background_2"},{title:"Butternut Squash",startLevel:4289,endLevel:4304,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Cabbage",startLevel:4305,endLevel:4320,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"}]},{title:"GEORGIA",startLevel:4321,endLevel:4400,textures:{key:"default-resources",frame:"theme-screen/frame-green"},backgroundCardPayloads:[{title:"Carrot",startLevel:4321,endLevel:4336,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Cauliflower",startLevel:4337,endLevel:4352,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"},{title:"Celery",startLevel:4353,endLevel:4368,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-02"},gameplayBackgroundKey:"background_2"},{title:"Chinese Broccoli",startLevel:4369,endLevel:4384,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Chinese Cabbage",startLevel:4385,endLevel:4400,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"}]},{title:"BELARUS",startLevel:4401,endLevel:4480,textures:{key:"default-resources",frame:"theme-screen/frame-turquoise"},backgroundCardPayloads:[{title:"Collard Greens",startLevel:4401,endLevel:4416,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Corn",startLevel:4417,endLevel:4432,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"},{title:"Cucumber",startLevel:4433,endLevel:4448,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-02"},gameplayBackgroundKey:"background_2"},{title:"Daikon Radish",startLevel:4449,endLevel:4464,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Eggplant",startLevel:4465,endLevel:4480,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"}]},{title:"TUNISIA",startLevel:4481,endLevel:4560,textures:{key:"default-resources",frame:"theme-screen/frame-yellow"},backgroundCardPayloads:[{title:"Endive",startLevel:4481,endLevel:4496,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Fennel",startLevel:4497,endLevel:4512,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"},{title:"French Beans",startLevel:4513,endLevel:4528,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-02"},gameplayBackgroundKey:"background_2"},{title:"Garlic",startLevel:4529,endLevel:4544,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Ginger",startLevel:4545,endLevel:4560,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"}]},{title:"UZBEKISTAN",startLevel:4561,endLevel:4640,textures:{key:"default-resources",frame:"theme-screen/frame-violet"},backgroundCardPayloads:[{title:"Green Bean",startLevel:4561,endLevel:4576,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Green Peas",startLevel:4577,endLevel:4592,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"},{title:"Jicama",startLevel:4593,endLevel:4608,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-02"},gameplayBackgroundKey:"background_2"},{title:"Kale",startLevel:4609,endLevel:4624,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Kohlrabi",startLevel:4625,endLevel:4640,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"}]},{title:"KAZAKHSTAN",startLevel:4641,endLevel:4720,textures:{key:"default-resources",frame:"theme-screen/frame-green"},backgroundCardPayloads:[{title:"Leek",startLevel:4641,endLevel:4656,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Lettuce",startLevel:4657,endLevel:4672,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"},{title:"Mung Bean",startLevel:4673,endLevel:4688,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-02"},gameplayBackgroundKey:"background_2"},{title:"Mustard Greens",startLevel:4689,endLevel:4704,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Nopal",startLevel:4705,endLevel:4720,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"}]},{title:"LEBANON",startLevel:4721,endLevel:4800,textures:{key:"default-resources",frame:"theme-screen/frame-turquoise"},backgroundCardPayloads:[{title:"Okra",startLevel:4721,endLevel:4736,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Onion",startLevel:4737,endLevel:4752,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"},{title:"Parsnip",startLevel:4753,endLevel:4768,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-02"},gameplayBackgroundKey:"background_2"},{title:"Pea Shoots",startLevel:4769,endLevel:4784,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Pumpkin",startLevel:4785,endLevel:4800,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"}]},{title:"OMAN",startLevel:4801,endLevel:4880,textures:{key:"default-resources",frame:"theme-screen/frame-yellow"},backgroundCardPayloads:[{title:"Radicchio",startLevel:4801,endLevel:4816,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Radish",startLevel:4817,endLevel:4832,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"},{title:"Red Cabbage",startLevel:4833,endLevel:4848,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-02"},gameplayBackgroundKey:"background_2"},{title:"Red Chili Pepper",startLevel:4849,endLevel:4864,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Rocket",startLevel:4865,endLevel:4880,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"}]},{title:"BAHRAIN",startLevel:4881,endLevel:4960,textures:{key:"default-resources",frame:"theme-screen/frame-violet"},backgroundCardPayloads:[{title:"Rutabaga",startLevel:4881,endLevel:4896,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Scallion",startLevel:4897,endLevel:4912,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"},{title:"Shallot",startLevel:4913,endLevel:4928,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-02"},gameplayBackgroundKey:"background_2"},{title:"Snow Pea",startLevel:4929,endLevel:4944,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Sorrel",startLevel:4945,endLevel:4960,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"}]},{title:"ANGOLA",startLevel:4961,endLevel:5040,textures:{key:"default-resources",frame:"theme-screen/frame-green"},backgroundCardPayloads:[{title:"Soybean",startLevel:4961,endLevel:4976,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Spinach",startLevel:4977,endLevel:4992,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"},{title:"Spring Onion",startLevel:4993,endLevel:5008,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-02"},gameplayBackgroundKey:"background_2"},{title:"Squash",startLevel:5009,endLevel:5024,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"String Bean",startLevel:5025,endLevel:5040,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"}]},{title:"KENYA",startLevel:5041,endLevel:5120,textures:{key:"default-resources",frame:"theme-screen/frame-turquoise"},backgroundCardPayloads:[{title:"Sugar Snap Pea",startLevel:5041,endLevel:5056,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Sweet Corn",startLevel:5057,endLevel:5072,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"},{title:"Sweet Pepper",startLevel:5073,endLevel:5088,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-02"},gameplayBackgroundKey:"background_2"},{title:"Sweet Potato",startLevel:5089,endLevel:5104,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Swiss Chard",startLevel:5105,endLevel:5120,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"}]},{title:"ZIMBABWE",startLevel:5121,endLevel:5200,textures:{key:"default-resources",frame:"theme-screen/frame-yellow"},backgroundCardPayloads:[{title:"Taro",startLevel:5121,endLevel:5136,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Turnip",startLevel:5137,endLevel:5152,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"},{title:"Water Chestnut",startLevel:5153,endLevel:5168,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-02"},gameplayBackgroundKey:"background_2"},{title:"Watercress",startLevel:5169,endLevel:5184,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Yam",startLevel:5185,endLevel:5200,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"}]},{title:"NIGERIA",startLevel:5201,endLevel:5280,textures:{key:"default-resources",frame:"theme-screen/frame-violet"},backgroundCardPayloads:[{title:"Zucchini",startLevel:5201,endLevel:5216,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Beet Greens",startLevel:5217,endLevel:5232,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"},{title:"Broccolini",startLevel:5233,endLevel:5248,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-02"},gameplayBackgroundKey:"background_2"},{title:"Butterhead Lettuce",startLevel:5249,endLevel:5264,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Celeriac",startLevel:5265,endLevel:5280,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"}]},{title:"ZAMBIA",startLevel:5281,endLevel:5360,textures:{key:"default-resources",frame:"theme-screen/frame-green"},backgroundCardPayloads:[{title:"Chard",startLevel:5281,endLevel:5296,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Chickweed",startLevel:5297,endLevel:5312,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"},{title:"Chives",startLevel:5313,endLevel:5328,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-02"},gameplayBackgroundKey:"background_2"},{title:"Dandelion Greens",startLevel:5329,endLevel:5344,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Escarole",startLevel:5345,endLevel:5360,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"}]},{title:"UGANDA",startLevel:5361,endLevel:5440,textures:{key:"default-resources",frame:"theme-screen/frame-turquoise"},backgroundCardPayloads:[{title:"Garden Cress",startLevel:5361,endLevel:5376,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Iceberg Lettuce",startLevel:5377,endLevel:5392,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"},{title:"Italian Parsley",startLevel:5393,endLevel:5408,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-02"},gameplayBackgroundKey:"background_2"},{title:"Luffa",startLevel:5409,endLevel:5424,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Malabar Spinach",startLevel:5425,endLevel:5440,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"}]},{title:"NEPAL",startLevel:5441,endLevel:5520,textures:{key:"default-resources",frame:"theme-screen/frame-yellow"},backgroundCardPayloads:[{title:"Mizuna",startLevel:5441,endLevel:5456,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Napa Cabbage",startLevel:5457,endLevel:5472,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"},{title:"New Zealand Spinach",startLevel:5473,endLevel:5488,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-02"},gameplayBackgroundKey:"background_2"},{title:"Pak Choi",startLevel:5489,endLevel:5504,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Purslane",startLevel:5505,endLevel:5520,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"}]},{title:"SRI LANKA",startLevel:5521,endLevel:5600,textures:{key:"default-resources",frame:"theme-screen/frame-violet"},backgroundCardPayloads:[{title:"Ramps",startLevel:5521,endLevel:5536,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Red Leaf Lettuce",startLevel:5537,endLevel:5552,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"},{title:"Romanesco",startLevel:5553,endLevel:5568,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-02"},gameplayBackgroundKey:"background_2"},{title:"Seaweed",startLevel:5569,endLevel:5584,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Tatsoi",startLevel:5585,endLevel:5600,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"}]},{title:"PARAGUAY",startLevel:5601,endLevel:5680,textures:{key:"default-resources",frame:"theme-screen/frame-green"},backgroundCardPayloads:[{title:"Acorn Squash",startLevel:5601,endLevel:5616,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Batavia Lettuce",startLevel:5617,endLevel:5632,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"},{title:"Bitter Melon",startLevel:5633,endLevel:5648,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-02"},gameplayBackgroundKey:"background_2"},{title:"Bottle Gourd",startLevel:5649,endLevel:5664,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Burdock Root",startLevel:5665,endLevel:5680,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"}]},{title:"URUGUAY",startLevel:5681,endLevel:5760,textures:{key:"default-resources",frame:"theme-screen/frame-turquoise"},backgroundCardPayloads:[{title:"Cardoon",startLevel:5681,endLevel:5696,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Celtuce",startLevel:5697,endLevel:5712,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"},{title:"Cluster Beans",startLevel:5713,endLevel:5728,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-02"},gameplayBackgroundKey:"background_2"},{title:"Cucumber Melon",startLevel:5729,endLevel:5744,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Fiddlehead Ferns",startLevel:5745,endLevel:5760,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"}]},{title:"COSTA RICA",startLevel:5761,endLevel:5840,textures:{key:"default-resources",frame:"theme-screen/frame-yellow"},backgroundCardPayloads:[{title:"Garlic Scapes",startLevel:5761,endLevel:5776,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Globe Artichoke",startLevel:5777,endLevel:5792,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"},{title:"Green Chiles",startLevel:5793,endLevel:5808,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-02"},gameplayBackgroundKey:"background_2"},{title:"Hyacinth Bean",startLevel:5809,endLevel:5824,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Italian Dandelion",startLevel:5825,endLevel:5840,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"}]},{title:"LITHUANIA",startLevel:5841,endLevel:5920,textures:{key:"default-resources",frame:"theme-screen/frame-violet"},backgroundCardPayloads:[{title:"Jerusalem Artichoke",startLevel:5841,endLevel:5856,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Lablab Beans",startLevel:5857,endLevel:5872,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"},{title:"Lamb\u2019s Lettuce",startLevel:5873,endLevel:5888,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-02"},gameplayBackgroundKey:"background_2"},{title:"Marrow Squash",startLevel:5889,endLevel:5904,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Pattypan Squash",startLevel:5905,endLevel:5920,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"}]},{title:"LATVIA",startLevel:5921,endLevel:6e3,textures:{key:"default-resources",frame:"theme-screen/frame-green"},backgroundCardPayloads:[{title:"Roman Lettuce",startLevel:5921,endLevel:5936,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Savoy Cabbage",startLevel:5937,endLevel:5952,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"},{title:"Scarlet Runner Beans",startLevel:5953,endLevel:5968,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-02"},gameplayBackgroundKey:"background_2"},{title:"Sea Lettuce",startLevel:5969,endLevel:5984,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Snake Beans",startLevel:5985,endLevel:6e3,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"}]},{title:"ESTONIA",startLevel:6001,endLevel:6080,textures:{key:"default-resources",frame:"theme-screen/frame-turquoise"},backgroundCardPayloads:[{title:"Snow Cabbage",startLevel:6001,endLevel:6016,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Spaghetti Squash",startLevel:6017,endLevel:6032,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"},{title:"Sunchokes",startLevel:6033,endLevel:6048,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-02"},gameplayBackgroundKey:"background_2"},{title:"Thai Eggplant",startLevel:6049,endLevel:6064,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Thorn Melon",startLevel:6065,endLevel:6080,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"}]},{title:"SLOVENIA",startLevel:6081,endLevel:6160,textures:{key:"default-resources",frame:"theme-screen/frame-yellow"},backgroundCardPayloads:[{title:"Upland Cress",startLevel:6081,endLevel:6096,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Water Parsley",startLevel:6097,endLevel:6112,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"},{title:"Wax Gourd",startLevel:6113,endLevel:6128,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-02"},gameplayBackgroundKey:"background_2"},{title:"White Radish",startLevel:6129,endLevel:6144,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Winter Melon",startLevel:6145,endLevel:6160,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"}]},{title:"NORTH MACEDONIA",startLevel:6161,endLevel:6240,textures:{key:"default-resources",frame:"theme-screen/frame-violet"},backgroundCardPayloads:[{title:"Yellow Bell Pepper",startLevel:6161,endLevel:6176,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Yellow Squash",startLevel:6177,endLevel:6192,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"},{title:"Yardlong Bean",startLevel:6193,endLevel:6208,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-02"},gameplayBackgroundKey:"background_2"},{title:"Yu Choy",startLevel:6209,endLevel:6224,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Yellow Zucchini",startLevel:6225,endLevel:6240,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"}]},{title:"MONTENEGRO",startLevel:6241,endLevel:6320,textures:{key:"default-resources",frame:"theme-screen/frame-green"},backgroundCardPayloads:[{title:"Table",startLevel:6241,endLevel:6256,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Chair",startLevel:6257,endLevel:6272,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"},{title:"Sofa",startLevel:6273,endLevel:6288,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-02"},gameplayBackgroundKey:"background_2"},{title:"Desk",startLevel:6289,endLevel:6304,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Bed",startLevel:6305,endLevel:6320,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"}]},{title:"LUXEMBOURG",startLevel:6321,endLevel:6400,textures:{key:"default-resources",frame:"theme-screen/frame-turquoise"},backgroundCardPayloads:[{title:"Lamp",startLevel:6321,endLevel:6336,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Clock",startLevel:6337,endLevel:6352,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"},{title:"Mirror",startLevel:6353,endLevel:6368,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-02"},gameplayBackgroundKey:"background_2"},{title:"Shelf",startLevel:6369,endLevel:6384,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Couch",startLevel:6385,endLevel:6400,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"}]},{title:"ICELAND",startLevel:6401,endLevel:6480,textures:{key:"default-resources",frame:"theme-screen/frame-yellow"},backgroundCardPayloads:[{title:"Cupboard",startLevel:6401,endLevel:6416,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Wardrobe",startLevel:6417,endLevel:6432,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"},{title:"Fan",startLevel:6433,endLevel:6448,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-02"},gameplayBackgroundKey:"background_2"},{title:"Curtain",startLevel:6449,endLevel:6464,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Carpet",startLevel:6465,endLevel:6480,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"}]},{title:"MALTA",startLevel:6481,endLevel:6560,textures:{key:"default-resources",frame:"theme-screen/frame-violet"},backgroundCardPayloads:[{title:"Rug",startLevel:6481,endLevel:6496,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Pillow",startLevel:6497,endLevel:6512,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"},{title:"Blanket",startLevel:6513,endLevel:6528,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-02"},gameplayBackgroundKey:"background_2"},{title:"Drawer",startLevel:6529,endLevel:6544,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Vase",startLevel:6545,endLevel:6560,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"}]},{title:"CYPRUS",startLevel:6561,endLevel:6640,textures:{key:"default-resources",frame:"theme-screen/frame-green"},backgroundCardPayloads:[{title:"Painting",startLevel:6561,endLevel:6576,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Photo Frame",startLevel:6577,endLevel:6592,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"},{title:"Bench",startLevel:6593,endLevel:6608,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-02"},gameplayBackgroundKey:"background_2"},{title:"Stool",startLevel:6609,endLevel:6624,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Television",startLevel:6625,endLevel:6640,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"}]},{title:"FIJI",startLevel:6641,endLevel:6720,textures:{key:"default-resources",frame:"theme-screen/frame-turquoise"},backgroundCardPayloads:[{title:"Remote",startLevel:6641,endLevel:6656,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Computer",startLevel:6657,endLevel:6672,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"},{title:"Laptop",startLevel:6673,endLevel:6688,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-02"},gameplayBackgroundKey:"background_2"},{title:"Phone",startLevel:6689,endLevel:6704,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Tablet",startLevel:6705,endLevel:6720,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"}]},{title:"BRUNEI",startLevel:6721,endLevel:6800,textures:{key:"default-resources",frame:"theme-screen/frame-yellow"},backgroundCardPayloads:[{title:"Charger",startLevel:6721,endLevel:6736,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Keyboard",startLevel:6737,endLevel:6752,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"},{title:"Mouse",startLevel:6753,endLevel:6768,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-02"},gameplayBackgroundKey:"background_2"},{title:"Headphones",startLevel:6769,endLevel:6784,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Speaker",startLevel:6785,endLevel:6800,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"}]},{title:"MALDIVES",startLevel:6801,endLevel:6880,textures:{key:"default-resources",frame:"theme-screen/frame-violet"},backgroundCardPayloads:[{title:"Camera",startLevel:6801,endLevel:6816,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Printer",startLevel:6817,endLevel:6832,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"},{title:"Notebook",startLevel:6833,endLevel:6848,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-02"},gameplayBackgroundKey:"background_2"},{title:"Pen",startLevel:6849,endLevel:6864,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Pencil",startLevel:6865,endLevel:6880,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"}]},{title:"GABON",startLevel:6881,endLevel:6960,textures:{key:"default-resources",frame:"theme-screen/frame-green"},backgroundCardPayloads:[{title:"Eraser",startLevel:6881,endLevel:6896,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Sharpener",startLevel:6897,endLevel:6912,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"},{title:"Ruler",startLevel:6913,endLevel:6928,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-02"},gameplayBackgroundKey:"background_2"},{title:"Scissors",startLevel:6929,endLevel:6944,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Glue",startLevel:6945,endLevel:6960,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"}]},{title:"BOTSWANA",startLevel:6961,endLevel:7040,textures:{key:"default-resources",frame:"theme-screen/frame-turquoise"},backgroundCardPayloads:[{title:"Paper",startLevel:6961,endLevel:6976,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Envelope",startLevel:6977,endLevel:6992,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"},{title:"Folder",startLevel:6993,endLevel:7008,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-02"},gameplayBackgroundKey:"background_2"},{title:"Backpack",startLevel:7009,endLevel:7024,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Suitcase",startLevel:7025,endLevel:7040,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"}]},{title:"ARMENIA",startLevel:7041,endLevel:7120,textures:{key:"default-resources",frame:"theme-screen/frame-yellow"},backgroundCardPayloads:[{title:"Umbrella",startLevel:7041,endLevel:7056,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Wallet",startLevel:7057,endLevel:7072,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"},{title:"Purse",startLevel:7073,endLevel:7088,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-02"},gameplayBackgroundKey:"background_2"},{title:"Watch",startLevel:7089,endLevel:7104,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Glasses",startLevel:7105,endLevel:7120,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"}]},{title:"ALBANIA",startLevel:7121,endLevel:7200,textures:{key:"default-resources",frame:"theme-screen/frame-violet"},backgroundCardPayloads:[{title:"Sunglasses",startLevel:7121,endLevel:7136,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Bottle",startLevel:7137,endLevel:7152,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"},{title:"Mug",startLevel:7153,endLevel:7168,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-02"},gameplayBackgroundKey:"background_2"},{title:"Cup",startLevel:7169,endLevel:7184,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Plate",startLevel:7185,endLevel:7200,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"}]},{title:"ANDORRA",startLevel:7201,endLevel:7280,textures:{key:"default-resources",frame:"theme-screen/frame-green"},backgroundCardPayloads:[{title:"Bowl",startLevel:7201,endLevel:7216,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Spoon",startLevel:7217,endLevel:7232,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"},{title:"Fork",startLevel:7233,endLevel:7248,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-02"},gameplayBackgroundKey:"background_2"},{title:"Knife",startLevel:7249,endLevel:7264,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Chopsticks",startLevel:7265,endLevel:7280,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"}]},{title:"BAHAMAS",startLevel:7281,endLevel:7360,textures:{key:"default-resources",frame:"theme-screen/frame-turquoise"},backgroundCardPayloads:[{title:"Teapot",startLevel:7281,endLevel:7296,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Kettle",startLevel:7297,endLevel:7312,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"},{title:"Pan",startLevel:7313,endLevel:7328,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-02"},gameplayBackgroundKey:"background_2"},{title:"Pot",startLevel:7329,endLevel:7344,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Frying Pan",startLevel:7345,endLevel:7360,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"}]},{title:"BARBADOS",startLevel:7361,endLevel:7440,textures:{key:"default-resources",frame:"theme-screen/frame-yellow"},backgroundCardPayloads:[{title:"Oven",startLevel:7361,endLevel:7376,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Microwave",startLevel:7377,endLevel:7392,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"},{title:"Refrigerator",startLevel:7393,endLevel:7408,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-02"},gameplayBackgroundKey:"background_2"},{title:"Toaster",startLevel:7409,endLevel:7424,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Blender",startLevel:7425,endLevel:7440,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"}]},{title:"BELIZE",startLevel:7441,endLevel:7520,textures:{key:"default-resources",frame:"theme-screen/frame-violet"},backgroundCardPayloads:[{title:"Mixer",startLevel:7441,endLevel:7456,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Washing Machine",startLevel:7457,endLevel:7472,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"},{title:"Iron",startLevel:7473,endLevel:7488,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-02"},gameplayBackgroundKey:"background_2"},{title:"Ironing Board",startLevel:7489,endLevel:7504,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Broom",startLevel:7505,endLevel:7520,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"}]},{title:"BHUTAN",startLevel:7521,endLevel:7600,textures:{key:"default-resources",frame:"theme-screen/frame-green"},backgroundCardPayloads:[{title:"Mop",startLevel:7521,endLevel:7536,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Bucket",startLevel:7537,endLevel:7552,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"},{title:"Dustpan",startLevel:7553,endLevel:7568,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-02"},gameplayBackgroundKey:"background_2"},{title:"Vacuum Cleaner",startLevel:7569,endLevel:7584,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Trash Can",startLevel:7585,endLevel:7600,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"}]},{title:"BOLIVIA",startLevel:7601,endLevel:7680,textures:{key:"default-resources",frame:"theme-screen/frame-turquoise"},backgroundCardPayloads:[{title:"Laundry Basket",startLevel:7601,endLevel:7616,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Soap",startLevel:7617,endLevel:7632,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"},{title:"Towel",startLevel:7633,endLevel:7648,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-02"},gameplayBackgroundKey:"background_2"},{title:"Toothbrush",startLevel:7649,endLevel:7664,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Toothpaste",startLevel:7665,endLevel:7680,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"}]},{title:"BURKINA FASO",startLevel:7681,endLevel:7760,textures:{key:"default-resources",frame:"theme-screen/frame-yellow"},backgroundCardPayloads:[{title:"Shampoo",startLevel:7681,endLevel:7696,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Conditioner",startLevel:7697,endLevel:7712,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"},{title:"Lotion",startLevel:7713,endLevel:7728,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-02"},gameplayBackgroundKey:"background_2"},{title:"Comb",startLevel:7729,endLevel:7744,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Brush",startLevel:7745,endLevel:7760,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"}]},{title:"BURUNDI",startLevel:7761,endLevel:7840,textures:{key:"default-resources",frame:"theme-screen/frame-violet"},backgroundCardPayloads:[{title:"Hanger",startLevel:7761,endLevel:7776,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Clothesline",startLevel:7777,endLevel:7792,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"},{title:"Sewing Machine",startLevel:7793,endLevel:7808,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-02"},gameplayBackgroundKey:"background_2"},{title:"Needle",startLevel:7809,endLevel:7824,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Thread",startLevel:7825,endLevel:7840,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"}]},{title:"CAMBODIA",startLevel:7841,endLevel:7920,textures:{key:"default-resources",frame:"theme-screen/frame-green"},backgroundCardPayloads:[{title:"Button",startLevel:7841,endLevel:7856,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Safety Pin",startLevel:7857,endLevel:7872,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"},{title:"Bandage",startLevel:7873,endLevel:7888,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-02"},gameplayBackgroundKey:"background_2"},{title:"First Aid Kit",startLevel:7889,endLevel:7904,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Thermometer",startLevel:7905,endLevel:7920,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"}]},{title:"CAMEROON",startLevel:7921,endLevel:8e3,textures:{key:"default-resources",frame:"theme-screen/frame-turquoise"},backgroundCardPayloads:[{title:"Flashlight",startLevel:7921,endLevel:7936,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Batteries",startLevel:7937,endLevel:7952,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"},{title:"Candles",startLevel:7953,endLevel:7968,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-02"},gameplayBackgroundKey:"background_2"},{title:"Matches",startLevel:7969,endLevel:7984,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Lighter",startLevel:7985,endLevel:8e3,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"}]},{title:"CAPE VERDE",startLevel:8001,endLevel:8080,textures:{key:"default-resources",frame:"theme-screen/frame-yellow"},backgroundCardPayloads:[{title:"Fire Extinguisher",startLevel:8001,endLevel:8016,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Toolbox",startLevel:8017,endLevel:8032,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"},{title:"Hammer",startLevel:8033,endLevel:8048,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-02"},gameplayBackgroundKey:"background_2"},{title:"Screwdriver",startLevel:8049,endLevel:8064,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Wrench",startLevel:8065,endLevel:8080,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"}]},{title:"COMOROS",startLevel:8081,endLevel:8160,textures:{key:"default-resources",frame:"theme-screen/frame-violet"},backgroundCardPayloads:[{title:"Pliers",startLevel:8081,endLevel:8096,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Tape Measure",startLevel:8097,endLevel:8112,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"},{title:"Level",startLevel:8113,endLevel:8128,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-02"},gameplayBackgroundKey:"background_2"},{title:"Drill",startLevel:8129,endLevel:8144,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Saw",startLevel:8145,endLevel:8160,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"}]},{title:"CONGO",startLevel:8161,endLevel:8240,textures:{key:"default-resources",frame:"theme-screen/frame-green"},backgroundCardPayloads:[{title:"Ladder",startLevel:8161,endLevel:8176,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Wheelbarrow",startLevel:8177,endLevel:8192,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"},{title:"Garden Hose",startLevel:8193,endLevel:8208,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-02"},gameplayBackgroundKey:"background_2"},{title:"Rake",startLevel:8209,endLevel:8224,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Shovel",startLevel:8225,endLevel:8240,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"}]},{title:"DJIBOUTI",startLevel:8241,endLevel:8320,textures:{key:"default-resources",frame:"theme-screen/frame-turquoise"},backgroundCardPayloads:[{title:"Hoe",startLevel:8241,endLevel:8256,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Gloves",startLevel:8257,endLevel:8272,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"},{title:"Helmet",startLevel:8273,endLevel:8288,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-02"},gameplayBackgroundKey:"background_2"},{title:"Bicycle",startLevel:8289,endLevel:8304,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Scooter",startLevel:8305,endLevel:8320,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"}]},{title:"DOMINICA",startLevel:8321,endLevel:8400,textures:{key:"default-resources",frame:"theme-screen/frame-yellow"},backgroundCardPayloads:[{title:"Skateboard",startLevel:8321,endLevel:8336,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Seatbelt",startLevel:8337,endLevel:8352,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"},{title:"Tent",startLevel:8353,endLevel:8368,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-02"},gameplayBackgroundKey:"background_2"},{title:"Sleeping Bag",startLevel:8369,endLevel:8384,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Lantern",startLevel:8385,endLevel:8400,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"}]},{title:"DOMINICAN REPUBLIC",startLevel:8401,endLevel:8480,textures:{key:"default-resources",frame:"theme-screen/frame-violet"},backgroundCardPayloads:[{title:"Map",startLevel:8401,endLevel:8416,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Compass",startLevel:8417,endLevel:8432,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"},{title:"Backpack",startLevel:8433,endLevel:8448,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-02"},gameplayBackgroundKey:"background_2"},{title:"Hiking Boots",startLevel:8449,endLevel:8464,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Binoculars",startLevel:8465,endLevel:8480,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"}]},{title:"ECUADOR",startLevel:8481,endLevel:8560,textures:{key:"default-resources",frame:"theme-screen/frame-green"},backgroundCardPayloads:[{title:"Notebook",startLevel:8481,endLevel:8496,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Pen",startLevel:8497,endLevel:8512,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"},{title:"Wallet",startLevel:8513,endLevel:8528,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-02"},gameplayBackgroundKey:"background_2"},{title:"Keys",startLevel:8529,endLevel:8544,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Charger",startLevel:8545,endLevel:8560,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"}]},{title:"EL SALVADOR",startLevel:8561,endLevel:8640,textures:{key:"default-resources",frame:"theme-screen/frame-turquoise"},backgroundCardPayloads:[{title:"Power Bank",startLevel:8561,endLevel:8576,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Headphones",startLevel:8577,endLevel:8592,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"},{title:"Music Player",startLevel:8593,endLevel:8608,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-02"},gameplayBackgroundKey:"background_2"},{title:"Game Console",startLevel:8609,endLevel:8624,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Joystick",startLevel:8625,endLevel:8640,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"}]},{title:"EQUATORIAL GUINEA",startLevel:8641,endLevel:8720,textures:{key:"default-resources",frame:"theme-screen/frame-yellow"},backgroundCardPayloads:[{title:"Board Game",startLevel:8641,endLevel:8656,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Puzzle",startLevel:8657,endLevel:8672,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"},{title:"Toy",startLevel:8673,endLevel:8688,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-02"},gameplayBackgroundKey:"background_2"},{title:"Doll",startLevel:8689,endLevel:8704,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Action Figure",startLevel:8705,endLevel:8720,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"}]},{title:"ERITREA",startLevel:8721,endLevel:8800,textures:{key:"default-resources",frame:"theme-screen/frame-violet"},backgroundCardPayloads:[{title:"Model Car",startLevel:8721,endLevel:8736,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Drone",startLevel:8737,endLevel:8752,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"},{title:"Kite",startLevel:8753,endLevel:8768,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-02"},gameplayBackgroundKey:"background_2"},{title:"Ball",startLevel:8769,endLevel:8784,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Basketball",startLevel:8785,endLevel:8800,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"}]},{title:"ESWATINI",startLevel:8801,endLevel:8880,textures:{key:"default-resources",frame:"theme-screen/frame-green"},backgroundCardPayloads:[{title:"Soccer Ball",startLevel:8801,endLevel:8816,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Tennis Racket",startLevel:8817,endLevel:8832,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"},{title:"Baseball Bat",startLevel:8833,endLevel:8848,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-02"},gameplayBackgroundKey:"background_2"},{title:"Fishing Rod",startLevel:8849,endLevel:8864,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Golf Club",startLevel:8865,endLevel:8880,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"}]},{title:"ETHIOPIA",startLevel:8881,endLevel:8960,textures:{key:"default-resources",frame:"theme-screen/frame-turquoise"},backgroundCardPayloads:[{title:"Skis",startLevel:8881,endLevel:8896,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Snowboard",startLevel:8897,endLevel:8912,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"},{title:"Surfboard",startLevel:8913,endLevel:8928,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-02"},gameplayBackgroundKey:"background_2"},{title:"Goggles",startLevel:8929,endLevel:8944,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Snorkel",startLevel:8945,endLevel:8960,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"}]},{title:"GRENADA",startLevel:8961,endLevel:9040,textures:{key:"default-resources",frame:"theme-screen/frame-yellow"},backgroundCardPayloads:[{title:"Life Jacket",startLevel:8961,endLevel:8976,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Parasol",startLevel:8977,endLevel:8992,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"},{title:"Picnic Basket",startLevel:8993,endLevel:9008,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-02"},gameplayBackgroundKey:"background_2"},{title:"Cooler",startLevel:9009,endLevel:9024,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Thermos",startLevel:9025,endLevel:9040,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"}]},{title:"GUATEMALA",startLevel:9041,endLevel:9120,textures:{key:"default-resources",frame:"theme-screen/frame-violet"},backgroundCardPayloads:[{title:"Folding Chair",startLevel:9041,endLevel:9056,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Blanket",startLevel:9057,endLevel:9072,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"},{title:"Lantern",startLevel:9073,endLevel:9088,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-02"},gameplayBackgroundKey:"background_2"},{title:"Chocolate",startLevel:9089,endLevel:9104,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Gummy Bears",startLevel:9105,endLevel:9120,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"}]},{title:"GUINEA",startLevel:9121,endLevel:9200,textures:{key:"default-resources",frame:"theme-screen/frame-green"},backgroundCardPayloads:[{title:"Lollipops",startLevel:9121,endLevel:9136,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Marshmallows",startLevel:9137,endLevel:9152,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"},{title:"Licorice",startLevel:9153,endLevel:9168,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-02"},gameplayBackgroundKey:"background_2"},{title:"Caramel",startLevel:9169,endLevel:9184,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Hard Candy",startLevel:9185,endLevel:9200,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"}]},{title:"GUINEA-BISSAU",startLevel:9201,endLevel:9280,textures:{key:"default-resources",frame:"theme-screen/frame-turquoise"},backgroundCardPayloads:[{title:"Cotton Candy",startLevel:9201,endLevel:9216,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Toffee",startLevel:9217,endLevel:9232,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"},{title:"Mints",startLevel:9233,endLevel:9248,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-02"},gameplayBackgroundKey:"background_2"},{title:"Jelly Beans",startLevel:9249,endLevel:9264,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Taffy",startLevel:9265,endLevel:9280,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"}]},{title:"GUYANA",startLevel:9281,endLevel:9360,textures:{key:"default-resources",frame:"theme-screen/frame-yellow"},backgroundCardPayloads:[{title:"M&Ms",startLevel:9281,endLevel:9296,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Fudge",startLevel:9297,endLevel:9312,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"},{title:"Biscotti",startLevel:9313,endLevel:9328,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-02"},gameplayBackgroundKey:"background_2"},{title:"Pocky",startLevel:9329,endLevel:9344,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Maltesers",startLevel:9345,endLevel:9360,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"}]},{title:"HAITI",startLevel:9361,endLevel:9440,textures:{key:"default-resources",frame:"theme-screen/frame-violet"},backgroundCardPayloads:[{title:"Truffles",startLevel:9361,endLevel:9376,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Snickers",startLevel:9377,endLevel:9392,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"},{title:"Twix",startLevel:9393,endLevel:9408,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-02"},gameplayBackgroundKey:"background_2"},{title:"Kit Kat",startLevel:9409,endLevel:9424,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Milk Duds",startLevel:9425,endLevel:9440,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"}]},{title:"HONDURAS",startLevel:9441,endLevel:9520,textures:{key:"default-resources",frame:"theme-screen/frame-green"},backgroundCardPayloads:[{title:"Almond Joy",startLevel:9441,endLevel:9456,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Reese\u2019s",startLevel:9457,endLevel:9472,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"},{title:"Butterfinger",startLevel:9473,endLevel:9488,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-02"},gameplayBackgroundKey:"background_2"},{title:"3 Musketeers",startLevel:9489,endLevel:9504,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Dulce",startLevel:9505,endLevel:9520,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"}]},{title:"IVORY COAST",startLevel:9521,endLevel:9600,textures:{key:"default-resources",frame:"theme-screen/frame-turquoise"},backgroundCardPayloads:[{title:"Fruity Snacks",startLevel:9521,endLevel:9536,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Chocolate Bar",startLevel:9537,endLevel:9552,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"},{title:"Nut Bars",startLevel:9553,endLevel:9568,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-02"},gameplayBackgroundKey:"background_2"},{title:"Rice Krispies",startLevel:9569,endLevel:9584,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Sour Kids",startLevel:9585,endLevel:9600,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"}]},{title:"JAMAICA",startLevel:9601,endLevel:9680,textures:{key:"default-resources",frame:"theme-screen/frame-yellow"},backgroundCardPayloads:[{title:"Candy Canes",startLevel:9601,endLevel:9616,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Jelly Rings",startLevel:9617,endLevel:9632,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"},{title:"Fruit Chews",startLevel:9633,endLevel:9648,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-02"},gameplayBackgroundKey:"background_2"},{title:"Doughnut",startLevel:9649,endLevel:9664,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Churros",startLevel:9665,endLevel:9680,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"}]},{title:"KIRIBATI",startLevel:9681,endLevel:9760,textures:{key:"default-resources",frame:"theme-screen/frame-violet"},backgroundCardPayloads:[{title:"Honeycomb",startLevel:9681,endLevel:9696,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Candy Apple",startLevel:9697,endLevel:9712,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"},{title:"Cotton Floss",startLevel:9713,endLevel:9728,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-02"},gameplayBackgroundKey:"background_2"},{title:"Gummy Worms",startLevel:9729,endLevel:9744,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Peanut Brittle",startLevel:9745,endLevel:9760,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"}]},{title:"LAOS",startLevel:9761,endLevel:9840,textures:{key:"default-resources",frame:"theme-screen/frame-green"},backgroundCardPayloads:[{title:"Chocolate Fudge",startLevel:9761,endLevel:9776,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Chocolate Cake",startLevel:9777,endLevel:9792,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"},{title:"Brownies",startLevel:9793,endLevel:9808,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-02"},gameplayBackgroundKey:"background_2"},{title:"Fruit Roll",startLevel:9809,endLevel:9824,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Sour Patch",startLevel:9825,endLevel:9840,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"}]},{title:"LESOTHO",startLevel:9841,endLevel:9920,textures:{key:"default-resources",frame:"theme-screen/frame-turquoise"},backgroundCardPayloads:[{title:"Candy Corn",startLevel:9841,endLevel:9856,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Brittle",startLevel:9857,endLevel:9872,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"},{title:"Marzipan",startLevel:9873,endLevel:9888,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-02"},gameplayBackgroundKey:"background_2"},{title:"Chocolate Dips",startLevel:9889,endLevel:9904,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Chocolate Drops",startLevel:9905,endLevel:9920,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"}]},{title:"LIBERIA",startLevel:9921,endLevel:1e4,textures:{key:"default-resources",frame:"theme-screen/frame-yellow"},backgroundCardPayloads:[{title:"Chewy Sours",startLevel:9921,endLevel:9936,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Candy Floss",startLevel:9937,endLevel:9952,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"},{title:"Marshmallow Peep",startLevel:9953,endLevel:9968,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-02"},gameplayBackgroundKey:"background_2"},{title:"Coconut Candy",startLevel:9969,endLevel:9984,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-03"},gameplayBackgroundKey:"background_3"},{title:"Lemonheads",startLevel:9985,endLevel:1e4,locked:!1,texture:{key:"default-resources",frame:"theme-screen/card-01"},gameplayBackgroundKey:"background_1"}]}];function ex(e,t){var n="undefined"!==typeof C()&&L()(e)||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){var n;if(!e)return;if("string"===typeof e)return tx(e,t);var r=x()(n=Object.prototype.toString.call(e)).call(n,8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return w()(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tx(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function tx(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var nx=te()($r.Z.GP_BACKGROUND.KEYS),rx=function(e){function t(){for(var t,n,r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=e.call.apply(e,P()(t=[this]).call(t,a))||this).fixedPayloads=void 0,n}(0,o.Z)(t,e);var n=t.prototype;return n.init=function(){this.fixedPayloads=$E},n.getAllScrollerBlockInfo=function(){var e;return De()(e=this.fixedPayloads).call(e,(function(e,t){return{id:String(t)}}))},n.getScrollerBlockPayload=function(e){var t=Number(e),n=this.fixedPayloads[t],r=this.getCurrentGameLevel();return n.backgroundCardPayloads.forEach((function(e){e.locked=r<e.startLevel})),(0,i.Z)({},n)},n.getCurrentGameLevel=function(){return this.game.level.getLevel()},n.getCurrentBlockId=function(){for(var e=this.getCurrentGameLevel(),t=0;t<this.fixedPayloads.length;t++){var n=this.fixedPayloads[t],r=n.startLevel,a=n.endLevel;if(e>=r&&e<=a)return String(t)}return String(this.fixedPayloads.length-1)},n.getBlockIdByLevel=function(e){for(var t=0;t<this.fixedPayloads.length;t++){var n=this.fixedPayloads[t],r=n.startLevel,a=n.endLevel;if(e>=r&&e<=a)return String(t)}return String(this.fixedPayloads.length-1)},n.getMapContentByLevel=function(e){for(var t,n=this.getBlockIdByLevel(e),r=this.getScrollerBlockPayload(n),a=r.title,i=ex(r.backgroundCardPayloads);!(t=i()).done;){var s=t.value,o=s.title,c=s.startLevel,u=s.endLevel,l=s.gameplayBackgroundKey;if(e>=c&&e<=u)return{title:a,subtitle:o,startLevel:c,endLevel:u,gameplayBackgroundKey:l}}},n.getCurBgKeyOfCurrentBlock=function(){for(var e,t=this.getCurrentGameLevel(),n=this.getBlockIdByLevel(t),r=ex(this.getScrollerBlockPayload(n).backgroundCardPayloads);!(e=r()).done;){var a=e.value,i=a.startLevel,s=a.endLevel;if(t>=i&&t<=s)return a.gameplayBackgroundKey}return nx[0]},n.getNextBgKeyOfCurrentBlock=function(){for(var e,t=this.getCurrentGameLevel(),n=this.getCurrentBlockId(),r=-1,a=ex(this.getScrollerBlockPayload(n).backgroundCardPayloads);!(e=a()).done;){var i=e.value,s=i.startLevel,o=i.endLevel;if(t>=s&&t<=o){r=o+1;break}}var c=this.getMapContentByLevel(r);return c?c.gameplayBackgroundKey:nx[0]},t}(Phaser.Plugins.BasePlugin),ax=rx,ix=function(e){return e[mr]},sx=((0,fe.P1)([function(e){return ix(e).active}],(function(e){return e})),(0,fe.P1)([function(e){return ix(e).tournamentId}],(function(e){return e})));(0,fe.P1)([function(e){return ix(e).bestSessionScore}],(function(e){return e})),(0,fe.P1)([function(e){return ix(e).isRequesting}],(function(e){return e}));function ox(e,t){var n="undefined"!==typeof C()&&L()(e)||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){var n;if(!e)return;if("string"===typeof e)return cx(e,t);var r=x()(n=Object.prototype.toString.call(e)).call(n,8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return w()(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cx(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function cx(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ux=function(e){function t(){for(var t,n,r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=e.call.apply(e,P()(t=[this]).call(t,a))||this).tournaments=[],n.worldTournaments=[],n.tournamentsForScroller=[],n.currentTournament=void 0,n.currentPlayerTournamentScore=0,n}(0,o.Z)(t,e);var n=t.prototype;return n.setCurrentPlayerScore=function(e){this.currentPlayerTournamentScore=e},n.preloadTournamentsAsync=function(){var e=(0,s.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.tournamentsForScroller=[],e.prev=1,e.next=4,this.game.facebook.tournament.getTournamentsAsync();case 4:this.tournaments=e.sent,e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),console.warn("preloadTournamentsAsync",e.t0),this.tournaments=[];case 11:return e.abrupt("return",this.tournaments);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(){return e.apply(this,arguments)}}(),n.preloadWorldTournamentsAsync=function(){var e=(0,s.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.tournamentsForScroller=[],!GameCore.Configs.LeadersBoard.UseMock){e.next=4;break}return this.worldTournaments=this.getMockWorldTournaments(),e.abrupt("return",this.worldTournaments);case 4:return e.prev=4,e.next=7,this.getRealWorldTournaments();case 7:this.worldTournaments=e.sent,e.next=14;break;case 10:e.prev=10,e.t0=e.catch(4),console.warn("preloadWorldTournamentsAsync",e.t0),this.worldTournaments=[];case 14:return e.abrupt("return",this.worldTournaments);case 15:case"end":return e.stop()}}),e,this,[[4,10]])})));return function(){return e.apply(this,arguments)}}(),n.getTournaments=function(){return this.tournaments},n.getWorldTournaments=function(){return this.worldTournaments},n.getMockWorldTournaments=function(){var e=Phaser.Math.RND.integerInRange(1,2);return w()({length:e},(function(e,t){var n=(t+1).toString();return{id:n,title:"Tournament "+n.toString(),endTime:Math.round(Date.now()/1e3+100*Math.random()),contextID:n,type:"worldwide",payload:{playerId:"",playerName:"",leaderboardId:n,level:1}}}))},n.getRealWorldTournaments=function(){var e=(0,s.Z)(d().mark((function e(){var t,n,r,a,i,s,o,c,u,l,h,p,f,m,g;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=GameCore.Utils.String.params({limit:100,type:"world_tournament_leaderboard"}),"leaderboards",e.next=4,(0,qe.U)("leaderboards?"+n,{},GameCore.Configs.OtherHost);case 4:if(null==(r=e.sent)||!r.error){e.next=7;break}return e.abrupt("return",[]);case 7:a=null!=(t=null==r?void 0:r.data)?t:[],i=[],s=ox(a);case 10:if((o=s()).done){e.next=41;break}c=o.value,u=void 0,e.prev=13,u=JSON.parse(c.description),e.next=20;break;case 17:return e.prev=17,e.t0=e.catch(13),e.abrupt("continue",39);case 20:if(l=new Date(c.expireAt).getTime(),h=Math.round(l/1e3),!(1e3*h-Date.now()<=0)){e.next=25;break}return e.abrupt("continue",39);case 25:if(f=(p=u).tournamentID,m=p.contextID,e.prev=26,g=parseInt(f),!isNaN(g)){e.next=30;break}return e.abrupt("continue",39);case 30:if(g=parseInt(m),!isNaN(g)){e.next=33;break}return e.abrupt("continue",39);case 33:e.next=38;break;case 35:return e.prev=35,e.t1=e.catch(26),e.abrupt("continue",39);case 38:i.push({id:f,title:c.name,endTime:h,contextID:m,type:"worldwide",payload:{playerId:"",playerName:"",leaderboardId:c._id}});case 39:e.next=10;break;case 41:return e.abrupt("return",i);case 42:case"end":return e.stop()}}),e,null,[[13,17],[26,35]])})));return function(){return e.apply(this,arguments)}}(),n.getTournamentsByType=function(e){var t,n,r=this.game.player.getPlayerId();switch(e){case"you":return Me()(t=this.tournaments).call(t,(function(e){var t=e.getPayload();if(!t)return!1;try{return JSON.parse(t).playerId==r}catch(n){return!1}}));case"friends":return Me()(n=this.tournaments).call(n,(function(e){var t=e.getPayload();if(!t)return!1;try{var n=JSON.parse(t);return n.playerId!=r&&""!=n.playerId}catch(a){return!1}}))}},n.getTournamentsForScroller=function(){var e,t;if(this.tournamentsForScroller.length>0)return this.tournamentsForScroller;var n=this.game.player.getPlayerId(),r=[];return P()(e=[]).call(e,this.getTournamentsByType("friends"),this.getTournamentsByType("you")).forEach((function(e){try{var t,a=e.getPayload();if(!a)return;var i=JSON.parse(a),s=i.playerName;if(!i.leaderboardId)return;r.push({id:e.getID().toString(),title:null!=(t=e.getTitle())?t:s+"'s Tournament",payload:i,type:n==i.playerId?"you":"friends",endTime:e.getEndTime(),contextID:e.getContextID()})}catch(o){console.warn("getScrollerTournaments",o)}})),this.tournamentsForScroller=this.getUniqueTournaments(P()(t=[]).call(t,this.worldTournaments,r)),this.tournamentsForScroller},n.getAllScrollerBlockInfo=function(){var e;return De()(e=this.getTournamentsForScroller()).call(e,(function(e,t){return{id:t.toString()}}))},n.getCurrentBlockId=function(){return"0"},n.joinTournamentAsync=function(){var e=(0,s.Z)(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setCurrentTournament(t),e.prev=1,e.next=4,this.handleJoinTournamentAsync(t);case 4:return e.abrupt("return","success");case 7:if(e.prev=7,e.t0=e.catch(1),this.clearCurrentTournament(),!(0,GameCore.Utils.Valid.isObject)(e.t0)||"USER_INPUT"!==e.t0.code){e.next=13;break}return e.abrupt("return","user-close-popup");case 13:return e.abrupt("return","fail");case 14:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),n.getCurrentTournamentId=function(){var e=this.game.storage.getState();return sx(e)},n.getUniqueTournaments=function(e){var t={};return e.forEach((function(e){var n=e.id;t[n]||(t[n]=e)})),xr()(t)},n.clearCurrentTournament=function(){delete this.currentTournament},n.setCurrentTournament=function(e){this.currentTournament=e},n.getCurrentTournament=function(){var e=(0,s.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.currentTournament){e.next=2;break}return e.abrupt("return",this.currentTournament);case 2:return e.abrupt("return",this.currentTournament);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.getTournamentAsync=function(){var e=(0,s.Z)(d().mark((function e(){var t,n,r,a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.game.facebook.getTournamentAsync();case 2:if(t=e.sent,n=t.getPayload()){e.next=6;break}return e.abrupt("return");case 6:try{r=JSON.parse(n)}catch(i){console.warn("Tournament payload parse error",i)}if(r){e.next=9;break}return e.abrupt("return");case 9:if((a=r).playerName,a.leaderboardId){e.next=12;break}return e.abrupt("return");case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.getLeaderPayloadsAsync=function(){var e=(0,s.Z)(d().mark((function e(t){var n,r,a,i,s,o,c,u,l,h,p,f,m,g,v,y,k,b,E,x,S,A;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=null==(n=this.currentTournament)||null==(n=n.payload)?void 0:n.leaderboardId,a=this.game.player.getPlayer(),i=w()({length:3},(function(e,t){return{playerId:"10",name:"Waiting...",photo:"",score:0,rank:t+1}})),s=[],o=t,e.prev=5,!r){e.next=11;break}return e.next=9,(0,yc.H$)(r,{limit:3});case 9:s=e.sent,s=Me()(s).call(s,(function(e){return e}));case 11:if(!(s.length>0)){e.next=32;break}return c=De()(s).call(s,(function(e){return e.playerId})),e.next=15,this.game.profile.requestProfiles(c);case 15:if(u=this.game.profile.getProfiles(),l=De()(s).call(s,(function(e){var t=e.playerId,n=e.score,r=e.rank,a=u[t];if(!a)return{playerId:t,photo:"",score:parseInt(n),rank:r,name:"Player"};var i=a.name;return{playerId:t,photo:a.photo,score:parseInt(n),rank:r,name:i}})),0!==l.length){e.next=19;break}throw new Error("Leaderboard is empty");case 19:if((h=B()(l).call(l,(function(e){return e.playerId===a.playerId})))&&(o=h.score),l.forEach((function(e,t){i[t]=e})),h||!r){e.next=30;break}return p=a.playerId,f=a.name,m=a.photo,e.next=26,(0,yc.xB)(p,r);case 26:g=e.sent,y=(v=null!=g?g:{}).score,k=void 0===y?t:y,b=v.rank,E=void 0===b?0:b,i[2]={playerId:p,name:f,photo:m,score:parseInt(k),rank:E},o=parseInt(k);case 30:e.next=35;break;case 32:o=Math.max(t,this.currentPlayerTournamentScore),x=a.playerId,S=a.name,A=a.photo,i[0]={playerId:x,name:S,photo:A,score:o,rank:1};case 35:e.next=40;break;case 37:e.prev=37,e.t0=e.catch(5),console.warn("getTournamentRankingsAsync",e.t0);case 40:return this.currentPlayerTournamentScore=o,e.abrupt("return",i);case 42:case"end":return e.stop()}}),e,this,[[5,37]])})));return function(t){return e.apply(this,arguments)}}(),n.getCurrentTournamentScore=function(){return this.currentPlayerTournamentScore},n.handleJoinTournamentAsync=function(){var e=(0,s.Z)(d().mark((function e(t){var n,r,a,i,s,o,c,u,l;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.game,r=n.facebook,a=n.storage,i=t.id,s=t.payload,o=t.endTime,c=(null!=s?s:{}).leaderboardId,u=void 0===c?"":c,e.prev=3,e.prev=4,e.next=7,r.tournament.joinAsync(i.toString());case 7:e.next=13;break;case 9:if(e.prev=9,e.t0=e.catch(4),!GameCore.Utils.Valid.isObject(e.t0)||!GameCore.Utils.Object.hasOwn(e.t0,"code")||"SAME_CONTEXT"===e.t0.code){e.next=13;break}throw e.t0;case 13:return e.next=15,r.getTournamentAsync();case 15:return l=e.sent,e.next=18,a.dispatch(ol(l));case 18:return e.next=20,this.game.player.joinTournament({leaderboardId:u,endTime:o});case 20:e.next=28;break;case 22:throw e.prev=22,e.t1=e.catch(3),console.warn("handleJoinTournamentAsync",e.t1),this.currentTournament=void 0,this.currentPlayerTournamentScore=0,e.t1;case 28:case"end":return e.stop()}}),e,this,[[3,22],[4,9]])})));return function(t){return e.apply(this,arguments)}}(),t}(Phaser.Plugins.BasePlugin),lx=ux,dx=["Enable"],hx=function(e){function t(){return e.apply(this,arguments)||this}(0,o.Z)(t,e);var r=t.prototype;return r.boot=function(){var t=(0,s.Z)(d().mark((function t(){return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.prototype.boot.call(this),this.addExtraGameObjectMethods(),this.addExtraFBInstantFunctions(),this.addPlugins(),t.next=6,this.addDevPlugins();case 6:return t.next=8,this.initAdsAsync();case 8:this.addScenes(),this.addDevScenes(),this.initWorld(),this.initStorage(),this.initLanguage(),this.initVisibilityChangeHandler(),this.initUtils(),this.initRollbar(),this.initConsole(),this.initDebugger(),this.initStatistics(),this.initParticleEditor(),this.initProfilerPlugin(),this.initAdaptivePerformance(),this.initCanvasRecorderPlugin();case 23:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),r.start=function(){e.prototype.start.call(this)},r.addExtraGameObjectMethods=function(){var e=new b(this);e.addKillRevive(),e.addKillReviveGroup(),e.addDrawDebugBox(),e.addSetWorldSize(),e.addSetWorldSizeForContainer(),e.addGetWorldPosition(),e.addHighQuality(),e.addSetLineHeightForBitmapText(),e.addGetLocalPosition(),e.addSetSizeBasedOnDpr(),e.addWaitPromises(),e.addDrawDynamicDebugBox()},r.addExtraFBInstantFunctions=function(){var e=new h.Z(this.facebook);this.facebook.getLocale=e.getLocale,this.facebook.shareAsync=e.shareAsync,this.facebook.inviteAsync=e.inviteAsync,this.facebook.switchAsync=e.switchAsync,this.facebook.chooseAsync=e.chooseAsync,this.facebook.createAsync=e.createAsync,this.facebook.sendMessage=e.sendMessage,this.facebook.getContextID=e.getContextID,this.facebook.getPlayerToken=e.getPlayerToken,this.facebook.matchPlayerAsync=e.matchPlayerAsync,this.facebook.getContextPlayers=e.getContextPlayers,this.facebook.setLoadingProgress=e.setLoadingProgress,this.facebook.attemptToAddShortcut=e.attemptToAddShortcut,this.facebook.attemptToSubscribeBot=e.attemptToSubscribeBot,this.facebook.postSessionScoreAsync=e.postSessionScoreAsync,this.facebook.getRewardedVideoAsync=e.getRewardedVideoAsync,this.facebook.sendNotificationAsync=e.sendNotificationAsync,this.facebook.getInterstitialAdAsync=e.getInterstitialAdAsync,this.facebook.isSupportedAPI=e.isSupportedAPI,e.injectTournament(),this.facebook.progressLoading=new g(this)},r.addPlugins=function(){this.plugins.install("Storage",Dr,!0,"storage"),this.plugins.install("Rollbar",en,!0,"rollbar"),this.plugins.install("AdsManager",Y,!0,"ads"),this.plugins.install("AuthManager",be,!0,"auth"),this.plugins.install("AudioManager",ue,!0,"audio"),this.plugins.install("WorldManager",zr,!0,"world"),this.plugins.install("PlayerManager",Pt,!0,"player"),this.plugins.install("ProfileManager",Gt,!0,"profile"),this.plugins.install("LanguageManager",ya,!0,"lang"),this.plugins.install("AnalyticsManager",Q,!0,"analytics"),this.plugins.install("AdaptivePerformance",Be,!0,"performance"),this.plugins.install("VisibilityChangeHandler",kE,!0,"visibility"),this.plugins.install("LevelManager",JE,!0,"level"),this.plugins.install("MapManager",ax,!0,"map"),this.plugins.install("TournamentManager",lx,!0,"tournament"),this.plugins.installScenePlugin("textStyler",Kr,"textStyler"),this.plugins.installScenePlugin("ScreenManager",hn,"screen"),this.plugins.installScenePlugin("FrameCapture",Te,"frameCapture"),window.SpinePlugin&&this.plugins.installScenePlugin("SpinePlugin",SpinePlugin,"spine"),this.storage=this.plugins.get("Storage"),this.rollbar=this.plugins.get("Rollbar"),this.ads=this.plugins.get("AdsManager"),this.auth=this.plugins.get("AuthManager"),this.audio=this.plugins.get("AudioManager"),this.world=this.plugins.get("WorldManager"),this.player=this.plugins.get("PlayerManager"),this.lang=this.plugins.get("LanguageManager"),this.profile=this.plugins.get("ProfileManager"),this.analytics=this.plugins.get("AnalyticsManager"),this.performance=this.plugins.get("AdaptivePerformance"),this.visibility=this.plugins.get("VisibilityChangeHandler"),this.level=this.plugins.get("LevelManager"),this.map=this.plugins.get("MapManager"),this.tournament=this.plugins.get("TournamentManager")},r.addDevPlugins=function(){var e=(0,s.Z)(d().mark((function e(){var t,r,a,i,s,o;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(GameCore.Utils.Valid.isDebugger()){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Promise.all([n.e(7),n.e(942)]).then(n.bind(n,597));case 4:return t=e.sent.default,e.next=7,Promise.all([n.e(498),n.e(739),n.e(530)]).then(n.bind(n,598));case 7:return r=e.sent.default,e.next=10,n.e(401).then(n.bind(n,599));case 10:return a=e.sent.default,e.next=13,Promise.all([n.e(498),n.e(123)]).then(n.bind(n,600));case 13:return i=e.sent.default,e.next=16,Promise.all([n.e(498),n.e(803)]).then(n.bind(n,601));case 16:return s=e.sent.default,e.next=19,Promise.all([n.e(498),n.e(616),n.e(613)]).then(n.bind(n,602));case 19:o=e.sent.default,this.plugins.install("Console",t,!0,"console"),this.plugins.install("Debugger",r,!0,"debugger"),this.plugins.install("Statistics",a,!0,"statistics"),this.plugins.install("Profiler",i,!0,"profiler"),this.plugins.install("ParticleEditor",s,!0,"particle-editor"),this.plugins.install("CanvasRecorder",o,!0,"canvasRecorder"),this.eruda=this.plugins.get("Console"),this.debugger=this.plugins.get("Debugger"),this.statistics=this.plugins.get("Statistics"),this.profiler=this.plugins.get("Profiler"),this.particleEditor=this.plugins.get("ParticleEditor"),this.canvasRecorder=this.plugins.get("CanvasRecorder");case 32:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),r.addScenes=function(){this.scene.add(fa.C.BOOT_SCENE,Aa,!0),this.scene.add(fa.C.LOAD_SCENE,vE,!1),this.scene.add(fa.C.GAME_SCENE,Jb,!1),this.scene.add(fa.C.GLOBAL_SCENE,$b.Z,!1)},r.addDevScenes=function(){var e=(0,s.Z)(d().mark((function e(){var t,r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(GameCore.Utils.Valid.isDebugger()){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,n.e(638).then(n.bind(n,603));case 4:return t=e.sent.default,e.next=7,n.e(92).then(n.bind(n,604));case 7:r=e.sent.default,this.scene.add(fa.C.TEST_SCENE,t,!1),this.scene.add(fa.C.ANIMATIONS_SCENE,r,!1);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),r.initAdsAsync=function(){var e=(0,s.Z)(d().mark((function e(){var t,n,r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=GameCore.Configs.Ads,e.next=3,this.getAdServiceInstance();case 3:(n=e.sent).setGame(this),r=(0,i.Z)({},t.InterstitialAdOptions),this.ads.configure(n,{enabled:t.Enabled,calculateSafeAreaBottom:t.CalculateSafeAreaBottom,enableRewardVideoResetInterstitial:t.EnableRewardVideoResetInterstitial,interstitialAdOptions:r,rewardAdOptions:t.RewardAdOptions,bannerAdOptions:t.BannerAdOptions});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),r.getAdServiceInstance=function(){var e=(0,s.Z)(d().mark((function e(){var t,r,a,i;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=GameCore.Configs.Ads,r=t.AdService,!t.Mockup.Enable){e.next=6;break}return e.next=4,n.e(131).then(n.bind(n,605));case 4:return a=e.sent.default,e.abrupt("return",a);case 6:if("google"!==r){e.next=19;break}return e.prev=7,e.next=10,this.initGoogleAdInstanceAsync();case 10:if(null===(i=e.sent)){e.next=13;break}return e.abrupt("return",i);case 13:e.next=19;break;case 15:return e.prev=15,e.t0=e.catch(7),console.error("Google Ads failed to load, fallback to GameAdInstance",e.t0),e.abrupt("return",bE.default);case 19:return e.abrupt("return",bE.default);case 20:case"end":return e.stop()}}),e,this,[[7,15]])})));return function(){return e.apply(this,arguments)}}(),r.initGoogleAdInstanceAsync=function(){var e=(0,s.Z)(d().mark((function e(){var t,n,r,a,i,s,o;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("loaded"!==EE.default.initStatus){e.next=2;break}return e.abrupt("return",EE.default);case 2:if(t=GameCore.Configs.Ads.AdServiceConfigs.Google){e.next=6;break}return console.error("Google Ads config not found"),e.abrupt("return",null);case 6:return n=t.DataAdClient,r=t.DataAdChannel,a=t.DataAdBreakTest,i=t.DataAdFrequencyHint,s=t.DataAdHost,o={dataAdClient:n,dataAdChannel:r,dataAdBreakTest:a,dataAdFrequencyHint:i,dataAdHost:s},e.prev=8,EE.default.setGame(this),e.next=12,EE.default.initGoogleAdsAsync(o);case 12:return e.abrupt("return",EE.default);case 15:return e.prev=15,e.t0=e.catch(8),console.error("Google Ads failed to load, fallback to GameAdInstance",e.t0),e.abrupt("return",null);case 19:case"end":return e.stop()}}),e,this,[[8,15]])})));return function(){return e.apply(this,arguments)}}(),r.initWorld=function(){var e=GameCore.Configs.Game,t=e.AutoResize,n=e.PortraitRatio,r=e.PortraitWidth,a=e.PortraitHeight,i=e.LandscapeRatio,s=e.LandscapeWidth,o=e.LandscapeHeight,c=t,u=e.DisableLandscape,l=e.FullSizeOnLandscape,d=n,h=r,p=a,f=i,m=s,g=o;console.info("\ud83d\ude80 > portraitRatio",d),console.info("\ud83d\ude80 > landscapeRatio",f),this.world.configure({autoResize:c,portraitRatio:d,portraitWidth:h,portraitHeight:p,landscapeRatio:f,landscapeWidth:m,landscapeHeight:g,disableLandscape:u,fullSizeOnLandscape:l}),this.world.resize(e.ForcePixelRatio)},r.initStorage=function(){var e=new pa(this);this.storage.setInitiator(e)},r.initLanguage=function(){var e=this.facebook.getLocale();this.lang.configure({locale:e,upperCaseText:!0})},r.initVisibilityChangeHandler=function(){this.visibility.configure()},r.initUtils=function(){this.handlePauseAudio(),this.removeUnusedPipelines()},r.initConsole=function(){GameCore.Utils.Valid.isDebugger()&&(GameCore.Configs.Debugger.ShowConsole&&this.eruda.configure({tool:["console","info"],defaults:{theme:"Dark"}}))},r.initDebugger=function(){if(GameCore.Utils.Valid.isDebugger()){var e=GameCore.Configs.Debugger,t=e.ShowInspector,n=e.ShowMonitoring;(t||n)&&this.debugger.configure(GameCore.Configs.Debugger)}},r.initStatistics=function(){GameCore.Utils.Valid.isDebugger()&&(GameCore.Configs.Statistics.Enable&&this.statistics.configure(GameCore.Configs.Statistics))},r.initParticleEditor=function(){GameCore.Utils.Valid.isDebugger()&&(GameCore.Configs.ParticleEditor.Enable&&this.particleEditor.configure(GameCore.Configs.ParticleEditor))},r.initProfilerPlugin=function(){GameCore.Utils.Valid.isDebugger()&&(GameCore.Configs.ProfilerPlugin.Enable&&this.profiler.configure())},r.initAdaptivePerformance=function(){var e=GameCore.Configs.Performance,t=e.Enable,n=(0,a.Z)(e,dx);if(t){var r=this.world.getPixelRatio();this.performance.configure((0,i.Z)({pixelRatio:r},n)),this.performance.active()}},r.initCanvasRecorderPlugin=function(){var e=this;if(GameCore.Utils.Valid.isDebugger()){var t=GameCore.Configs.CanvasRecorder;if(t.Enable){var n=t.Options,r=n.Type,a=n.Quality,i=n.RecordFps,o=n.SyncFps;this.canvasRecorder.configure({type:r,quality:a,syncFps:o,recordFps:i});var c=document.querySelector("canvas");if(!c)return console.error("Canvas not found");this.canvasRecorder.setCanvas(c);var l=this.canvasRecorder.getOptions(),h=this.canvasRecorder.waitNextFrame;this.canvasRecorder.waitNextFrame=(0,s.Z)(d().mark((function t(){return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!l.syncFps){t.next=5;break}return e.loop.sleep(),t.abrupt("return",new(u())((function(t){e.events.once(Phaser.Core.Events.POST_RENDER,t),e.loop.lastTime=1e3/l.recordFps,e.loop.step()})));case 5:return e.loop.wake(),t.abrupt("return",h.call(e.canvasRecorder));case 7:case"end":return t.stop()}}),t)})))}}},r.initRollbar=function(){var e=GameCore.Configs.Rollbar.Enable;console.warn({isRollbarEnabled:e}),e&&this.rollbar.setup()},r.handlePauseAudio=function(){var e=this;this.sound.pauseOnBlur=!1,this.visibility.addEventVisible((function(){e.audio.playMusic(),e.audio.resumeAllSounds()})),this.visibility.addEventHidden((function(){e.audio.pauseMusic(),e.audio.pauseAllSounds()}))},r.removeUnusedPipelines=function(){var e=this.renderer;if(e instanceof Phaser.Renderer.WebGL.WebGLRenderer){var t=e.pipelines,n=Phaser.Renderer.WebGL.Pipelines;if(n)[n.ROPE_PIPELINE,n.LIGHT_PIPELINE,n.POSTFX_PIPELINE,n.POINTLIGHT_PIPELINE,n.BITMAPMASK_PIPELINE].forEach((function(e){var n;null==(n=t.get(e))||n.destroy(),t.remove(e)}))}},t}(Phaser.Game),px=hx,fx=GameCore.Configs.Debugger.ShowInspector,mx={parent:"app",type:Phaser.AUTO,width:0,height:0,scale:{autoRound:!0},dom:{createContainer:!1},loader:{maxParallelDownloads:6,crossOrigin:"no-cros"},input:{gamepad:!1,keyboard:fx,touch:{capture:!0},smoothFactor:1,activePointers:1,windowEvents:!1},disableContextMenu:!0,render:{pixelArt:!1,antialias:!0,antialiasGL:!0,transparent:!0,desynchronized:!1,powerPreference:"high-performance",clearBeforeRender:!1,roundPixels:!1},plugins:{global:[]}};(0,r.j6)();var gx=setInterval((function(){window.__analyticsInitiated&&(window.__fbGameReady=!1,clearInterval(gx),clearInterval(window.__fbInstantLoadingTimer),GameSDK.setLoadingProgress(30),gtag("event","app_initialize",{send_to:["GA"]}),function(){try{var e=new px(mx);window.game=e}catch(t){(0,r.tO)(t)}}())}),50)},594:function(e,t,n){"use strict";n.d(t,{H$:function(){return y},Z5:function(){return v},aV:function(){return k},xB:function(){return b}});var r=n(78),a=n(37),i=n(122),s=n.n(i),o=n(95),c=n.n(o),u=n(26),l=n.n(u),d=n(431),h=n(118),p=GameCore.Configs,f=p.AppId,m=p.OtherHost,g=p.LeadersBoard,v=function(){var e=(0,a.Z)(l().mark((function e(t){var n,a;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n={appId:f,resetScore:0,numberOfLeaders:15,timezone:"utc+0",sortOrder:"desc",statistics:"max",resettable:"manually",description:"no description"},!g.UseMock){e.next=5;break}return e.next=4,(0,h.qZ)(1e3);case 4:return e.abrupt("return",(0,r.Z)({},n,t,{_id:g.LeaderboardId,type:"app_leaderboard",description:"mockup_leaderboard",createdAt:new Date(Date.now()).toISOString(),updatedAt:new Date(Date.now()).toISOString()}));case 5:return"leaderboards",e.next=8,(0,d.v)("leaderboards",(0,r.Z)({},n,t),{},m);case 8:return a=e.sent,e.abrupt("return",(null==a?void 0:a.data)||{});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=(0,a.Z)(l().mark((function e(t,n){var r,a,i,o,u,p,f,v,y,k,b,E;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===n&&(n={}),r=[],!g.UseMock){e.next=7;break}return e.next=5,(0,h.qZ)(1e3);case 5:return u=(o=n).limit,p=void 0===u?10:u,f=o.offset,v=void 0===f?0:f,e.abrupt("return",s()(a=c()(i=new Array(p)).call(i,null)).call(a,(function(e,t){var n=(t+1)*(v+1),r=g.MockOptions.PlayerEntryIndex===t,a={playerId:"player-0"+n,name:"MPlayer "+n,photo:"./assets/images/others/avatar.jpg",rank:n,score:Math.floor(1e5/n+1e4*Math.random())};if(r){var i=window.game.player.getPlayer(),s=i.playerId,o=i.name,c=i.photo;a.playerId=s,a.name=o,a.photo=c}return a})));case 7:return y=GameCore.Utils.String.params(n),k="leaderboards/"+t+"/leaders",e.next=11,(0,d.U)(k+"?"+y,{},m);case 11:if((b=e.sent)&&(null==b||!b.error)){e.next=14;break}throw new Error((null==b?void 0:b.error)||"Leaderboard not found");case 14:if(!((E=(null==b?void 0:b.data)||[]).length<1)){e.next=17;break}return e.abrupt("return",r);case 17:return r=E,e.abrupt("return",r);case 19:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),k=function(){var e=(0,a.Z)(l().mark((function e(t,n,r){var a;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,d.v)("leaderboards/"+t+"/players/"+n,{score:r},{},m);case 2:return a=e.sent,e.abrupt("return",(null==a?void 0:a.data)||{});case 4:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),b=function(){var e=(0,a.Z)(l().mark((function e(t,n){var r,a,i,s,o;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=null,t){e.next=3;break}return e.abrupt("return",r);case 3:if(a=g.Prefix+"/"+n+"/players"){e.next=6;break}return e.abrupt("return",r);case 6:return i=GameCore.Utils.String.params({playerIds:t}),e.next=9,(0,d.U)(a+"?"+i,{},m);case 9:if(s=e.sent,!((o=(null==s?void 0:s.data)||[]).length<1)){e.next=13;break}return e.abrupt("return",r);case 13:return r=o[0],e.abrupt("return",r);case 15:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},79:function(e,t,n){"use strict";n.d(t,{_:function(){return r}});var r={BUTTON_CLICK:"button_click",SCREEN_OPEN:"screen_open",LOAD_START:"load_start",LOAD_COMPLETE:"load_complete",APP_READY:"app_ready",TUTORIAL_BEGIN:"tutorial_begin",TUTORIAL_STEP:"tutorial_step",TUTORIAL_COMPLETE:"tutorial_complete",MATCH_START:"match_start",MATCH_RESCUE:"match_rescue",MATCH_END:"match_end",LEVEL_START:"level_start",LEVEL_RESCUE:"level_rescue",LEVEL_END:"level_end",LEVEL_STOP:"level_stop",LEVEL_PROGRESS:"level_progress",LEVEL_RESCUE_PROGRESS:"level_rescue_progress",SHARE:"share",MESSAGE:"message",INVITE:"invite",SHORTCUT_CREATE:"shortcut_create",SHORTCUT_CREATE_POPUP:"shortcut_create_popup",BOT_SUBSCRIBE:"bot_subscribe",BOT_SUBSCRIBE_POPUP:"bot_subscribe_popup",AD_LOAD:"ad_load",AD_LOAD_FAILED:"ad_load_failed",AD_SHOW:"ad_show",AD_SHOW_FAILED:"ad_show_failed",MISSING_AD_SHOW:"missing_ad_show",NEW_USER:"new_user",AD_IMPRESSION:"ad_impression",JOIN_GROUP:"join_group",SHOP_WATCH_ADS:"shop_watch_ads",USE_ITEM:"use_item",LOSING:"losing",WINNING:"winning",IMAGE_SCALE_DPR_LOAD:"image_scale_dpr_load",SHOW_ADS:"show_ads",TOURNAMENT_SHARE:"tournament_share",TOURNAMENT_CREATE:"tournament_create",TOURNAMENT_POST_SCORE:"tournament_post_score",PAGE_VIEW:"page_view",PAGE_FOLLOW:"page_follow",GROUP_JOIN:"group_join",SWITCH_SOLO_CONTEXT:"switch_solo_context"}},424:function(e,t,n){"use strict";var r=n(193),a=function(){function e(e,t,n,a){this.playerId=void 0,this.name=void 0,this.photo=void 0,this.locale=void 0,this.playerId=e,this.name=t,this.photo=n||r.Z.AVATAR.FILE,this.locale=a||"en_US"}return e.prototype.toObject=function(){return{playerId:this.playerId,name:this.name,photo:this.photo,locale:this.locale}},e}();t.Z=a},430:function(e,t){"use strict";t.Z={RESIZE:"resize",CHANGE_LAYOUT:"change-layout"}},435:function(e,t,n){"use strict";n.d(t,{I:function(){return a}});var r=n(428),a=function(e){return{type:r.DW,payload:{sceneKey:e}}}},118:function(e,t,n){"use strict";n.d(t,{Gm:function(){return s},ec:function(){return o},qZ:function(){return i}});var r=n(48),a=n.n(r),i=(n(62),function(e){return new(a())((function(t){return setTimeout(t,e)}))}),s=function(e){var t=new Date(e),n=new Date;return t.getDate()===n.getDate()&&t.getMonth()===n.getMonth()&&t.getFullYear()===n.getFullYear()},o=function(e){var t=new Date(e),n=new Date(t.getFullYear(),t.getMonth(),t.getDate()+1),r=new Date;return n.getDate()===r.getDate()&&n.getMonth()===r.getMonth()&&n.getFullYear()===r.getFullYear()}},191:function(e,t,n){"use strict";n.d(t,{R0:function(){return c},Tv:function(){return s},j6:function(){return a},sw:function(){return i},tO:function(){return u}});n(423),n(205),n(63),n(94);var r=!1,a=function(){var e=setInterval((function(){window.Sentry&&(clearInterval(e),console.warn({isSentryEnabled:r}))}),100)},i=function(e,t){window.Sentry&&window.Sentry.addBreadcrumb({category:e,message:t})},s=function(e){window.Sentry&&window.Sentry.setUser(e)},o=function(e){console.error(e)},c=function(e,t){if(e){try{window.game.rollbar.sendException(e,t)}catch(e){}console.error(e)}},u=function(e){if(e){try{window.game.rollbar.sendException(e)}catch(e){}window.Sentry&&o(e)}}},425:function(e,t){"use strict";t.Z={GENERIC_NOTIFICATION:0,NEW_USER_NOTIFICATION:1,MONDAY_NOTIFICATION:2,TUESDAY_NOTIFICATION:3,WEDNESDAY_NOTIFICATION:4,THURSDAY_NOTIFICATION:5,FRIDAY_NOTIFICATION:6,SATURDAY_NOTIFICATION:7,SUNDAY_NOTIFICATION:8}},420:function(e,t){"use strict";t.Z=function(e,t,n){void 0===n&&(n="0");for(var r=e.toString(),a=r.length,i=0;i<t-a;i++)r=n+r;return r}},591:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=JSON.parse('{"data":["Smith","Johnson","Williams","Brown","Jones","Miller","Davis","Garcia","Rodriguez","Wilson","Martinez","Anderson","Taylor","Thomas","Hernandez","Moore","Martin","Jackson","Thompson","White","Lopez","Lee","Gonzalez","Harris","Clark","Lewis","Robinson","Walker","Perez","Hall","Young","Allen","Sanchez","Wright","King","Scott","Green","Baker","Adams","Nelson","Hill","Ramirez","Campbell","Mitchell","Roberts","Carter","Phillips","Evans","Turner","Torres","Parker","Collins","Edwards","Stewart","Flores","Morris","Nguyen","Murphy","Rivera","Cook","Rogers","Morgan","Peterson","Cooper","Reed","Bailey","Bell","Gomez","Kelly","Howard","Ward","Cox","Diaz","Richardson","Wood","Watson","Brooks","Bennett","Gray","James","Reyes","Cruz","Hughes","Price","Myers","Long","Foster","Sanders","Ross","Morales","Powell","Sullivan","Russell","Ortiz","Jenkins","Gutierrez","Perry","Butler","Barnes","Fisher","Henderson","Coleman","Simmons","Patterson","Jordan","Reynolds","Hamilton","Graham","Kim","Gonzales","Alexander","Ramos","Wallace","Griffin","West","Cole","Hayes","Chavez","Gibson","Bryant","Ellis","Stevens","Murray","Ford","Marshall","Owens","Mcdonald","Harrison","Ruiz","Kennedy","Wells","Alvarez","Woods","Mendoza","Castillo","Olson","Webb","Washington","Tucker","Freeman","Burns","Henry","Vasquez","Snyder","Simpson","Crawford","Jimenez","Porter","Mason","Shaw","Gordon","Wagner","Hunter","Romero","Hicks","Dixon","Hunt","Palmer","Robertson","Black","Holmes","Stone","Meyer","Boyd","Mills","Warren","Fox","Rose","Rice","Moreno","Schmidt","Patel","Ferguson","Nichols","Herrera","Medina","Ryan","Fernandez","Weaver","Daniels","Stephens","Gardner","Payne","Kelley","Dunn","Pierce","Arnold","Tran","Spencer","Peters","Hawkins","Grant","Hansen","Castro","Hoffman","Hart","Elliott","Cunningham","Knight","Bradley","Carroll","Hudson","Duncan","Armstrong","Berry","Andrews","Johnston","Ray","Lane","Riley","Carpenter","Perkins","Aguilar","Silva","Richards","Willis","Matthews","Chapman","Lawrence","Garza","Vargas","Watkins","Wheeler","Larson","Carlson","Harper","George","Greene","Burke","Guzman","Morrison","Munoz","Jacobs","Obrien","Lawson","Franklin","Lynch","Bishop","Carr","Salazar","Austin","Mendez","Gilbert","Jensen","Williamson","Montgomery","Harvey","Oliver","Howell","Dean","Hanson","Weber","Garrett","Sims","Burton","Fuller","Soto","Mccoy","Welch","Chen","Schultz","Walters","Reid","Fields","Walsh","Little","Fowler","Bowman","Davidson","May","Day","Schneider","Newman","Brewer","Lucas","Holland","Wong","Banks","Santos","Curtis","Pearson","Delgado","Valdez","Pena","Rios","Douglas","Sandoval","Barrett","Hopkins","Keller","Guerrero","Stanley","Bates","Alvarado","Beck","Ortega","Wade","Estrada","Contreras","Barnett","Caldwell","Santiago","Lambert","Powers","Chambers","Nunez","Craig","Leonard","Lowe","Rhodes","Byrd","Gregory","Shelton","Frazier","Becker","Maldonado","Fleming","Vega","Sutton","Cohen","Jennings","Parks","Mcdaniel","Watts","Barker","Norris","Vaughn","Vazquez","Holt","Schwartz","Steele","Benson","Neal","Dominguez","Horton","Terry","Wolfe","Hale","Lyons","Graves","Haynes","Miles","Park","Warner","Padilla","Bush","Thornton","Mccarthy","Mann","Zimmerman","Erickson","Fletcher","Mckinney","Page","Dawson","Joseph","Marquez","Reeves","Klein","Espinoza","Baldwin","Moran","Love","Robbins","Higgins","Ball","Cortez","Le","Griffith","Bowen","Sharp","Cummings","Ramsey","Hardy","Swanson","Barber","Acosta","Luna","Chandler","Blair","Daniel","Cross","Simon","Dennis","Oconnor","Quinn","Gross","Navarro","Moss","Fitzgerald","Doyle","Mclaughlin","Rojas","Rodgers","Stevenson","Singh","Yang","Figueroa","Harmon","Newton","Paul","Manning","Garner","Mcgee","Reese","Francis","Burgess","Adkins","Goodman","Curry","Brady","Christensen","Potter","Walton","Goodwin","Mullins","Molina","Webster","Fischer","Campos","Avila","Sherman","Todd","Chang","Blake","Malone","Wolf","Hodges","Juarez","Gill","Farmer","Hines","Gallagher","Duran","Hubbard","Cannon","Miranda","Wang","Saunders","Tate","Mack","Hammond","Carrillo","Townsend","Wise","Ingram","Barton","Mejia","Ayala","Schroeder","Hampton","Rowe","Parsons","Frank","Waters","Strickland","Osborne","Maxwell","Chan","Deleon","Norman","Harrington","Casey","Patton","Logan","Bowers","Mueller","Glover","Floyd","Hartman","Buchanan","Cobb","French","Kramer","Mccormick","Clarke","Tyler","Gibbs","Moody","Conner","Sparks","Mcguire","Leon","Bauer","Norton","Pope","Flynn","Hogan","Robles","Salinas","Yates","Lindsey","Lloyd","Marsh","Mcbride","Owen","Solis","Pham","Lang","Pratt","Lara","Brock","Ballard","Trujillo","Shaffer","Drake","Roman","Aguirre","Morton","Stokes","Lamb","Pacheco","Patrick","Cochran","Shepherd","Cain","Burnett","Hess","Li","Cervantes","Olsen","Briggs","Ochoa","Cabrera","Velasquez","Montoya","Roth","Meyers","Cardenas","Fuentes","Weiss","Hoover","Wilkins","Nicholson","Underwood","Short","Carson","Morrow","Colon","Holloway","Summers","Bryan","Petersen","Mckenzie","Serrano","Wilcox","Carey","Clayton","Poole","Calderon","Gallegos","Greer","Rivas","Guerra","Decker","Collier","Wall","Whitaker","Bass","Flowers","Davenport","Conley","Houston","Huff","Copeland","Hood","Monroe","Massey","Roberson","Combs","Franco","Larsen","Pittman","Randall","Skinner","Wilkinson","Kirby","Cameron","Bridges","Anthony","Richard","Kirk","Bruce","Singleton","Mathis","Bradford","Boone","Abbott","Charles","Allison","Sweeney","Atkinson","Horn","Jefferson","Rosales","York","Christian","Phelps","Farrell","Castaneda","Nash","Dickerson","Bond","Wyatt","Foley","Chase","Gates","Vincent","Mathews","Hodge","Garrison","Trevino","Villarreal","Heath","Dalton","Valencia","Callahan","Hensley","Atkins","Huffman","Roy","Boyer","Shields","Lin","Hancock","Grimes","Glenn","Cline","Delacruz","Camacho","Dillon","Parrish","Oneill","Melton","Booth","Kane","Berg","Harrell","Pitts","Savage","Wiggins","Brennan","Salas","Marks","Russo","Sawyer","Baxter","Golden","Hutchinson","Liu","Walter","Mcdowell","Wiley","Rich","Humphrey","Johns","Koch","Suarez","Hobbs","Beard","Gilmore","Ibarra","Keith","Macias","Khan","Andrade","Ware","Stephenson","Henson","Wilkerson","Dyer","Mcclure","Blackwell","Mercado","Tanner","Eaton","Clay","Barron","Beasley","Oneal","Preston","Small","Wu","Zamora","Macdonald","Vance","Snow","Mcclain","Stafford","Orozco","Barry","English","Shannon","Kline","Jacobson","Woodard","Huang","Kemp","Mosley","Prince","Merritt","Hurst","Villanueva","Roach","Nolan","Lam","Yoder","Mccullough","Lester","Santana","Valenzuela","Winters","Barrera","Leach","Orr","Berger","Mckee","Strong","Conway","Stein","Whitehead","Bullock","Escobar","Knox","Meadows","Solomon","Velez","Odonnell","Kerr","Stout","Blankenship","Browning","Kent","Lozano","Bartlett","Pruitt","Buck","Barr","Gaines","Durham","Gentry","Mcintyre","Sloan","Melendez","Rocha","Herman","Sexton","Moon","Hendricks","Rangel","Stark","Lowery","Hardin","Hull","Sellers","Ellison","Calhoun","Gillespie","Mora","Knapp","Mccall","Morse","Dorsey","Weeks","Nielsen","Livingston","Leblanc","Mclean","Bradshaw","Glass","Middleton","Buckley","Schaefer","Frost","Howe","House","Mcintosh","Ho","Pennington","Reilly","Hebert","Mcfarland","Hickman","Noble","Spears","Conrad","Arias","Galvan","Velazquez","Huynh","Frederick","Randolph","Cantu","Fitzpatrick","Mahoney","Peck","Villa","Michael","Donovan","Mcconnell","Walls","Boyle","Mayer","Zuniga","Giles","Pineda","Pace","Hurley","Mays","Mcmillan","Crosby","Ayers","Case","Bentley","Shepard","Everett","Pugh","David","Mcmahon","Dunlap","Bender","Hahn","Harding","Acevedo","Raymond","Blackburn","Duffy","Landry","Dougherty","Bautista","Shah","Potts","Arroyo","Valentine","Meza","Gould","Vaughan","Fry","Rush","Avery","Herring","Dodson","Clements","Sampson","Tapia","Bean","Lynn","Crane","Farley","Cisneros","Benton","Ashley","Mckay","Finley","Best","Blevins","Friedman","Moses","Sosa","Blanchard","Huber","Frye","Krueger","Bernard","Rosario","Rubio","Mullen","Benjamin","Haley","Chung","Moyer","Choi","Horne","Yu","Woodward","Ali","Nixon","Hayden","Rivers","Estes","Mccarty","Richmond","Stuart","Maynard","Brandt","Oconnell","Hanna","Sanford","Sheppard","Church","Burch","Levy","Rasmussen","Coffey","Ponce","Faulkner","Donaldson","Schmitt","Novak","Costa","Montes","Booker","Cordova","Waller","Arellano","Maddox","Mata","Bonilla","Stanton","Compton","Kaufman","Dudley","Mcpherson","Beltran","Dickson","Mccann","Villegas","Proctor","Hester","Cantrell","Daugherty","Cherry","Bray","Davila","Rowland","Levine","Madden","Spence","Good","Irwin","Werner","Krause","Petty","Whitney","Baird","Hooper","Pollard","Zavala","Jarvis","Holden","Haas","Hendrix","Mcgrath","Bird","Lucero","Terrell","Riggs","Joyce","Mercer","Rollins","Galloway","Duke","Odom","Andersen","Downs","Hatfield","Benitez","Archer","Huerta","Travis","Mcneil","Hinton","Zhang","Hays","Mayo","Fritz","Branch","Mooney","Ewing","Ritter","Esparza","Frey","Braun","Gay","Riddle","Haney","Kaiser","Holder","Chaney","Mcknight","Gamble","Vang","Cooley","Carney","Cowan","Forbes","Ferrell","Davies","Barajas","Shea","Osborn","Bright","Cuevas","Bolton","Murillo","Lutz","Duarte","Kidd","Key","Cooke"]}'),a=function(e){return Math.floor(Math.random()*e)},i=function(){if(!r)return"Unknown";if(!r.data)return"Unknown";var e=r.data;if(!Array.isArray(e))return"Unknown";var t=e.length;return e[a(t)]+" "+e[a(t)]}},419:function(e,t){"use strict";t.Z=function(e,t){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789*#%&!",r="",a=e;void 0!=t&&(a-=t.length,r+=t);for(var i=0;i<a;i++){var s=Math.floor(67*Math.random());r+=n.charAt(s)}return r}},437:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(37),a=n(26),i=n.n(a),s=n(48),o=n.n(s);function c(e,t){return u.apply(this,arguments)}function u(){return(u=(0,r.Z)(i().mark((function e(t,n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new(o())((function(e){t.time.delayedCall(n,e)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var i=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}n.m=e,n.amdO={},function(){var e=[];n.O=function(t,r,a,i){if(!r){var s=1/0;for(l=0;l<e.length;l++){r=e[l][0],a=e[l][1],i=e[l][2];for(var o=!0,c=0;c<r.length;c++)(!1&i||s>=i)&&Object.keys(n.O).every((function(e){return n.O[e](r[c])}))?r.splice(c--,1):(o=!1,i<s&&(s=i));if(o){e.splice(l--,1);var u=a();void 0!==u&&(t=u)}}return t}i=i||0;for(var l=e.length;l>0&&e[l-1][2]>i;l--)e[l]=e[l-1];e[l]=[r,a,i]}}(),n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return e+"."+{7:"9e9e706b7a215c3f6130",92:"44f4121a8ff52f084f1e",109:"ec559a9cc3d9a78b9003",123:"593d4ed12e9593866bcd",131:"79508419313994ca2329",302:"f26df0e54e5814f1d65f",401:"d343509260501f459b7b",498:"e68ff26d2b370ebe7d1e",530:"18925f579004673b119e",613:"cf8c050c8c1fca0b9fa5",616:"e2054e7940751d211f8d",638:"d5da2dd41304bbe3adbe",739:"a678b132d2205d910c4e",803:"33868521408de17258fd",942:"eb548cab29fddd7c3274",961:"55cfd9189e0eb53b391a"}[e]+".bundle.js"},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.hmd=function(e){return(e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="game-core:";n.l=function(r,a,i,s){if(e[r])e[r].push(a);else{var o,c;if(void 0!==i)for(var u=document.getElementsByTagName("script"),l=0;l<u.length;l++){var d=u[l];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+i){o=d;break}}o||(c=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,n.nc&&o.setAttribute("nonce",n.nc),o.setAttribute("data-webpack",t+i),o.src=r),e[r]=[a];var h=function(t,n){o.onerror=o.onload=null,clearTimeout(p);var a=e[r];if(delete e[r],o.parentNode&&o.parentNode.removeChild(o),a&&a.forEach((function(e){return e(n)})),t)return t(n)},p=setTimeout(h.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=h.bind(null,o.onerror),o.onload=h.bind(null,o.onload),c&&document.head.appendChild(o)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var r=t.getElementsByTagName("script");if(r.length)for(var a=r.length-1;a>-1&&!e;)e=r[a--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e}(),function(){var e={757:0};n.f.j=function(t,r){var a=n.o(e,t)?e[t]:void 0;if(0!==a)if(a)r.push(a[2]);else{var i=new Promise((function(n,r){a=e[t]=[n,r]}));r.push(a[2]=i);var s=n.p+n.u(t),o=new Error;n.l(s,(function(r){if(n.o(e,t)&&(0!==(a=e[t])&&(e[t]=void 0),a)){var i=r&&("load"===r.type?"missing":r.type),s=r&&r.target&&r.target.src;o.message="Loading chunk "+t+" failed.\n("+i+": "+s+")",o.name="ChunkLoadError",o.type=i,o.request=s,a[1](o)}}),"chunk-"+t,t)}},n.O.j=function(t){return 0===e[t]};var t=function(t,r){var a,i,s=r[0],o=r[1],c=r[2],u=0;if(s.some((function(t){return 0!==e[t]}))){for(a in o)n.o(o,a)&&(n.m[a]=o[a]);if(c)var l=c(n)}for(t&&t(r);u<s.length;u++)i=s[u],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return n.O(l)},r=self.webpackChunkgame_core=self.webpackChunkgame_core||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),n.O(void 0,[216,630,542],(function(){return n(607)})),n.O(void 0,[216,630,542],(function(){return n(608)})),n.O(void 0,[216,630,542],(function(){return n(445)})),n.O(void 0,[216,630,542],(function(){return n(446)})),n.O(void 0,[216,630,542],(function(){return n(609)})),n.O(void 0,[216,630,542],(function(){return n(543)}));var r=n.O(void 0,[216,630,542],(function(){return n(556)}));r=n.O(r)})();